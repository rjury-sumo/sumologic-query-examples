# Salesforce
## Sumo Logic App For: Salesforce
The Sumo Logic App for Salesforce analyzes logs generated by Salesforce Event Monitoring, which provides insight into your Salesforce instance and apps. The App allows you to monitor APEX and API performance, logins, report performance, setup audit activity, user activity, and user agents.
Docs Link: [Salesforce](https://help.sumologic.com/?cid=6004)

## Searches

### Log Searches

- **Activities by User**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **APEX Average Run Time**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **API Actions by User**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **API Login Trend by Type**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Agents 
- **Browser Distribution**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Agents 
- **Browser Trend**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Agents 
- **Consecutive Logins**: from Search: Salesforce/Consecutive Logins 
- **Consecutive Logins**: from Search: Installed Apps/Salesforce/Consecutive Logins 
- **Content Document Sharing**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Created Users**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring 
- **Data,  Users, Security Changes by Admin**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring 
- **Deactivated Users**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring 
- **Failed Logins by Browser**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Agents 
- **Failed Logins by Client IP**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Failed Logins by Platform**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Agents 
- **Last Logins by User**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring 
- **Load by API Type**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **Login Attempt Outlier**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **LoginAs by Source User**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Logins by External Users**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Logins by Location**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Logins by Location**: from Dashboard: Installed Apps/Salesforce/Salesforce - Overview 
- **Logins by Status over Time**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Most Accessed Dashboards**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Most Accessed Documents**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Most Accessed Reports**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Most Active Client IPs**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Most Active Report Viewers**: from Dashboard: Installed Apps/Salesforce/Salesforce - Report Performance 
- **Most Active Users**: from Dashboard: Installed Apps/Salesforce/Salesforce - Logins 
- **Most Content Transferred Documents**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Most Document Attachment Downloads**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Most Downloaded Documents**: from Dashboard: Installed Apps/Salesforce/Salesforce - Overview 
- **Most Exported Reports**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Most Viewed Reports**: from Dashboard: Installed Apps/Salesforce/Salesforce - Report Performance 
- **Most Viewed Reports**: from Dashboard: Installed Apps/Salesforce/Salesforce - Overview 
- **Non-Login Activities**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Content 
- **Non-REST API Actions by Client**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **Password Changes**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring 
- **Platform Distribution**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Agents 
- **Recent Data Management Activities**: from Dashboard: Installed Apps/Salesforce/Salesforce - Setup Audit Activity 
- **Recent Security Control Activities**: from Dashboard: Installed Apps/Salesforce/Salesforce - Setup Audit Activity 
- **Recent User Management Activities**: from Dashboard: Installed Apps/Salesforce/Salesforce - Setup Audit Activity 
- **Report Run Count and Average Run Time (ms)**: from Dashboard: Installed Apps/Salesforce/Salesforce - Report Performance 
- **Reports Exported by User**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring 
- **REST API Calls by URI**: from Dashboard: Installed Apps/Salesforce/Salesforce - Overview 
- **REST API Calls over Time**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **Setup Audit Activity by Section**: from Dashboard: Installed Apps/Salesforce/Salesforce - Setup Audit Activity 
- **Setup Audit Activity by User**: from Dashboard: Installed Apps/Salesforce/Salesforce - Setup Audit Activity 
- **Slowest Classes in APEX SOAP Calls**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **Slowest Pages in APEX Calls**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **SOQL Run Time by URI**: from Dashboard: Installed Apps/Salesforce/Salesforce - APEX and API Performance 
- **Top 10 Active Users**: from Dashboard: Installed Apps/Salesforce/Salesforce - Overview 
- **Top 10 Slowest Reports**: from Dashboard: Installed Apps/Salesforce/Salesforce - Report Performance 
- **User Document Downloads**: from Dashboard: Installed Apps/Salesforce/Salesforce - User Activity - Monitoring

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Salesforce|Activities by User|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "USER\_ID\_DERIVED" <br />\| json "EVENT\_TYPE", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP" as event\_type, src\_user\_id, src\_user<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}")<br />\|count by src\_user, src\_user\_id, event\_type<br />\| format("%s : %s", src\_user, src\_user\_id) as user\_id<br />\| count by user\_id, event\_type<br />\| sort by \_count<br />\| transpose row user\_id column event\_type<br />\|where if ("{{user\_id}}" = "\*", true, user\_id matches "{{user\_id}}")|
|Salesforce|APEX Average Run Time|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "RUN\_TIME" Apex\*<br />\| json "EVENT\_TYPE", "RUN\_TIME" <br />\| where event\_type matches "Apex\*" <br />\| timeslice 1h <br />\| avg(run\_time) as avg\_run\_time by \_timeslice|
|Salesforce|API Actions by User|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" \*API\*<br />\| json "EVENT\_TYPE", "USER\_ID", "CLIENT\_IP", "CLIENT\_ID", "CLIENT\_NAME", "ENTITY\_TYPE", "METHOD", "OPERATION", "OPERATION\_TYPE", "METHOD\_NAME", "USER\_ID\_DERIVED\_LOOKUP", "URI", "REQUEST\_STATUS", "API\_VERSION" nodrop<br />\| where tolowercase(event\_type) matches "\*api\*"<br />\| if (!isNull(client\_id), client\_id, client\_name) as client\_name<br />\| if (!isNull(client\_name), client\_name, entity\_type) as client\_name<br />\| if (!isNull(method), method, operation) as action<br />\| if (!isNull(operation\_type), operation\_type, action) as action<br />\| if (!isNull(method\_name), method\_name, action) as action<br />\| fields -(entity\_type, client\_id, operation\_type, operation, method\_name) <br />\| format("%s - %s", event\_type, action) as action\_combo<br />\| format("%s : %s", user\_id\_derived\_lookup, user\_id) as user\_id<br />\| count by user\_id, action\_combo<br />\| transpose row user\_id column action\_combo|
|Salesforce|API Login Trend by Type|Logs|Installed Apps/Salesforce/Salesforce - User Agents|\_sourceCategory={{Logsdatasource}}   ("\\"EVENT\_TYPE\\":\\"API\\"" or "\\"EVENT\_TYPE\\": \\"API\\"") "API\_TYPE"<br />\| json "API\_TYPE"<br />\| timeslice 12h<br />\| if (api\_type="E","SOAP Enterprise", if(api\_type="D", "Apex Class", if (api\_type="I","SOAP Cross Instance",if(api\_type="l","Live Agent",if (api\_type="M","SOAP Metadata",api\_type))))) as api\_type<br />\| if (api\_type="O","Old SOAP", if(api\_type="P", "SOAP Partner", if (api\_type="R","REST API",if(api\_type="S","SOAP Apex",if (api\_type="T","SOAP Tooling",if (api\_type="X","XmlRPC",if (api\_type="p","SOAP ClientSync",if (api\_type="f","Feed",api\_type)))))))) as api\_type<br />\| count by api\_type, \_timeslice<br />\| transpose row \_timeslice column api\_type|
|Salesforce|Browser Distribution|Logs|Installed Apps/Salesforce/Salesforce - User Agents|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "BROWSER\_TYPE" \| json "BROWSER\_TYPE"<br />\| if (browser\_type matches "\*Windows \*" OR browser\_type matches "\*Win32\*" OR browser\_type matches "\*Win64\*","Windows","") as OS<br />\| if (browser\_type matches "\*Macintosh\*" OR browser\_type matches "\*Darwin/\*" OR browser\_type matches "\*Mac OS\*","MacOS",OS) as OS<br />\| if (browser\_type matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (browser\_type matches "\*Linux\*","Linux",OS) as OS<br />\| if (browser\_type matches "\*iPad\*","iPad",OS) as OS<br />\| if (browser\_type matches "\*iPhone\*","iPhone",OS) as OS<br />\| if (browser\_type matches "\*Android\*","Android",OS) as OS<br />\| if (browser\_type matches "\*Windows Phone\*","Windows Phone",OS) as OS<br />\| if (OS == "","Other",OS) as OS<br />\| if (browser\_type matches "Mozilla/\*; rv:\*)\*","Mozilla","") as Browser<br />\| if (browser\_type matches "\*MSIE\*","Internet Explorer",Browser) as Browser<br />\| if (browser\_type matches "\*Firefox\*","Firefox",Browser) as Browser<br />\| if (browser\_type matches "\*Safari\*","Safari",Browser) as Browser<br />\| if (OS=="Android" AND browser\_type matches "\*WebKit\*","WebKit",Browser) as Browser<br />\| if ((OS=="iPhone" OR OS=="iPad") AND (browser\_type matches "\*Mobile/\*" OR browser\_type matches "\*AppleWebKit\*(KHTML\*Gecko)\*"),"Mobile Safari",Browser) as Browser<br />\| if (browser == "" AND OS=="MacOS" AND browser\_type matches "Mozilla/\* (Macintosh;\*(KHTML, like Gecko)\*","Safari",Browser) as Browser<br />\| if (browser\_type matches "\*MobileSafari/\*","Mobile Safari",Browser) as Browser<br />\| if (browser\_type matches "\*Chrome\*","Chrome",Browser) as Browser<br />\| if (browser\_type matches "Opera\*","Opera",Browser) as Browser<br />\| if (browser\_type matches "Dolphin\*","Dolphin",Browser) as Browser<br />\| if (Browser == "","Other",Browser) as Browser<br />\| count by browser \| sort by \_count desc|
|Salesforce|Browser Trend|Logs|Installed Apps/Salesforce/Salesforce - User Agents|\_sourceCategory={{Logsdatasource}}   "BROWSER\_TYPE" \| json "BROWSER\_TYPE"<br />\| if (browser\_type matches "\*Windows \*" OR browser\_type matches "\*Win32\*" OR browser\_type matches "\*Win64\*","Windows","") as OS<br />\| if (browser\_type matches "\*Macintosh\*" OR browser\_type matches "\*Darwin/\*" OR browser\_type matches "\*Mac OS\*","MacOS",OS) as OS<br />\| if (browser\_type matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (browser\_type matches "\*Linux\*","Linux",OS) as OS<br />\| if (browser\_type matches "\*iPad\*","iPad",OS) as OS<br />\| if (browser\_type matches "\*iPhone\*","iPhone",OS) as OS<br />\| if (browser\_type matches "\*Android\*","Android",OS) as OS<br />\| if (browser\_type matches "\*Windows Phone\*","Windows Phone",OS) as OS<br />\| if (OS == "","Other",OS) as OS<br />\| if (browser\_type matches "Mozilla/\*; rv:\*)\*","Mozilla","") as Browser<br />\| if (browser\_type matches "\*MSIE\*","Internet Explorer",Browser) as Browser<br />\| if (browser\_type matches "\*Firefox\*","Firefox",Browser) as Browser<br />\| if (browser\_type matches "\*Safari\*","Safari",Browser) as Browser<br />\| if (OS=="Android" AND browser\_type matches "\*WebKit\*","WebKit",Browser) as Browser<br />\| if ((OS=="iPhone" OR OS=="iPad") AND (browser\_type matches "\*Mobile/\*" OR browser\_type matches "\*AppleWebKit\*(KHTML\*Gecko)\*"),"Mobile Safari",Browser) as Browser<br />\| if (browser == "" AND OS=="MacOS" AND browser\_type matches "Mozilla/\* (Macintosh;\*(KHTML, like Gecko)\*","Safari",Browser) as Browser<br />\| if (browser\_type matches "\*MobileSafari/\*","Mobile Safari",Browser) as Browser<br />\| if (browser\_type matches "\*Chrome\*","Chrome",Browser) as Browser<br />\| if (browser\_type matches "Opera\*","Opera",Browser) as Browser<br />\| if (browser\_type matches "Dolphin\*","Dolphin",Browser) as Browser<br />\| if (Browser == "","Other",Browser) as Browser<br />\| timeslice 12h \| count by browser, \_timeslice \| transpose row \_timeslice column browser|
|Salesforce|Consecutive Logins|Logs|Salesforce/Consecutive Logins|\_sourceCategory = Labs/Salesforce "\\"EVENT\_TYPE\\":\\"Login\\"" <br />\| json "EVENT\_TYPE", "CLIENT\_IP", "USER\_ID"<br />\| where event\_type="Login"<br />\| lookup latitude, longitude from geo://location on ip=client\_ip<br />\| where !isNull(latitude)<br />\| backshift \_messagetime as t2 \| backshift latitude as lat2 \| backshift longitude as lon2<br />\| where !isNull(t2) and !isNull(lat2) and !isNull(lon2)<br />\| (t2 - \_messagetime)/1000 as time\_delta<br />\| lat2 - latitude as dlat \| lon2 - longitude as dlon<br />\| (sin(dlat/2))\*(sin(dlat/2)) + cos(latitude) \* cos(lat2) \* (sin(dlon/2)) \* (sin(dlon/2)) as a<br />\| 2 \* atan2(sqrt(a), sqrt(1-a)) as c<br />\| 3961 \* c as distance<br />\| formatDate(\_messagetime, "MM/dd/yyyy HH:mm:ss.SSS") as t1 <br />\| formatDate(toLong(t2), "MM/dd/yyyy HH:mm:ss.SSS") as t2 <br />\| first(t1) as time1, first(t2) as time2, first(time\_delta) as time\_delta, first(client\_ip) as client\_ip, first(distance) as distance by user\_id|
|Salesforce|Consecutive Logins|Logs|Installed Apps/Salesforce/Consecutive Logins|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "Login" <br />\| json "EVENT\_TYPE", "CLIENT\_IP", "USER\_ID"<br />\| where event\_type="Login"<br />\| lookup latitude, longitude from geo://location on ip=client\_ip<br />\| where !isNull(latitude)<br />\| backshift \_messagetime as t2 \| backshift latitude as lat2 \| backshift longitude as lon2<br />\| where !isNull(t2) and !isNull(lat2) and !isNull(lon2)<br />\| (t2 - \_messagetime)/1000 as time\_delta<br />\| lat2 - latitude as dlat \| lon2 - longitude as dlon<br />\| (sin(dlat/2))\*(sin(dlat/2)) + cos(latitude) \* cos(lat2) \* (sin(dlon/2)) \* (sin(dlon/2)) as a<br />\| 2 \* atan2(sqrt(a), sqrt(1-a)) as c<br />\| 3961 \* c as distance<br />\| formatDate(\_messagetime, "MM/dd/yyyy HH:mm:ss.SSS") as t1 <br />\| formatDate(toLong(t2), "MM/dd/yyyy HH:mm:ss.SSS") as t2 <br />\| first(t1) as time1, first(t2) as time2, first(time\_delta) as time\_delta, first(client\_ip) as client\_ip, first(distance) as distance by user\_id|
|Salesforce|Content Document Sharing|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "ContentDocumentLink" sharing document<br />\| json "EVENT\_TYPE", "DOCUMENT\_ID", "SHARING\_PERMISSION", "SHARING\_OPERATION" nodrop <br />\| json "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP", "SHARED\_WITH\_ENTITY\_ID", "DOCUMENT\_ID\_DERIVED\_LOOKUP" as src\_user\_id, src\_user, dest\_user, document\_name nodrop<br />\| where event\_type = "ContentDocumentLink"<br />\| if (sharing\_permission matches "V", "View", sharing\_permission) as sharing\_permission<br />\| if (sharing\_permission matches "I", "Inferred", sharing\_permission) as sharing\_permission<br />\| if (sharing\_permission matches "C", "Collaborator", sharing\_permission) as sharing\_permission<br />\| format("%s : %s", sharing\_operation, sharing\_permission) as action<br />\| format("%s : %s", document\_name, document\_id) as document\_id<br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{document\_name}}" = "\*", true, document\_name matches "{{document\_name}}") AND if ("{{document\_id}}" = "\*", true, document\_id matches "{{document\_id}}")<br />\|count by src\_user, action, dest\_user, document\_id|
|Salesforce|Created Users|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section "Manage Users" Action createduser<br />\| json "attributes.type", "CreatedById","CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate", "EVENT\_TYPE" as type, src\_user\_id, src\_user, display, action, section, time, event\_type nodrop<br />\| where type = "SetupAuditTrail" and Section = "Manage Users" and Action = "createduser"<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|count by src\_user, src\_user\_id, display<br />\| format ("%s: %s", src\_user, src\_user\_id) as src\_user<br />\| sort by src\_user asc, display asc<br />\| fields -\_count, src\_user\_id|
|Salesforce|Data,  Users, Security Changes by Admin|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section ("Manage Users" OR "Data Management" OR "Security Controls")<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate", "EVENT\_TYPE" as type, src\_user\_id, src\_user, display, action, section, time, event\_type nodrop<br />\| where type = "SetupAuditTrail"<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|count by Section, Action , Display, src\_user, src\_user\_id<br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user<br />\| count by src\_user, Section, Action, Display<br />\| sort by src\_user asc|
|Salesforce|Deactivated Users|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section "Manage Users" Action deactivateduser<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate" ,"EVENT\_TYPE" as type, src\_user\_id, src\_user, display, action, section, time, event\_type nodrop<br />\| where type = "SetupAuditTrail" and Section = "Manage Users" and Action = "deactivateduser"<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|count by display, src\_user, src\_user\_id<br />\| format ("%s: %s", src\_user, src\_user\_id) as src\_user<br />\| sort by src\_user asc, display asc<br />\| fields -\_count, src\_user\_id|
|Salesforce|Failed Logins by Browser|Logs|Installed Apps/Salesforce/Salesforce - User Agents|\_sourceCategory={{Logsdatasource}}   "BROWSER\_TYPE" "REQUEST\_STATUS" !"\\"REQUEST\_STATUS\\":\\"Success\\"" !"\\"REQUEST\_STATUS\\": \\"S\\""<br />\| json "BROWSER\_TYPE", "REQUEST\_STATUS" <br />\| where request\_status not in ("Success", "S")<br />\| if (browser\_type matches "\*Windows \*" OR browser\_type matches "\*Win32\*" OR browser\_type matches "\*Win64\*","Windows","") as OS<br />\| if (browser\_type matches "\*Macintosh\*" OR browser\_type matches "\*Darwin/\*" OR browser\_type matches "\*Mac OS\*","MacOS",OS) as OS<br />\| if (browser\_type matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (browser\_type matches "\*Linux\*","Linux",OS) as OS<br />\| if (browser\_type matches "\*iPad\*","iPad",OS) as OS<br />\| if (browser\_type matches "\*iPhone\*","iPhone",OS) as OS<br />\| if (browser\_type matches "\*Android\*","Android",OS) as OS<br />\| if (browser\_type matches "\*Windows Phone\*","Windows Phone",OS) as OS<br />\| if (OS == "","Other",OS) as OS<br />\| if (browser\_type matches "Mozilla/\*; rv:\*)\*","Mozilla","") as Browser<br />\| if (browser\_type matches "\*MSIE\*","Internet Explorer",Browser) as Browser<br />\| if (browser\_type matches "\*Firefox\*","Firefox",Browser) as Browser<br />\| if (browser\_type matches "\*Safari\*","Safari",Browser) as Browser<br />\| if (OS=="Android" AND browser\_type matches "\*WebKit\*","WebKit",Browser) as Browser<br />\| if ((OS=="iPhone" OR OS=="iPad") AND (browser\_type matches "\*Mobile/\*" OR browser\_type matches "\*AppleWebKit\*(KHTML\*Gecko)\*"),"Mobile Safari",Browser) as Browser<br />\| if (browser == "" AND OS=="MacOS" AND browser\_type matches "Mozilla/\* (Macintosh;\*(KHTML, like Gecko)\*","Safari",Browser) as Browser<br />\| if (browser\_type matches "\*MobileSafari/\*","Mobile Safari",Browser) as Browser<br />\| if (browser\_type matches "\*Chrome\*","Chrome",Browser) as Browser<br />\| if (browser\_type matches "Opera\*","Opera",Browser) as Browser<br />\| if (browser\_type matches "Dolphin\*","Dolphin",Browser) as Browser<br />\| if (Browser == "","Other",Browser) as Browser<br />\| count by browser \| sort by \_count desc|
|Salesforce|Failed Logins by Client IP|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" Login "REQUEST\_STATUS" "CLIENT\_IP"<br />\| json "EVENT\_TYPE", "REQUEST\_STATUS", "CLIENT\_IP" as event\_type, request\_status, src\_ip<br />\| where event\_type = "Login" and request\_status != "Success"<br />\| count by src\_ip <br />\| sort by \_count desc|
|Salesforce|Failed Logins by Platform|Logs|Installed Apps/Salesforce/Salesforce - User Agents|\_sourceCategory={{Logsdatasource}}   "BROWSER\_TYPE" "REQUEST\_STATUS" !"\\"REQUEST\_STATUS\\":\\"Success\\"" !"\\"REQUEST\_STATUS\\": \\"S\\""<br />\| json "REQUEST\_STATUS", "BROWSER\_TYPE"<br />\| where request\_status not in ("Success", "S")<br />\| if (browser\_type matches "\*Windows \*" OR browser\_type matches "\*Win32\*" OR browser\_type matches "\*Win64\*","Windows","") as OS<br />\| if (browser\_type matches "\*Macintosh\*" OR browser\_type matches "\*Darwin/\*" OR browser\_type matches "\*Mac OS\*","MacOS",OS) as OS<br />\| if (browser\_type matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (browser\_type matches "\*Linux\*","Linux",OS) as OS<br />\| if (browser\_type matches "\*iPad\*","iPad",OS) as OS<br />\| if (browser\_type matches "\*iPhone\*","iPhone",OS) as OS<br />\| if (browser\_type matches "\*Android\*","Android",OS) as OS<br />\| if (browser\_type matches "\*Windows Phone\*","Windows Phone",OS) as OS<br />\| if (OS == "","Other",OS) as OS<br />\| count by os \| sort by \_count desc|
|Salesforce|Last Logins by User|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "Login"<br />\| json "EVENT\_TYPE", "USER\_NAME", "USER\_ID\_DERIVED\_LOOKUP", "API\_TYPE" nodrop<br />\| where event\_type="Login" and isEmpty(api\_type)<br />\| if (isEmpty(user\_name), user\_id\_derived\_lookup, user\_name) as src\_user<br />\|where if ("{{user\_name}}" = "\*", true, user\_name matches "{{user\_name}}") AND if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|max(\_messagetime) as LastLogin by src\_user<br />\| sort by +lastLogin, -src\_user <br />\| limit 50<br />\| formatDate(toLong(LastLogin), "YYYY-MM-dd HH:mm:ss") as LastLogin<br />\| fields src\_user, LastLogin|
|Salesforce|Load by API Type|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" \*API\* <br />\| json "EVENT\_TYPE"<br />\| where tolowercase(event\_type) matches "\*api\*"<br />\| count by event\_type <br />\| sort by \_count, event\_type asc|
|Salesforce|Login Attempt Outlier|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "Login"<br />\| json "EVENT\_TYPE"<br />\| where event\_type = "Login" <br />\| timeslice 1h <br />\| count by \_timeslice <br />\| outlier \_count|
|Salesforce|LoginAs by Source User|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}    "EVENT\_TYPE" "LoginAs"<br />\| json "CLIENT\_IP", "EVENT\_TYPE", "USER\_ID", "DELEGATED\_USER\_NAME", "URI","USER\_ID\_DERIVED\_LOOKUP" as src\_ip, event\_type, dest\_user\_id, src\_user,uri,dest\_user nodrop <br />\| where event\_type = "LoginAs" <br />\| count by src\_user, dest\_user, dest\_user\_id <br />\| format("%s : %s", dest\_user, dest\_user\_id) as dest\_user\_id <br />\| fields -dest\_user <br />\| sort by \_count <br />\| transpose row src\_user column dest\_user\_id|
|Salesforce|Logins by External Users|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}    "EVENT\_TYPE" "Login" "REQUEST\_STATUS" "USER\_NAME"<br />\| json "EVENT\_TYPE", "REQUEST\_STATUS", "USER\_NAME"<br />\| where event\_type = "Login" and !isEmpty(user\_name) and !(user\_name matches "\*@sumologic.com")  <br />\| toLowerCase(user\_name) as user\_name \| user\_name as src\_user<br />\| if (isEmpty(request\_status),"S",request\_status) as request\_status<br />\| if (request\_status = "F", "failure", request\_status) as request\_status<br />\| if (request\_status = "S", "success", request\_status) as request\_status<br />\| if (request\_status = "U", "uninitialized", request\_status) as request\_status <br />\| if (request\_status = "A", "authorization error", request\_status) as request\_status <br />\| if (request\_status = "R", "redirect", request\_status) as request\_status <br />\| if (request\_status = "N", "not found", request\_status) as request\_status <br />\| count by src\_user, request\_status <br />\| transpose row  src\_user column request\_status|
|Salesforce|Logins by Location|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "CLIENT\_IP" LOGIN\*<br />\| json "EVENT\_TYPE", "CLIENT\_IP"  <br />\| where event\_type matches "Login\*" <br />\| count by client\_ip<br />\| lookup latitude, longitude from geo://location on ip=client\_ip<br />\| where !isnull(latitude)|
|Salesforce|Logins by Location|Logs|Installed Apps/Salesforce/Salesforce - Overview|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "CLIENT\_IP" LOGIN\*<br />\| json "EVENT\_TYPE", "CLIENT\_IP"  <br />\| where event\_type matches "Login\*" and !isEmpty(client\_ip)<br />\| count by client\_ip<br />\| lookup latitude, longitude from geo://location on ip=client\_ip <br />\| where !isNull(latitude)|
|Salesforce|Logins by Status over Time|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}    "EVENT\_TYPE" "Login" "REQUEST\_STATUS"<br />\| json "EVENT\_TYPE"<br />\| json "REQUEST\_STATUS"<br />\| where event\_type = "Login" <br />\| timeslice 1h <br />\| if (isEmpty(request\_status),"S",request\_status) as request\_status<br />\| if (request\_status = "F", "failure", request\_status) as request\_status<br />\| if (request\_status = "S", "success", request\_status) as request\_status<br />\| if (request\_status = "U", "uninitialized", request\_status) as request\_status <br />\| if (request\_status = "A", "authorization error", request\_status) as request\_status <br />\| if (request\_status = "R", "redirect", request\_status) as request\_status <br />\| if (request\_status = "N", "not found", request\_status) as request\_status <br />\| count by request\_status, \_timeslice \| transpose row \_timeslice column request\_status|
|Salesforce|Most Accessed Dashboards|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "Dashboard" "DASHBOARD\_ID\_DERIVED" "DASHBOARD\_ID\_DERIVED\_LOOKUP"<br />\| json "EVENT\_TYPE", "DASHBOARD\_ID\_DERIVED", "DASHBOARD\_ID\_DERIVED\_LOOKUP" as event\_type, dashboard\_id, dashboard\_name nodrop<br />\| where event\_type = "Dashboard"<br />\| count by dashboard\_id, dashboard\_name<br />\| format("%s : %s", dashboard\_name, dashboard\_id) as dashboard\_id<br />\| count by dashboard\_id<br />\| sort by \_count desc \| top 20 dashboard\_id by \_count|
|Salesforce|Most Accessed Documents|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "ContentTransfer"<br />\| json "EVENT\_TYPE", "DOCUMENT\_ID\_DERIVED", "DOCUMENT\_ID\_DERIVED\_LOOKUP", "FILE\_TYPE" as event\_type, document\_id, document\_name, file\_type nodrop<br />\| where event\_type = "ContentTransfer"<br />\|where if ("{{document\_name}}" = "\*", true, document\_name matches "{{document\_name}}") AND if ("{{document\_id}}" = "\*", true, document\_id matches "{{document\_id}}")<br />\|count by document\_id, document\_name<br />\| format("%s : %s", document\_name, document\_id) as document\_id<br />\| sort by \_count desc \| top 20 document\_id by \_count|
|Salesforce|Most Accessed Reports|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "Report"<br />\| json "EVENT\_TYPE", "REPORT\_ID\_DERIVED", "REPORT\_ID\_DERIVED\_LOOKUP" as event\_type, report\_id, report\_name nodrop<br />\| where event\_type = "Report"<br />\| count by report\_name, report\_id<br />\| format("%s : %s", report\_name, report\_id) as report\_id<br />\| count by report\_id <br />\| top 20 report\_id by \_count|
|Salesforce|Most Active Client IPs|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}   "CLIENT\_IP" login <br />\| json "CLIENT\_IP" as src\_ip<br />\| count by src\_ip <br />\| where !isEmpty(src\_ip)<br />\| sort by \_count|
|Salesforce|Most Active Report Viewers|Logs|Installed Apps/Salesforce/Salesforce - Report Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "Report" "USER\_ID\_DERIVED" "USER\_ID\_DERIVED\_LOOKUP"<br />\| json "EVENT\_TYPE", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP" as event\_type, user\_id, username <br />\| where event\_type = "Report" <br />\| format("%s : %s", username, user\_id) as user\_id<br />\| count by user\_id \| sort by \_count desc|
|Salesforce|Most Active Users|Logs|Installed Apps/Salesforce/Salesforce - Logins|\_sourceCategory={{Logsdatasource}}   "USER\_NAME"<br />\| json "USER\_NAME" as src\_user<br />\| where src\_user not in ("marketo@sumologic.com", "api@sumologic.com") and !isEmpty(src\_user)<br />\| count by src\_user \| sort by \_count desc|
|Salesforce|Most Content Transferred Documents|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "ContentTransfer"<br />\| json "EVENT\_TYPE", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP", "TRANSACTION\_TYPE", "FILE\_TYPE", "FILE\_PREVIEW\_TYPE", "DOCUMENT\_ID\_DERIVED", "DOCUMENT\_ID\_DERIVED\_LOOKUP" as event\_type, src\_user\_id, src\_user, transaction\_type, file\_type, file\_preview\_type, document\_id, document\_name nodrop<br />\| where event\_type = "ContentTransfer"<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{document\_name}}" = "\*", true, document\_name matches "{{document\_name}}") AND if ("{{document\_id}}" = "\*", true, document\_id matches "{{document\_id}}")<br />\|count by document\_id, document\_name, src\_user, src\_user\_id <br />\| format("%s : %s", document\_name, document\_id) as document\_id<br />\| format("%s : %s", src\_user, src\_user\_id) as user\_id<br />\| count by document\_id, user\_id <br />\| transpose row document\_id column user\_id|
|Salesforce|Most Document Attachment Downloads|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "DocumentAttachmentDownloads"<br />\| json "EVENT\_TYPE", "ENTITY\_ID", "FILE\_NAME", "FILE\_TYPE", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP" as event\_type, entity\_id, file\_name, file\_type, user\_id, username nodrop<br />\| where (event\_type = "DocumentAttachmentDownloads") and !(file\_name matches "Marketo \*") and !(file\_name matches "Zendesk \*")<br />\|where if ("{{file\_name}}" = "\*", true, file\_name matches "{{file\_name}}") AND if ("{{user\_id}}" = "\*", true, user\_id matches "{{user\_id}}")<br />\|count by file\_type, file\_name<br />\| sort by \_count|
|Salesforce|Most Downloaded Documents|Logs|Installed Apps/Salesforce/Salesforce - Overview|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "FILE\_NAME" "FILE\_TYPE" "DocumentAttachmentDownloads" <br />\| json "EVENT\_TYPE", "ENTITY\_ID", "FILE\_NAME", "FILE\_TYPE" , "USER\_ID\_DERIVED"<br />\| where (event\_type="DocumentAttachmentDownloads") and !(file\_name matches "Marketo \*") and !(file\_name matches "Zendesk \*") <br />\| where !(FILE\_TYPE matches "image\*")<br />\| count as Count by FILE\_NAME<br />\| sort by count|
|Salesforce|Most Exported Reports|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "ReportExport"<br />\| json "EVENT\_TYPE", "REPORT\_DESCRIPTION", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP" as event\_type, report\_description, user\_id, username nodrop<br />\| where event\_type = "ReportExport"<br />\| parse field=REPORT\_DESCRIPTION "cust\_name=\*&" as reportName nodrop<br />\|where if ("{{user\_id}}" = "\*", true, user\_id matches "{{user\_id}}")<br />\|count by reportName, username, user\_id<br />\| replace(reportName,"+"," ") as reportName<br />\| format("%s : %s", username, user\_id) as user\_id<br />\| count by reportName, user\_id \| sort by \_count<br />\| transpose row reportName column user\_id|
|Salesforce|Most Viewed Reports|Logs|Installed Apps/Salesforce/Salesforce - Report Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "REPORT\_ID\_DERIVED" Report<br />\| json "EVENT\_TYPE", "REPORT\_ID\_DERIVED", "REPORT\_ID\_DERIVED\_LOOKUP" as event\_type, report\_id, report\_name<br />\| where event\_type = "Report" and !isEmpty(report\_id)<br />\| format("%s : %s", report\_name, report\_id) as report\_id<br />\| count by report\_id <br />\| top 20 report\_id by \_count |
|Salesforce|Most Viewed Reports|Logs|Installed Apps/Salesforce/Salesforce - Overview|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "REPORT\_ID" "REPORT\_ID\_DERIVED\_LOOKUP" "Report"<br />\| json "EVENT\_TYPE", "REPORT\_ID", "REPORT\_ID\_DERIVED\_LOOKUP"  <br />\| where event\_type = "Report" and !isEmpty(report\_id)<br />\| format("%s : %s", report\_id\_derived\_lookup, report\_id) as report\_id<br />\| count by report\_id<br />\| sort by \_count desc <br />\| top 20 report\_id by \_count|
|Salesforce|Non-Login Activities|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Content|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "client\_ip" <br />\| json "EVENT\_TYPE", "CLIENT\_IP", "USER\_ID\_DERIVED", "DELEGATED\_USER\_ID\_DERIVED", "DELEGATED\_USER\_ID\_DERIVED\_LOOKUP" as event\_type, client\_ip, user\_id, delegated\_user\_id\_derived, username nodrop<br />\| where !(event\_type matches "Login\*")<br />\| format("%s : %s",username, user\_id) as user\_id<br />\|where if ("{{user\_id}}" = "\*", true, user\_id matches "{{user\_id}}") AND if ("{{client\_ip}}" = "\*", true, client\_ip matches "{{client\_ip}}")<br />\|count by client\_ip<br />\| lookup latitude, longitude from geo://location on ip=client\_ip <br />\| where !isnull(latitude)|
|Salesforce|Non-REST API Actions by Client|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" \*API\* !RESTAPI <br />\| json "EVENT\_TYPE", "CLIENT\_ID", "CLIENT\_NAME", "ENTITY\_TYPE", "OPERATION\_TYPE", "OPERATION", "METHOD\_NAME", "API\_VERSION", "USER\_ID", "URI", "REQUEST\_STATUS" nodrop<br />\| where tolowercase(event\_type) matches "\*api\*"<br />\| if (!isNull(client\_id), client\_id, client\_name) as client\_name<br />\| if (!isNull(client\_name), client\_name, entity\_type) as client\_name<br />\| if (!isNull(operation\_type), operation\_type, operation) as action<br />\| if (!isNull(method\_name), method\_name, action) as action<br />\| fields -(entity\_type, client\_id, operation\_type, operation, method\_name) <br />\| count by client\_name, action, api\_version<br />\| transpose row api\_version, client\_name column action|
|Salesforce|Password Changes|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section "Manage Users" \*password\*<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate", "EVENT\_TYPE" as type, src\_user\_id, src\_user, display, action, section, time, event\_type nodrop<br />\| where type = "SetupAuditTrail" and Section = "Manage Users" and action matches "\*password\*"<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|count by Display, src\_user, src\_user\_id<br />\| format ("%s: %s", src\_user, src\_user\_id) as src\_user<br />\| sort by Display asc<br />\| fields Display, src\_user|
|Salesforce|Platform Distribution|Logs|Installed Apps/Salesforce/Salesforce - User Agents|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "BROWSER\_TYPE" \| json "BROWSER\_TYPE"<br />\| if (browser\_type matches "\*Windows \*" OR browser\_type matches "\*Win32\*" OR browser\_type matches "\*Win64\*","Windows","") as OS<br />\| if (browser\_type matches "\*Macintosh\*" OR browser\_type matches "\*Darwin/\*" OR browser\_type matches "\*Mac OS\*","MacOS",OS) as OS<br />\| if (browser\_type matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (browser\_type matches "\*Linux\*","Linux",OS) as OS<br />\| if (browser\_type matches "\*iPad\*","iPad",OS) as OS<br />\| if (browser\_type matches "\*iPhone\*","iPhone",OS) as OS<br />\| if (browser\_type matches "\*Android\*","Android",OS) as OS<br />\| if (browser\_type matches "\*Windows Phone\*","Windows Phone",OS) as OS<br />\| if (OS == "","Other",OS) as OS<br />\| count by os \| sort by \_count desc|
|Salesforce|Recent Data Management Activities|Logs|Installed Apps/Salesforce/Salesforce - Setup Audit Activity|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section "Data Management"<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate" as type,src\_user\_id, src\_user, display, action, section, time nodrop<br />\| where type = "SetupAuditTrail" and Section = "Data Management"<br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user<br />\| count by src\_user, display, action, \_messagetime, time  <br />\| sort by -\_messagetime  <br />\| fields -\_count, \_messagetime|
|Salesforce|Recent Security Control Activities|Logs|Installed Apps/Salesforce/Salesforce - Setup Audit Activity|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section "Security Controls"<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate" as type, src\_user\_id, src\_user, display, action, section, time nodrop<br />\| where type = "SetupAuditTrail" and Section = "Security Controls"<br />\| count by src\_user, src\_user\_id, display, action, \_messagetime, time<br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user <br />\| sort by -\_messagetime  <br />\| fields -\_count, \_messagetime, src\_user\_id|
|Salesforce|Recent User Management Activities|Logs|Installed Apps/Salesforce/Salesforce - Setup Audit Activity|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section "Manage Users" <br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section", "CreatedDate" as type, src\_user\_id, src\_user, display, action, section, time nodrop<br />\| where type = "SetupAuditTrail" and Section = "Manage Users"<br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user<br />\| count by src\_user, display, action, \_messagetime, time<br />\| sort by -\_messagetime<br />\| fields -\_count, \_messagetime|
|Salesforce|Report Run Count and Average Run Time (ms)|Logs|Installed Apps/Salesforce/Salesforce - Report Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "RUN\_TIME" Report <br />\| json "EVENT\_TYPE", "RUN\_TIME" <br />\| where event\_type = "Report" <br />\| timeslice 1h<br />\| count, avg(run\_time) as avg\_run\_time by \_timeslice|
|Salesforce|Reports Exported by User|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "ReportExport"<br />\| json "EVENT\_TYPE", "REPORT\_DESCRIPTION", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP" as event\_type, report\_description, src\_user\_id, src\_user nodrop<br />\| where event\_type = "ReportExport" <br />\| parse field = REPORT\_DESCRIPTION "cust\_name=\*&" as reportName nodrop<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|count by src\_user, src\_user\_id, reportName<br />\| replace(reportName,"+"," ") as reportName<br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user<br />\| sort by \_count|
|Salesforce|REST API Calls by URI|Logs|Installed Apps/Salesforce/Salesforce - Overview|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "RestApi" "URI" <br />\| json "EVENT\_TYPE", "URI"<br />\| where EVENT\_TYPE = "RestApi"<br />\| count by URI<br />\| sort by \_count, URI|
|Salesforce|REST API Calls over Time|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" RESTAPI "REQUEST\_STATUS"<br />\| json "EVENT\_TYPE", "CLIENT\_IP", "URI", "REQUEST\_STATUS"<br />\| where EVENT\_TYPE="RestApi"<br />\| timeslice 1h<br />\| count by \_timeslice, request\_status<br />\| transpose row \_timeslice column request\_status|
|Salesforce|Setup Audit Activity by Section|Logs|Installed Apps/Salesforce/Salesforce - Setup Audit Activity|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail Section<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section" as type, src\_user\_id, src\_user, display, action, section nodrop<br />\| where type = "SetupAuditTrail" and !isEmpty(section)<br />\| count by section <br />\| sort by \_count, section|
|Salesforce|Setup Audit Activity by User|Logs|Installed Apps/Salesforce/Salesforce - Setup Audit Activity|\_sourceCategory={{Logsdatasource}}   attributes type SetupAuditTrail<br />\| json "attributes.type", "CreatedById", "CreatedById\_LOOKUP", "Display", "Action", "Section" as type, src\_user\_id, src\_user, display, action, section nodrop<br />\| where type = "SetupAuditTrail" <br />\| format("%s : %s", src\_user, src\_user\_id) as src\_user<br />\| count by src\_user, display<br />\| transpose row src\_user column display |
|Salesforce|Slowest Classes in APEX SOAP Calls|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" Apex\* "CLASS\_NAME" "RUN\_TIME"<br />\| json "EVENT\_TYPE", "CLASS\_NAME", "RUN\_TIME" nodrop<br />\| where event\_type matches "Apex\*" <br />\| avg(run\_time) as avg\_run\_time by class\_name <br />\| sort by avg\_run\_time desc|
|Salesforce|Slowest Pages in APEX Calls|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" Apex\* "RUN\_TIME" "URI"<br />\| json "EVENT\_TYPE", "URI", "RUN\_TIME" <br />\| where event\_type matches "Apex\*" <br />\| avg(run\_time) as avg\_run\_time by uri <br />\| sort by avg\_run\_time desc|
|Salesforce|SOQL Run Time by URI|Logs|Installed Apps/Salesforce/Salesforce - APEX and API Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" Apex\*<br />\| json "EVENT\_TYPE", "URI", "RUN\_TIME", "Query" nodrop <br />\| where event\_type matches "Apex\*" <br />\| count, avg(run\_time) as avg\_run\_time by query, uri|
|Salesforce|Top 10 Active Users|Logs|Installed Apps/Salesforce/Salesforce - Overview|\_sourceCategory={{Logsdatasource}}   "\\"USER\_NAME\\""<br />\| json "USER\_NAME" <br />\| where !isEmpty(user\_name) and user\_name not in ("marketo@sumologic.com", "api@sumologic.com") <br />\| count by user\_name<br />\| top 10 user\_name by \_count|
|Salesforce|Top 10 Slowest Reports|Logs|Installed Apps/Salesforce/Salesforce - Report Performance|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "REPORT\_ID\_DERIVED" "RUN\_TIME" Report<br />\| json "EVENT\_TYPE", "REPORT\_ID\_DERIVED", "RUN\_TIME", "REPORT\_ID\_DERIVED\_LOOKUP" as event\_type, report\_id, run\_time, report\_id\_lookup<br />\| where event\_type = "Report" and !isEmpty(report\_id)<br />\| format("%s : %s", report\_id\_lookup, report\_id) as report\_id<br />\| avg(run\_time) as avg\_run\_time by report\_id <br />\| sort by avg\_run\_time desc <br />\| top 10 report\_id by avg\_run\_time|
|Salesforce|User Document Downloads|Logs|Installed Apps/Salesforce/Salesforce - User Activity - Monitoring|\_sourceCategory={{Logsdatasource}}   "EVENT\_TYPE" "DocumentAttachmentDownloads" "FILE\_NAME" "FILE\_TYPE"<br />\| json "EVENT\_TYPE", "ENTITY\_ID", "FILE\_NAME", "FILE\_TYPE", "USER\_ID\_DERIVED", "USER\_ID\_DERIVED\_LOOKUP" as event\_type, entity\_id, file\_name, file\_type, src\_user\_id, src\_user nodrop<br />\| where (event\_type="DocumentAttachmentDownloads") and !(file\_name matches "Marketo \*") and !(file\_name matches "Zendesk \*") and !(FILE\_TYPE matches "image\*")<br />\|where if ("{{src\_user}}" = "\*", true, src\_user matches "{{src\_user}}") AND if ("{{event\_type}}" = "\*", true, event\_type matches "{{event\_type}}")<br />\|count by src\_user, src\_user\_id, FILE\_NAME<br />\| format ("%s : %s", src\_user, src\_user\_id) as src\_user<br />\| sort by src\_user asc<br />\| fields src\_user, FILE\_NAME|

