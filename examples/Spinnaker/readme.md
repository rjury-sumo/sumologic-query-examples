# Spinnaker
## Sumo Logic App For: Spinnaker
Spinnaker is a continuous delivery and infrastructure management platform for hybrid-cloud, multi-cloud, and Kubernetes. Leverage Spinnaker to deploy with more consistency, automation, and safety, increasing your pace of software innovation by orders of magnitude.
Docs Link: [Spinnaker](https://docs.armory.io/continuous-deployment/armory-admin/observe/integrations-sumologic/)

## Searches

### Log Searches

- **Active Apps**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Apps**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Clusters**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Clusters**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Pipelines**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Pipelines**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Users**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Active Users**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Activity by App**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **API Calls by Cluster**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **API Calls by Pipeline**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **API Calls by User**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Overview 
- **Canaries**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity 
- **Distinct User by Day**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity 
- **Errors**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Failed Tasks**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Manual Judgments**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity 
- **Pipeline Execution History**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Pipeline Execution History Comparison**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Pipeline Runs by User**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity 
- **Pipelines Complete**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Pipelines Executed by Name**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Pipelines Failed (not Cancelled)**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **Pipelines Trigger Type**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity 
- **RollBacks**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity 
- **Stage History**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - Pipelines 
- **User Activity**: from Dashboard: Installed Apps/Spinnaker/Spinnaker - User Activity

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Spinnaker|Active Apps|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  application<br />\| json "content.uri" as content\_uri<br />\| where content\_uri contains "/applications/"<br />\| parse regex field=content\_uri "\\/applications\\/(?\<application\>.+?)/.+"<br />\| timeslice 1d<br />\|where application matches "{{application}}"<br />\|count\_distinct(application) as applications by \_timeslice|
|Spinnaker|Active Apps|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  application<br />\| json field=\_raw "content.uri"  as content\_uri<br />\| where content\_uri contains "/applications/"<br />\| parse regex field=content\_uri "\\/applications\\/(?\<application\>.+?)/.+"<br />\|where application matches "{{application}}"<br />\|count\_distinct(application)|
|Spinnaker|Active Clusters|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  deploy account name <br />\| parse regex "deploy.account.name\\"\\:\\"(?\<cluster\>.+?)\\".+"<br />\|where cluster matches "{{cluster}}"<br />\|count\_distinct(%cluster) as clusters|
|Spinnaker|Active Clusters|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop<br />\| parse regex "deploy.account.name\\"\\:\\"(?\<cluster\>.+?)\\".+"<br />\| timeslice 1d<br />\|where cluster matches "{{cluster}}"<br />\|count\_distinct(%cluster) as clusters by \_timeslice|
|Spinnaker|Active Pipelines|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  content execution name<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop<br />\| where pipeline!=""<br />\| timeslice 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count\_distinct(pipeline) as pipelines by \_timeslice|
|Spinnaker|Active Pipelines|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json field=\_raw "content.execution.name" as pipeline<br />\|where pipeline matches "{{pipeline}}"<br />\|count\_distinct(pipeline) as pipelines|
|Spinnaker|Active Users|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  content user <br />\| json field=\_raw "content.user" as user<br />\|where user matches "{{user}}"<br />\|count\_distinct(user) as Users|
|Spinnaker|Active Users|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  content user <br />\| json field=\_raw "content.user" as user<br />\| timeslice 1d<br />\|where user matches "{{user}}"<br />\|count\_distinct(user) as users by \_timeslice|
|Spinnaker|Activity by App|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  application<br />\| json field=\_raw "details.type" as type<br />\| json field=\_raw "content.uri"  as content\_uri<br />\| where content\_uri contains "/applications/"<br />\| parse regex field=content\_uri "\\/applications\\/(?\<application\>.+?)/.+"<br />\| timeslice 1d<br />\|where application matches "{{application}}"<br />\|count \_timeslice, application<br />\| transpose row \_timeslice column application|
|Spinnaker|API Calls by Cluster|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|(\_sourceCategory={{Logsdatasource}} ) orca task <br />\| json field=\_raw  "content.execution.name", "details.type"as pipeline, logtype nodrop <br />\| json field=\_raw "\$['content']['context']['deploy.account.name']" as cluster<br />\| where logType contains "orca:task"<br />\| timeslice 1d<br />\|where cluster matches "{{cluster}}"<br />\|count by \_timeslice, cluster<br />\| transpose row \_timeslice column cluster|
|Spinnaker|API Calls by Pipeline|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  pipeline content execution type <br />\| json field=\_raw "content.execution.type" as type \| where type="PIPELINE"<br />\| json field=\_raw "content.execution.name" as Pipeline<br />\| timeslice 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count by \_timeslice, %pipeline<br />\| transpose row \_timeslice column %pipeline|
|Spinnaker|API Calls by User|Logs|Installed Apps/Spinnaker/Spinnaker - Overview|\_sourceCategory={{Logsdatasource}}  authentication user <br />\| json field=\_raw "content.execution.authentication.user" as User \| if (isNull(%User), "spinnaker",user) as user<br />\| timeslice 1d<br />\|where user matches "{{user}}"<br />\|count by \_timeslice, user<br />\| transpose row \_timeslice column user|
|Spinnaker|Canaries|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}}  type runCanary<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop<br />\| where logType="orca:pipeline:complete"<br />\| timeslice 1d<br />\|where application matches "{{application}}"<br />\|count by \_timeslice|
|Spinnaker|Distinct User by Day|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}} <br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name","content.user" as status,application,logType,pipeline,user nodrop<br />\| where user != "anonymous" and !isNull(user)<br />\| timeslice by 1d<br />\|where application matches "{{application}}"<br />\|count\_distinct(user) as user group by \_timeslice|
|Spinnaker|Errors|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}  content  context exception details errors<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop <br />\| json field=\_raw "content.context.exception.details.errors" as error \| where error != "[]"<br />\|count by error \| order by \_count desc|
|Spinnaker|Failed Tasks|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}  orca task failed content context exception operation<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name","content.context.exception.operation" as status,application,logType,pipeline, task nodrop <br />\| where logType contains "orca:task:failed" and task!=""<br />\|where pipeline matches "{{pipeline}}"<br />\|count by task \| order by \_count desc|
|Spinnaker|Manual Judgments|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}}  "manualJudgment" details type<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop<br />\| where logType="orca:stage:complete"<br />\| timeslice 1d<br />\|where application matches "{{application}}"<br />\|count by \_timeslice|
|Spinnaker|Pipeline Execution History|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}  orca pipeline<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop \| where status != "RUNNING" and logType contains "orca:pipeline"<br />\| timeslice by 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count by Status, \_timeslice<br />\| transpose row \_timeslice column Status|
|Spinnaker|Pipeline Execution History Comparison|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}  orca pipeline<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop<br />\| where logType contains "orca:pipeline"<br />\|where pipeline matches "{{pipeline}}"<br />\|count by status <br />\| compare with timeshift 14d<br />\| \_count as  %"Last 14 Days" \| \_count\_14d as %"Previous 14 Days" \| fields -\_count,\_count\_14d|
|Spinnaker|Pipeline Runs by User|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}}  orca pipeline complete<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name","content.execution.authentication.user" as status,application,logType,pipeline,user2 nodrop<br />\| where logType = "orca:pipeline:complete"<br />\| if (ISNULL(user2), "anonymous", user2) as user<br />\|where application matches "{{application}}"<br />\|count by user \| order by \_count desc|
|Spinnaker|Pipelines Complete|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}  orca pipeline complete<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name"as status,application,logType,pipeline nodrop <br />\| where logType contains "orca:pipeline:complete"<br />\| timeslice 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count by \_timeslice, application<br />\| transpose row \_timeslice column application|
|Spinnaker|Pipelines Executed by Name|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}   orca pipeline starting<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name","content.execution.trigger.type","content.execution.authentication.user" as status,application,logType,pipeline, triggerType, user nodrop <br />\| where logType = "orca:pipeline:starting"<br />\| timeslice by 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count by \_timeslice, pipeline<br />\| transpose row \_timeslice column pipeline|
|Spinnaker|Pipelines Failed (not Cancelled)|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}   orca pipeline failed <br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name"as status,application,logType,pipeline nodrop <br />\| where logType contains "orca:pipeline:failed" and status != "CANCELED"<br />\| timeslice 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count by \_timeslice, application<br />\| transpose row \_timeslice column application|
|Spinnaker|Pipelines Trigger Type|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}}  and  "jenkins" "orca:pipeline:starting" <br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name","content.execution.authentication.user","content.execution.trigger.type" as status,application,logType,pipeline,user,triggerType nodrop<br />\| where logType = "orca:pipeline:starting"<br />\| timeslice by 1d<br />\|where application matches "{{application}}"<br />\|count by \_timeslice, triggerType<br />\| transpose row \_timeslice column triggerType|
|Spinnaker|RollBacks|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}}  and "undoRolloutManifest"<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop<br />\| where logType contains "orca:stage:complete" <br />\| timeslice 1d<br />\|where application matches "{{application}}"<br />\|count by \_timeslice|
|Spinnaker|Stage History|Logs|Installed Apps/Spinnaker/Spinnaker - Pipelines|\_sourceCategory={{Logsdatasource}}  orca stage details type<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name" as status,application,logType,pipeline nodrop <br />\| where logType contains "orca:stage" <br />\| timeslice by 1d<br />\|where pipeline matches "{{pipeline}}"<br />\|count by \_timeslice, logType<br />\| transpose row \_timeslice column logType|
|Spinnaker|User Activity|Logs|Installed Apps/Spinnaker/Spinnaker - User Activity|\_sourceCategory={{Logsdatasource}}  content user<br />\| json field=\_raw "content.execution.status","content.execution.application","details.type","content.execution.name","content.user" as status,application,logType,pipeline,user nodrop<br />\| where user != "anonymous" and !isNull(user)<br />\| timeslice by 1d<br />\|where application matches "{{application}}"<br />\|count\_distinct(\_timeslice) as days by user<br />\| order by days desc|

