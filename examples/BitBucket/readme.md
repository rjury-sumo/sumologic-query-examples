# BitBucket
## Sumo Logic App For: BitBucket
Bitbucket is a web-based repository for source code and development projects. Bitbucket provides a web platform for the teams to plan projects, collaborate on code, test, and deploy. The Sumo Logic App for Bitbucket provides insights into project management to more effectively plan the deployments. The pre-configured dashboards organize issues and builds that require the most attention. It helps you to understand the state of deployment, builds and the issues associated with it.
Docs Link: [BitBucket](https://help.sumologic.com/?cid=1998)

## Searches

### Log Searches

- **‎Avg time to close PRs by Repo**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Avg Time to Close PRs by Reviewers**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **BitBucket Events**: from Search: BitBucket/BitBucket Events 
- **Blockers by Repository**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Build - 7 Day Comparison**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Build State**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Build States by Repository**: from Dashboard: BitBucket/Bitbucket - Builds 
- **Build Summary**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Builds Over Time**: from Dashboard: BitBucket/Bitbucket - Builds 
- **Deployment (s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Deployment by Status and Environment**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Deployment Summary**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Deployment(s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Deployment(s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Deployment(s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Deployment(s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Deployment(s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Failed Builds**: from Dashboard: BitBucket/Bitbucket - Builds 
- **Failed Builds**: from Dashboard: BitBucket/Bitbucket - Builds 
- **‎Failed Deployment(s)‎**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Failed Deployment(s)**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **‎‎Failed Deployment(s)‎‎**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Failed Deployments to Production**: from Search: BitBucket/Failed Deployments to Production 
- **Issue Summary**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issue Trend**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Issues**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues by Assignee**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues by Priority**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues by Project**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues by Type**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues Created by Repository**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Issues Escalated to Blocker**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues Escalated to Blocker**: from Dashboard: BitBucket/Bitbucket - Issues 
- **Issues Over Time**: from Dashboard: BitBucket/Bitbucket - Issues 
- **One Day Comparison**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **One Day Comparison**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **One Day Comparison**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Production Deployments**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Pull Request - 7 day Comparison**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Pull Request - Declined**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Request - Events**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Request - Merged**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Request Trend**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Pull Requests - Opened**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Requests Created**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Requests Created and Fulfilled**: from Dashboard: BitBucket/Bitbucket - Overview 
- **Pull Requests Declined**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Requests Merged**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **Pull Requests Opened and Merged by Repository**: from Dashboard: BitBucket/Bitbucket - Pull Requests 
- **‎Success Deployment(s)‎**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **‎‎‎Success Deployment(s)‎‎‎**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **‎‎Success Deployment(s)‎‎**: from Dashboard: BitBucket/Bitbucket  - Deployments 
- **Successful Builds**: from Dashboard: BitBucket/Bitbucket - Builds 
- **Successful Builds**: from Dashboard: BitBucket/Bitbucket - Builds 
- **Successful Deploy trends**: from Dashboard: BitBucket/Bitbucket  - Deployments

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|BitBucket|‎Avg time to close PRs by Repo|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:fulfilled"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.updated\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, merge\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| parse regex field=create\_time "(?\<create\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=merge\_time "(?\<merge\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parseDate(create\_time, "yyyy-MM-dd'T'HH:mm:ss") as PR\_Create\_milliseconds<br />\| parseDate(merge\_time, "yyyy-MM-dd'T'HH:mm:ss") as PR\_Merge\_milliseconds<br />\| PR\_Merge\_milliseconds - PR\_Create\_milliseconds as ms\_to\_close\_PR<br />\| ms\_to\_close\_PR/3600000 as hours\_to\_close\_PR<br />\| avg (hours\_to\_close\_PR) as avg\_hours\_to\_close\_PR by  repo\_name<br />\| format( "%.2f",avg\_hours\_to\_close\_PR) as avg\_hours\_to\_close\_PR<br />\| fields repo\_name, avg\_hours\_to\_close\_PR<br />\| sort by avg\_hours\_to\_close\_PR|
|BitBucket|Avg Time to Close PRs by Reviewers|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:fulfilled"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.updated\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, merge\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| parse regex field=create\_time "(?\<create\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=merge\_time "(?\<merge\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parseDate(create\_time, "yyyy-MM-dd'T'HH:mm:ss") as PR\_Create\_milliseconds<br />\| parseDate(merge\_time, "yyyy-MM-dd'T'HH:mm:ss") as PR\_Merge\_milliseconds<br />\| PR\_Merge\_milliseconds - PR\_Create\_milliseconds as ms\_to\_close\_PR<br />\| ms\_to\_close\_PR/3600000 as hours\_to\_close\_PR<br />\| avg (hours\_to\_close\_PR) as avg\_hours\_to\_close\_PR by  reviewers<br />\| format( "%.2f",avg\_hours\_to\_close\_PR) as avg\_hours\_to\_close\_PR<br />\| fields reviewers, avg\_hours\_to\_close\_PR<br />\| sort by avg\_hours\_to\_close\_PR|
|BitBucket|BitBucket Events|Logs|BitBucket/BitBucket Events|\_sourceCategory = Labs/bitbucket<br />\| count by  %"x-event-key"|
|BitBucket|Blockers by Repository|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket ( %"x-event-key"="issue:updated" or  %"x-event-key"="issue:created")<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id", "changes" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id, changes nodrop<br />\| json field=changes "priority.old", "priority.new" as issue\_priority\_old, issue\_priority\_new nodrop<br />\| where issue\_priority\_new="blocker" or issue\_priority="blocker"<br />\| tourl(repo\_link, repo\_name) as repo<br />\| tourl(issue\_link, issue\_title) as issue<br />\| count by repo\_name|
|BitBucket|Build - 7 Day Comparison|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* display\_name full\_name !INPROGRESS !STOPPED<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where build\_state in ("SUCCESSFUL", "FAILED")<br />\| parse regex field=date\_time "(?\<date\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=build\_commit\_message "(?\<commit\_msg\_short\>.+)"<br />\| tourl(commit\_link, commit\_msg\_short) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count as count by  build\_state<br />\| compare with timeshift 7d<br />\| count\_7d as count\_last\_week<br />\| fields -count\_7d|
|BitBucket|Build State|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* ("SUCCESSFUL" OR "FAILED")<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where build\_state in ("SUCCESSFUL", "FAILED")<br />\| tourl(commit\_link, build\_commit\_message) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count by  build\_state<br />|
|BitBucket|Build States by Repository|Logs|BitBucket/Bitbucket - Builds|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* display\_name full\_name !INPROGRESS !STOPPED<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where repo\_name matches "{{repo\_name}}"  AND commit\_user matches "{{commit\_user}}"<br />\| where build\_state in ("SUCCESSFUL", "FAILED")<br />\| parse regex field=date\_time "(?\<date\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=build\_commit\_message "(?\<commit\_msg\_short\>.+)"<br />\| tourl(commit\_link, commit\_msg\_short) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count by  build\_state, repo\_name<br />\| transpose row repo\_name column build\_state|
|BitBucket|Build Summary|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* display\_name full\_name !INPROGRESS !STOPPED<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where build\_state in ("SUCCESSFUL", "FAILED")<br />\| parse regex field=date\_time "(?\<date\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=build\_commit\_message "(?\<commit\_msg\_short\>.+)"<br />\| tourl(commit\_link, commit\_msg\_short) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count by build, build\_state<br />\| fields -\_count|
|BitBucket|Builds Over Time|Logs|BitBucket/Bitbucket - Builds|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* ("SUCCESSFUL" OR "FAILED")<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where repo\_name matches "{{repo\_name}}"  AND commit\_user matches "{{commit\_user}}"<br />\| where build\_state in ("SUCCESSFUL", "FAILED")<br />\| tourl(commit\_link, build\_commit\_message) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| timeslice 1d<br />\| count by \_timeslice , build\_state<br />\| transpose row \_timeslice column build\_state<br />\| fillmissing timeslice(1h)<br />|
|BitBucket|Deployment (s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket staging  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="staging" and deploy\_status="Failed"<br />\| count|
|BitBucket|Deployment by Status and Environment|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket   deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" <br />\| branch as source\_branch<br />\| repoFullName as repo\_name<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| deploymentEnvironment as deploy\_env<br />\| count by deploy\_env, deploy\_status<br />\| transpose row deploy\_env column deploy\_status<br />|
|BitBucket|Deployment Summary|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket   deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" <br />\| branch as source\_branch<br />\| repoFullName as repo\_name<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| tourl (commit\_link, concat("Commit # ",commit)) as commit\_info<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_info<br />\| deploymentEnvironment as deploy\_env<br />\| count by deploy\_env, deploy\_status, commit\_info, deploy\_info<br />\| fields - \_count<br />\| sort by deploy\_env asc|
|BitBucket|Deployment(s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket production  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="production" and deploy\_status="Failed"<br />\| count|
|BitBucket|Deployment(s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket production  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="production" and deploy\_status="Success"<br />\| count|
|BitBucket|Deployment(s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket test deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date"  <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="test" and deploy\_status="Success"<br />\| count|
|BitBucket|Deployment(s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket test deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="test" and deploy\_status="Failed"<br />\| count|
|BitBucket|Deployment(s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket staging  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" , "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="staging" and deploy\_status="Success"<br />\| count|
|BitBucket|Failed Builds|Logs|BitBucket/Bitbucket - Builds|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* FAILED<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where repo\_name matches "{{repo\_name}}"  AND commit\_user matches "{{commit\_user}}"<br />\| where build\_state="FAILED"<br />\| parse regex field=date\_time "(?\<date\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=build\_commit\_message "(?\<commit\_msg\_short\>.+)"<br />\| tourl(commit\_link, commit\_msg\_short) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count by date\_time, build\_commit\_message, commit, build, commit\_user, repo\_name, commit\_branch<br />\| fields - \_count<br />\| sort date\_time|
|BitBucket|Failed Builds|Logs|BitBucket/Bitbucket - Builds|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* FAILED<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where repo\_name matches "{{repo\_name}}"  AND commit\_user matches "{{commit\_user}}"<br />\| where build\_state="FAILED"<br />\| tourl(commit\_link, build\_commit\_message) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count|
|BitBucket|‎Failed Deployment(s)‎|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket staging  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="staging" and deploy\_status="Failed"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by event\_date, buildNumber, deploy\_status, deploymentEnvironment, files\_commited, repoFullName, repoOwner, source\_branch, deploy\_result<br />\| fields - \_count|
|BitBucket|Failed Deployment(s)|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket production  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" , "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="production" and deploy\_status="Failed"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by event\_date, buildNumber, deploy\_status, deploymentEnvironment, files\_commited, repoFullName, repoOwner, source\_branch, deploy\_result<br />\| fields - \_count|
|BitBucket|‎‎Failed Deployment(s)‎‎|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket test  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date"  <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="test" and deploy\_status="Failed"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by event\_date , buildNumber, deploy\_status, deploymentEnvironment, files\_commited, repoFullName, repoOwner, source\_branch, deploy\_result<br />\| fields - \_count|
|BitBucket|Failed Deployments to Production|Logs|BitBucket/Failed Deployments to Production|\_sourceCategory = Labs/bitbucket <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" nodrop<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="production" and deploy\_status ="Failed"<br />\| count|
|BitBucket|Issue Summary|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| tourl(repo\_link, repo\_name) as repo<br />\| tourl(issue\_link, issue\_title) as issue<br />\| count by issue\_created\_on, repo, issue, issue\_creator,issue\_assignee, issue\_priority, issue\_kind,issue\_content|
|BitBucket|Issue Trend|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| timeslice 1d<br />\| count by \_timeslice|
|BitBucket|Issues|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket ( %"x-event-key"="issue:updated" or  %"x-event-key"="issue:created")<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id", "changes" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id, changes nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| json field=changes "priority.old", "priority.new" as issue\_priority\_old, issue\_priority\_new nodrop<br />\| where issue\_priority\_new="blocker" or issue\_priority="blocker"<br />\| tourl(repo\_link, repo\_name) as repo<br />\| tourl(issue\_link, issue\_title) as issue<br />\| count|
|BitBucket|Issues|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| count|
|BitBucket|Issues by Assignee|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| count by issue\_assignee<br />\| sort|
|BitBucket|Issues by Priority|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| count by issue\_priority<br />\| sort|
|BitBucket|Issues by Project|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| count by repo\_name<br />\| sort|
|BitBucket|Issues by Type|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| count by issue\_kind<br />\| sort|
|BitBucket|Issues Created by Repository|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| count by repo\_name<br />\| sort|
|BitBucket|Issues Escalated to Blocker|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:updated"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id", "changes" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id, changes nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| json field=changes "priority.old", "priority.new" as issue\_priority\_old, issue\_priority\_new<br />\| where issue\_priority\_new="blocker"<br />\| count |
|BitBucket|Issues Escalated to Blocker|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:updated"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id", "changes" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id, changes nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| json field=changes "priority.old", "priority.new" as issue\_priority\_old, issue\_priority\_new<br />\| where issue\_priority\_new="blocker"<br />\| tourl(repo\_link, repo\_name) as repo<br />\| tourl(issue\_link, issue\_title) as issue<br />\| count by issue\_created\_on, repo, issue, issue\_creator,issue\_assignee, issue\_priority, issue\_kind,issue\_content|
|BitBucket|Issues Over Time|Logs|BitBucket/Bitbucket - Issues|\_sourceCategory = Labs/bitbucket  %"x-event-key"="issue:created"<br />\| json field=\_raw "repository.full\_name", "repository.links.html.href" , "actor.nickname", "issue.priority", "issue.kind", "issue.links.html.href", "issue.title", "issue.content.raw", "issue.assignee.nickname", "issue.state", "issue.created\_on", "issue.type", "issue.id" as repo\_name, repo\_link, issue\_creator, issue\_priority, issue\_kind, issue\_link, issue\_title, issue\_content, issue\_assignee, issue\_state, issue\_created\_on, issue\_type, issue\_id nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND issue\_priority matches "{{issue\_priority}}"<br />\| timeslice 1d<br />\| count by \_timeslice, issue\_priority<br />\| transpose row \_timeslice column issue\_priority<br />\| fillmissing timeslice(1d)|
|BitBucket|One Day Comparison|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket production  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="production" <br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by deploy\_status<br />\| compare with timeshift 1d|
|BitBucket|One Day Comparison|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket staging  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="staging" <br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by deploy\_status<br />\| compare with timeshift 1d|
|BitBucket|One Day Comparison|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket test  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="test" <br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by deploy\_status<br />\| compare with timeshift 1d|
|BitBucket|Production Deployments|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket   deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link" <br />\| branch as source\_branch<br />\| repoFullName as repo\_name<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| timeslice 1d<br />\| deploymentEnvironment as deploy\_env<br />\| where deploy\_env matches "production\*"<br />\| count by \_timeslice, deploy\_env, deploy\_status<br />\| transpose row \_timeslice column deploy\_env, deploy\_status<br />\| fillmissing timeslice (1d)|
|BitBucket|Pull Request - 7 day Comparison|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket  (%"x-event-key"=pullrequest:created or %"x-event-key"=pullrequest:fulfilled) <br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| tourl (PR\_Link, title) as PR<br />\| %"x-event-key" as type<br />\| parse regex field=type ".+?:(?\<pr\_type\>.+?)\$" <br />\| count as count by repo\_name, pr\_type<br />\| compare with timeshift 7d <br />\| count\_7d as count\_last\_week<br />\| fields -count\_7d|
|BitBucket|Pull Request - Declined|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:rejected"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href", "pullrequest.reason" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link, reason nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| parse regex field=create\_time "(?\<create\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| tourl (PR\_Link, title) as PR<br />\| count by create\_time, id, PR,title, description, reason, repo\_name, state, reviewers, comment\_count<br />\| sort by create\_time|
|BitBucket|Pull Request - Events|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"=pullrequest\* <br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link <br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| tourl (PR\_Link, title) as PR<br />\| count by  %"x-event-key" <br />\| sort by \_count|
|BitBucket|Pull Request - Merged|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:fulfilled"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| parse regex field=create\_time "(?\<create\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| tourl (PR\_Link, title) as PR <br />\| count by create\_time, PR, state, comment\_count<br />\| sort by create\_time<br />\| fields -\_count|
|BitBucket|Pull Request Trend|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket %"x-event-key"=pullrequest\* <br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link <br />\| tourl (PR\_Link, title) as PR<br />\| timeslice 1d<br />\| count by \_timeslice , %"x-event-key"<br />\| transpose row \_timeslice column %"x-event-key"<br />\| fillmissing timeslice(1d)|
|BitBucket|Pull Requests - Opened|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket  %"x-event-key"=pullrequest:created  <br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link <br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| parse regex field=create\_time "(?\<create\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| tourl (PR\_Link, title) as PR<br />\| count by create\_time, PR, repo\_name, state, comment\_count<br />\| sort by create\_time<br />\| fields -\_count|
|BitBucket|Pull Requests Created|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:created"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| count |
|BitBucket|Pull Requests Created and Fulfilled|Logs|BitBucket/Bitbucket - Overview|\_sourceCategory = Labs/bitbucket (%"x-event-key"=pullrequest:created or  %"x-event-key"=pullrequest:fulfilled or  %"x-event-key"=pullrequest:rejected)<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link <br />\| tourl (PR\_Link, title) as PR<br />\| count by  %"x-event-key" <br />\| sort|
|BitBucket|Pull Requests Declined|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:rejected"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| count|
|BitBucket|Pull Requests Merged|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket %"x-event-key"="pullrequest:fulfilled"<br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| count |
|BitBucket|Pull Requests Opened and Merged by Repository|Logs|BitBucket/Bitbucket - Pull Requests|\_sourceCategory = Labs/bitbucket  (%"x-event-key"=pullrequest:created or %"x-event-key"=pullrequest:fulfilled) <br />\| json "pullrequest.id", "pullrequest.title", "pullrequest.description", "pullrequest.reviewers[\*].display\_name", "pullrequest.destination.repository.full\_name", "pullrequest.destination.branch.name", "pullrequest.created\_on", "pullrequest.source.branch.name", "pullrequest.author.display\_name", "pullrequest.participants[\*].user.display\_name", "pullrequest.state", "pullrequest.comment\_count", "pullrequest.links.html.href" as id, title, description, reviewers, repo\_name, dest\_branch\_name, create\_time, source\_branch\_name, author, participants, state, comment\_count, PR\_link nodrop<br />\| where repo\_name matches "{{repo\_name}}"  AND id matches "{{pr\_id}}"<br />\| tourl (PR\_Link, title) as PR<br />\| count by repo\_name, %"x-event-key"<br />\| transpose row repo\_name column %"x-event-key"|
|BitBucket|‎Success Deployment(s)‎|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket production  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date"  <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="production" and deploy\_status="Success"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by event\_date , buildNumber, deploy\_status, deploymentEnvironment, files\_commited, repoFullName, repoOwner, source\_branch, deploy\_result<br />\| fields - \_count|
|BitBucket|‎‎‎Success Deployment(s)‎‎‎|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket test  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="test" and deploy\_status="Success"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by event\_date , buildNumber, deploy\_status, deploymentEnvironment, files\_commited, repoFullName, repoOwner, source\_branch, deploy\_result<br />\| fields - \_count|
|BitBucket|‎‎Success Deployment(s)‎‎|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket staging  deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date"  <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploymentEnvironment="staging" and deploy\_status="Success"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| count by event\_date , buildNumber, deploy\_status, deploymentEnvironment, files\_commited, repoFullName, repoOwner, source\_branch, deploy\_result<br />\| fields - \_count|
|BitBucket|Successful Builds|Logs|BitBucket/Bitbucket - Builds|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* SUCCESSFUL<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where repo\_name matches "{{repo\_name}}"  AND commit\_user matches "{{commit\_user}}"<br />\| where build\_state="SUCCESSFUL"<br />\| tourl(commit\_link, build\_commit\_message) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count|
|BitBucket|Successful Builds|Logs|BitBucket/Bitbucket - Builds|\_sourceCategory = Labs/bitbucket %"x-event-key"=repo:commit\_status\_\* SUCCESSFUL<br />\| json "commit\_status.state", "commit\_status.commit.message", "commit\_status.name", "commit\_status.type", "actor.display\_name", "repository.full\_name",  "commit\_status.refname",  "commit\_status.commit.links.html.href", "commit\_status.url", "commit\_status.created\_on" as build\_state, build\_commit\_message, commit\_name, type, commit\_user, repo\_name, commit\_branch, commit\_link, build\_status\_link, date\_time<br />\| where repo\_name matches "{{repo\_name}}"  AND commit\_user matches "{{commit\_user}}"<br />\| where build\_state="SUCCESSFUL"<br />\| parse regex field=date\_time "(?\<date\_time\>\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d)"<br />\| parse regex field=build\_commit\_message "(?\<commit\_msg\_short\>.+)"<br />\| tourl(commit\_link, commit\_msg\_short) as commit <br />\| tourl (build\_status\_link, commit\_name) as build<br />\| count by date\_time, build\_commit\_message, commit, build, commit\_user, repo\_name, commit\_branch<br />\| fields - \_count<br />\| sort date\_time<br />|
|BitBucket|Successful Deploy trends|Logs|BitBucket/Bitbucket  - Deployments|\_sourceCategory = Labs/bitbucket   deploymentEnvironment pipe\_result\_link deploy\_status commit\_link <br />\| json field=\_raw "buildNumber", "deploymentEnvironment", "branch", "repoFullName", "pipe\_result\_link", "deploy\_status", "pr\_id", "commit", "tag", "projectKey", "repoOwner", "commit\_link", "event\_date" <br />\| repoFullName as repo\_name<br />\| where   repoFullName matches "{{repo\_name}}"  AND buildNumber matches "{{buildNumber}}"<br />\| branch as source\_branch<br />\| if (deploy\_status matches "0", "Success", "Failed") as deploy\_status<br />\| where deploy\_status="Success"<br />\| tourl (commit\_link, concat("Commit # ",commit)) as files\_commited<br />\| tourl (pipe\_result\_link, buildNumber) as deploy\_result<br />\| timeslice 1d<br />\| count by \_timeslice, deploymentEnvironment<br />\| transpose row \_timeslice column deploymentEnvironment|

