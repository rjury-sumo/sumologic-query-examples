# Amazon SES
## Sumo Logic App For: Amazon SES
Amazon Simple Email Service (Amazon SES) is a cloud-based email sending and receiving service. The Sumo Logic App for Amazon SES helps you monitor the email platform activities. The app uses CloudTrail events and SES notifications, and provides pre-configured dashboards that provide insights on the status of the email delivery including bounced notifications, delivered notifications, complaint notifications and various SES CloudTrail events.
Docs Link: [Amazon SES](https://help.sumologic.com/?cid=4064)

## Searches

### Log Searches

- **Bounce Type Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Complaint Feedback Type Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Delivery Processing Time Outlier**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Delivered Notifications 
- **Delivery Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Delivered Notifications 
- **Domain Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Domain Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Email Address Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Email Address Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Event Status**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Event Status Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Events by User**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Events Trend by Event Name**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Failed Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Failed Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Failure Events Location**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Get Send Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Get Send Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Identity Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Identity Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Mail Sending AccountId**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Notification Overview 
- **Mail Source**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Notification Overview 
- **Mail Source IP Locations**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Notification Overview 
- **Notification Type Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Notification Overview 
- **Notification Types**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Notification Overview 
- **Permanent Bounce - General**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Permanent Bounce - Sub Type Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Permanent Bounce - Suppressed**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Receipt Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Receipt Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name 
- **Reporting MTA IP Location**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Delivered Notifications 
- **Sending AccountId**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Sending AWS Region**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Sending Identity**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Sending SourceIP**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Successful Event Details**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Successful Events**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Successful Events Location**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Top Bounced email Addresses**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Top Bounced email Domains**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Top Complaint email Addresses**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Top Complaint email Domains**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Top Complaint UserAgents**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Top Delivered email destinations**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Delivered Notifications 
- **Top Delivered email Domains**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Delivered Notifications 
- **Top Error Codes**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Top Reporting MTA**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Delivered Notifications 
- **Top Source Generating Complaints**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Complaint Notifications 
- **Top Users**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview 
- **Transient Bounce - Content Rejected**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Transient Bounce - General**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Transient Bounce - MailBox Full**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Transient Bounce - Sub Type Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Transient Bounce - SubType Breakup**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications 
- **Undetermined Bounce - Sub Type Trend**: from Dashboard: Installed Apps/Amazon SES/Amazon SES - Bounced Notifications

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Amazon SES|Bounce Type Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce"<br />\| timeslice 15m<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count by \_timeslice, bounceType <br />\| transpose row \_timeslice column bounceType|
|Amazon SES|Complaint Feedback Type Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop <br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| if (isEmpty(complaintFeedbackType), "InformationNotAvailable", complaintFeedbackType) as complaintFeedbackType<br />\| where notificationType="Complaint"<br />\| timeslice 15m<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count by \_timeslice, complaintFeedbackType <br />\| transpose row \_timeslice column complaintFeedbackType|
|Amazon SES|Delivery Processing Time Outlier|Logs|Installed Apps/Amazon SES/Amazon SES - Delivered Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Delivery\\""<br />\| json "notificationType" nodrop \| json "mail.destination" as mailDestination nodrop \| parse field=mailDestination "[\*]" as deliveredemailAddressSet nodrop<br />\| parse regex field=deliveredemailAddressSet "\\"(?\<deliveredemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=deliveredemailAddress "\*@\*" as name, domain nodrop<br />\| json "delivery.processingTimeMillis" as deliveryProcessingTimeMillis nodrop \| json "delivery.remoteMtaIp" as remoteMtaIP nodrop \| json "delivery.reportingMTA" as reportingMTA nodrop<br />\| where notificationType="Delivery"<br />\| timeslice 5m<br />\|where remotemtaip matches "{{remotemtaip}}" AND deliveredemailaddress matches "{{deliveredemailaddress}}" AND domain matches "{{domain}}" AND reportingmta matches "{{reportingmta}}"<br />\|avg (deliveryProcessingTimeMillis) as AveragedeliveryProcessingTimeMillis by \_timeslice<br />\| outlier AveragedeliveryProcessingTimeMillis|
|Amazon SES|Delivery Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Delivered Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Delivery\\""<br />\| json "notificationType" nodrop \| json "mail.destination" as mailDestination nodrop \| parse field=mailDestination "[\*]" as deliveredemailAddressSet nodrop<br />\| parse regex field=deliveredemailAddressSet "\\"(?\<deliveredemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=deliveredemailAddress "\*@\*" as name, domain nodrop<br />\| json "delivery.processingTimeMillis" as deliveryProcessingTimeMillis nodrop \| json "delivery.remoteMtaIp" as remoteMtaIP nodrop \| json "delivery.reportingMTA" as reportingMTA nodrop<br />\| where notificationType="Delivery"<br />\| timeslice 1h<br />\|where remotemtaip matches "{{remotemtaip}}" AND deliveredemailaddress matches "{{deliveredemailaddress}}" AND domain matches "{{domain}}" AND reportingmta matches "{{reportingmta}}"<br />\|count by \_timeslice, deliveredemailAddress <br />\| count(deliveredemailAddress) as deliveredemailAddresses by \_timeslice|
|Amazon SES|Domain Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*Domain\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*Domain\*"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventTime, eventName, eventType, type, user, awsRegion, sourceIPAddress, eventStatus, accountId, requestID, errorCode, errorMessage<br />\| sort by eventTime|
|Amazon SES|Domain Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*Domain\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*Domain\*"<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventname<br />\| sort by eventCount, eventname asc|
|Amazon SES|Email Address Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*EmailAddress\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*EmailAddress\*"<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventTime, eventName, eventType, type, user, awsRegion, sourceIPAddress, eventStatus, accountId, requestID, errorCode, errorMessage<br />\| sort by eventTime|
|Amazon SES|Email Address Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*EmailAddress\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*EmailAddress\*"<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventname<br />\| sort by eventCount, eventname asc|
|Amazon SES|Event Status|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\""<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count by eventStatus|
|Amazon SES|Event Status Trend|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\""<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1d<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count by \_timeslice, eventStatus<br />\| fillmissing timeslice(1d), values ("Success", "Failure") in eventStatus<br />\| transpose row \_timeslice column eventStatus|
|Amazon SES|Events by User|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\""<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1d<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by user, eventName<br />\| transpose row user column eventName|
|Amazon SES|Events Trend by Event Name|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\""<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com"<br />\| if (isEmpty(userName), user, userName) as user<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus <br />\| timeslice 1h<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by \_timeslice, eventName<br />\| transpose row \_timeslice column eventName|
|Amazon SES|Failed Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Failure"<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1s<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by \_timeslice, eventName, errorCode, errorMessage, awsRegion, sourceIPAddress, accountId, user, type, requestID<br />\| sort by \_timeslice|
|Amazon SES|Failed Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Failure"<br />\| if (isEmpty(userName), user, userName) as user<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by eventName<br />\| sort by eventCount|
|Amazon SES|Failure Events Location|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventSource\\":\\"ses.amazonaws.com\\"" errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Failure"<br />\| if (isEmpty(userName), user, userName) as user<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count by sourceIPAddress, eventName<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = sourceIPAddress<br />\| sort \_count|
|Amazon SES|Get Send Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" GetSend\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com" and eventname matches "GetSend\*"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventTime, eventName, eventType, type, user, awsRegion, sourceIPAddress, eventStatus, accountId, requestID, errorCode, errorMessage<br />\| sort by eventTime|
|Amazon SES|Get Send Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" GetSend\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com" and eventname matches "GetSend\*"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventname<br />\| sort by eventCount, eventname asc|
|Amazon SES|Identity Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*Identit\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*Identit\*"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventTime, eventName, eventType, type, user, awsRegion, sourceIPAddress, eventStatus, accountId, requestID, errorCode, errorMessage<br />\| sort by eventTime|
|Amazon SES|Identity Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*Identit\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*Identit\*"<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventname<br />\| sort by eventCount, eventname asc|
|Amazon SES|Mail Sending AccountId|Logs|Installed Apps/Amazon SES/Amazon SES - Notification Overview|\_sourceCategory={{SESNotificationsDataSource}}  mail sendingAccountId<br />\| json "notificationType" nodrop \| json "mail.source" as mailSource nodrop \| json "mail.sourceIp" as mailSourceIP nodrop \| json "mail.sendingAccountId" as mailSendingAccountId nodrop<br />\|where mailsourceip matches "{{mailsourceip}}" AND mailsendingaccountid matches "{{mailsendingaccountid}}" AND mailsource matches "{{mailsource}}" AND notificationtype matches "{{notificationtype}}"<br />\|count as eventCount by mailSendingAccountId \| where !isBlank(mailSendingAccountId)<br />\| sort by eventCount, mailSendingAccountId<br />\| limit 10|
|Amazon SES|Mail Source|Logs|Installed Apps/Amazon SES/Amazon SES - Notification Overview|\_sourceCategory={{SESNotificationsDataSource}}  mail source<br />\| json "notificationType" nodrop \| json "mail.source" as mailSource nodrop \| json "mail.sourceIp" as mailSourceIP nodrop \| json "mail.sendingAccountId" as mailSendingAccountId nodrop<br />\|where mailsourceip matches "{{mailsourceip}}" AND mailsendingaccountid matches "{{mailsendingaccountid}}" AND mailsource matches "{{mailsource}}" AND notificationtype matches "{{notificationtype}}"<br />\|count as eventCount by mailSource \| where !isBlank(mailSource)<br />\| sort by eventCount, mailSource<br />\| limit 10|
|Amazon SES|Mail Source IP Locations|Logs|Installed Apps/Amazon SES/Amazon SES - Notification Overview|\_sourceCategory={{SESNotificationsDataSource}}  mail sourceIp<br />\| json "notificationType" nodrop \| json "mail.source" as mailSource nodrop \| json "mail.sourceIp" as mailSourceIP nodrop \| json "mail.sendingAccountId" as mailSendingAccountId nodrop<br />\|where mailsourceip matches "{{mailsourceip}}" AND mailsendingaccountid matches "{{mailsendingaccountid}}" AND mailsource matches "{{mailsource}}" AND notificationtype matches "{{notificationtype}}"<br />\|count as eventCount by mailSourceIP<br />\| where !isBlank(mailSourceIP)<br />\| lookup latitude, longitude, country\_name, region, city from geo://location on ip=mailSourceIP<br />\| count by latitude, longitude, country\_name, region, city|
|Amazon SES|Notification Type Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Notification Overview|\_sourceCategory={{SESNotificationsDataSource}}  notificationType<br />\| json "notificationType" nodrop \| json "mail.source" as mailSource nodrop \| json "mail.sourceIp" as mailSourceIP nodrop \| json "mail.sendingAccountId" as mailSendingAccountId nodrop<br />\| where !isBlank(notificationType)<br />\| timeslice 15m<br />\|where mailsourceip matches "{{mailsourceip}}" AND mailsendingaccountid matches "{{mailsendingaccountid}}" AND mailsource matches "{{mailsource}}" AND notificationtype matches "{{notificationtype}}"<br />\|count by \_timeslice, NotificationType<br />\| transpose row \_timeslice column NotificationType|
|Amazon SES|Notification Types|Logs|Installed Apps/Amazon SES/Amazon SES - Notification Overview|\_sourceCategory={{SESNotificationsDataSource}}  notificationType<br />\| json "notificationType" nodrop \| json "mail.source" as mailSource nodrop \| json "mail.sourceIp" as mailSourceIP nodrop \| json "mail.sendingAccountId" as mailSendingAccountId nodrop<br />\|where mailsourceip matches "{{mailsourceip}}" AND mailsendingaccountid matches "{{mailsendingaccountid}}" AND mailsource matches "{{mailsource}}" AND notificationtype matches "{{notificationtype}}"<br />\|count as eventCount by notificationType \| where !isBlank(notificationType)<br />\| sort by eventCount|
|Amazon SES|Permanent Bounce - General|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Permanent\\"" "\\"bounceSubType\\":\\"General\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop <br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Permanent" and bounceSubType="General"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by BouncedemailAddress<br />\| sort by eventCount, BouncedemailAddress<br />\| limit 10|
|Amazon SES|Permanent Bounce - Sub Type Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Permanent\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Permanent"<br />\| timeslice 15m<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count by \_timeslice, bounceSubType <br />\| transpose row \_timeslice column bounceSubType|
|Amazon SES|Permanent Bounce - Suppressed|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Permanent\\"" "\\"bounceSubType\\":\\"Suppressed\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop <br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Permanent" and bounceSubType="Suppressed"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by BouncedemailAddress<br />\| sort by eventCount, BouncedemailAddress<br />\| limit 10|
|Amazon SES|Receipt Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*Receipt\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*Receipt\*"<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventTime, eventName, eventType, type, user, awsRegion, sourceIPAddress, eventStatus, accountId, requestID, errorCode, errorMessage<br />\| sort by eventTime|
|Amazon SES|Receipt Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events by Event Name|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" \*Receipt\*<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventname matches "\*Receipt\*"<br />\| if (isEmpty(userName), user, userName) as user<br />\| count as eventCount by eventname<br />\| sort by eventCount, eventname asc|
|Amazon SES|Reporting MTA IP Location|Logs|Installed Apps/Amazon SES/Amazon SES - Delivered Notifications|\_sourceCategory={{SESNotificationsDataSource}}   "\\"notificationType\\":\\"Delivery\\""<br />\| json "notificationType" nodrop \| json "mail.destination" as mailDestination nodrop \| parse field=mailDestination "[\*]" as deliveredemailAddressSet nodrop<br />\| parse regex field=deliveredemailAddressSet "\\"(?\<deliveredemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=deliveredemailAddress "\*@\*" as name, domain nodrop<br />\| json "delivery.processingTimeMillis" as deliveryProcessingTimeMillis nodrop \| json "delivery.remoteMtaIp" as remoteMtaIP nodrop \| json "delivery.reportingMTA" as reportingMTA nodrop<br />\| where notificationType="Delivery"<br />\|where remotemtaip matches "{{remotemtaip}}" AND deliveredemailaddress matches "{{deliveredemailaddress}}" AND domain matches "{{domain}}" AND reportingmta matches "{{reportingmta}}"<br />\|count as eventCount by remoteMtaIP<br />\| lookup latitude, longitude, country\_name, region, city from geo://location on ip=remoteMtaIP<br />\| count by latitude, longitude, country\_name, region, city|
|Amazon SES|Sending AccountId|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop<br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by sendingAccountId|
|Amazon SES|Sending AWS Region|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop<br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by awsRegion<br />\| sort by eventCount, awsRegion asc|
|Amazon SES|Sending Identity|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop<br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by identity<br />\| sort by eventCount, identity asc|
|Amazon SES|Sending SourceIP|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop<br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by sourceIp<br />\| sort by eventCount, sourceIp|
|Amazon SES|Successful Event Details|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" !errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Success"<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1s<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by \_timeslice, eventName, awsRegion, sourceIPAddress, accountId, user, type, requestId, userAgent<br />\| sort by \_timeslice|
|Amazon SES|Successful Events|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" !errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Success"<br />\| if (isEmpty(userName), user, userName) as user<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by eventName<br />\| sort by eventCount|
|Amazon SES|Successful Events Location|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventSource\\":\\"ses.amazonaws.com\\"" !errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop  <br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Success"<br />\| if (isEmpty(userName), user, userName) as user<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count by sourceIPAddress, eventName<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = sourceIPAddress<br />\| sort \_count|
|Amazon SES|Top Bounced email Addresses|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by BouncedemailAddress<br />\| sort by eventCount, BouncedemailAddress<br />\| limit 10|
|Amazon SES|Top Bounced email Domains|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by domain<br />\| sort by eventCount, domain asc<br />\| limit 10|
|Amazon SES|Top Complaint email Addresses|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop <br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by ComplaintemailAddress<br />\| sort by eventCount, ComplaintemailAddress<br />\| limit 10|
|Amazon SES|Top Complaint email Domains|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\""<br />\| json "notificationType", "mail" nodrop <br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by domain<br />\| sort by eventCount, domain asc<br />\| limit 10|
|Amazon SES|Top Complaint UserAgents|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\"" userAgent<br />\| json "notificationType", "mail" nodrop <br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint" and !isEmpty(userAgent)<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by userAgent<br />\| sort by eventCount, userAgent asc<br />\| limit 10|
|Amazon SES|Top Delivered email destinations|Logs|Installed Apps/Amazon SES/Amazon SES - Delivered Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Delivery\\""<br />\| json "notificationType" nodrop \| json "mail.destination" as mailDestination nodrop \| parse field=mailDestination "[\*]" as deliveredemailAddressSet nodrop<br />\| parse regex field=deliveredemailAddressSet "\\"(?\<deliveredemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=deliveredemailAddress "\*@\*" as name, domain nodrop<br />\| json "delivery.processingTimeMillis" as deliveryProcessingTimeMillis nodrop \| json "delivery.remoteMtaIp" as remoteMtaIP nodrop \| json "delivery.reportingMTA" as reportingMTA nodrop<br />\| where notificationType="Delivery"<br />\|where remotemtaip matches "{{remotemtaip}}" AND deliveredemailaddress matches "{{deliveredemailaddress}}" AND domain matches "{{domain}}" AND reportingmta matches "{{reportingmta}}"<br />\|count as eventCount by deliveredemailAddress<br />\| sort by eventCount, deliveredemailAddress<br />\| limit 10|
|Amazon SES|Top Delivered email Domains|Logs|Installed Apps/Amazon SES/Amazon SES - Delivered Notifications|\_sourceCategory={{SESNotificationsDataSource}}   "\\"notificationType\\":\\"Delivery\\""<br />\| json "notificationType" nodrop \| json "mail.destination" as mailDestination nodrop \| parse field=mailDestination "[\*]" as deliveredemailAddressSet nodrop<br />\| parse regex field=deliveredemailAddressSet "\\"(?\<deliveredemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=deliveredemailAddress "\*@\*" as name, domain nodrop<br />\| json "delivery.processingTimeMillis" as deliveryProcessingTimeMillis nodrop \| json "delivery.remoteMtaIp" as remoteMtaIP nodrop \| json "delivery.reportingMTA" as reportingMTA nodrop<br />\| where notificationType="Delivery"<br />\|where remotemtaip matches "{{remotemtaip}}" AND deliveredemailaddress matches "{{deliveredemailaddress}}" AND domain matches "{{domain}}" AND reportingmta matches "{{reportingmta}}"<br />\|count as eventCount by domain<br />\| sort by eventCount, domain<br />\| limit 10|
|Amazon SES|Top Error Codes|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\"" errorCode<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| where eventSource="ses.amazonaws.com" and eventStatus="Failure"<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by errorCode <br />\| top 10 errorCode by eventCount|
|Amazon SES|Top Reporting MTA|Logs|Installed Apps/Amazon SES/Amazon SES - Delivered Notifications|\_sourceCategory={{SESNotificationsDataSource}}   "\\"notificationType\\":\\"Delivery\\""<br />\| json "notificationType" nodrop \| json "mail.destination" as mailDestination nodrop \| parse field=mailDestination "[\*]" as deliveredemailAddressSet nodrop<br />\| parse regex field=deliveredemailAddressSet "\\"(?\<deliveredemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=deliveredemailAddress "\*@\*" as name, domain nodrop<br />\| json "delivery.processingTimeMillis" as deliveryProcessingTimeMillis nodrop \| json "delivery.remoteMtaIp" as remoteMtaIP nodrop \| json "delivery.reportingMTA" as reportingMTA nodrop<br />\| where notificationType="Delivery"<br />\|where remotemtaip matches "{{remotemtaip}}" AND deliveredemailaddress matches "{{deliveredemailaddress}}" AND domain matches "{{domain}}" AND reportingmta matches "{{reportingmta}}"<br />\|count as eventCount by reportingMTA<br />\| sort by eventCount, reportingMTA<br />\| limit 10|
|Amazon SES|Top Source Generating Complaints|Logs|Installed Apps/Amazon SES/Amazon SES - Complaint Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Complaint\\"" source<br />\| json "notificationType", "mail" nodrop<br />\| json "complaint.complainedRecipients" as complainedRecipients nodrop<br />\| json "complaint.complaintFeedbackType" as complaintFeedbackType nodrop<br />\| parse regex field=complainedRecipients  "\\"emailAddress\\":\\"(?\<ComplaintemailAddress\>[^\\"]+)\\"" multi<br />\| parse field=ComplaintemailAddress "\*@\*" as name, domain<br />\| json "complaint.userAgent" as userAgent nodrop<br />\| json field=mail "sourceArn" nodrop \| json field=mail "sendingAccountId" nodrop \| json field=mail "sourceIp" nodrop \| json field=mail "destination" nodrop \| json field=mail "source" nodrop<br />\| parse regex field=sourceArn "arn:aws:ses:(?\<awsRegion\>[^:]+):\\d+:identity/(?\<identity\>.\*)"<br />\| where notificationType="Complaint"<br />\|where sendingaccountid matches "{{sendingaccountid}}" AND awsregion matches "{{awsregion}}" AND complaintemailaddress matches "{{complaintemailaddress}}" AND domain matches "{{domain}}" AND complaintfeedbacktype matches "{{complaintfeedbacktype}}" AND useragent matches "{{useragent}}" AND name matches "{{name}}" AND source matches "{{source}}" AND sourceip matches "{{sourceip}}"<br />\|count as eventCount by source<br />\| top 10 source by eventCount, source asc|
|Amazon SES|Top Users|Logs|Installed Apps/Amazon SES/Amazon SES - CloudTrail Events Overview|\_sourceCategory={{CloudTrailLogsDataSource}}  "\\"eventsource\\":\\"ses.amazonaws.com\\""<br />\| json "eventTime" nodrop \| json "eventSource" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "eventType" nodrop \| json "errorCode" nodrop \| json "errorMessage" nodrop \| json "userAgent" nodrop \| json "requestID" nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "userIdentity.arn" as arn nodrop \| parse field=arn ":assumed-role/\*" as user nodrop \| parse field=arn "arn:aws:iam::\*:\*" as accountId, user nodrop \| json "userIdentity.userName" as username nodrop \| json "userIdentity.type" as type nodrop<br />\| where eventSource="ses.amazonaws.com"<br />\| if (isEmpty(errorCode), "Success", "Failure") as eventStatus<br />\| if (isEmpty(userName), user, userName) as user<br />\|where eventname matches "{{eventname}}" AND awsregion matches "{{awsregion}}" AND accountid matches "{{accountid}}"<br />\|count as eventCount by type, user<br />\| top 10 type, user by eventCount|
|Amazon SES|Transient Bounce - Content Rejected|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Transient\\"" "\\"bounceSubType\\":\\"ContentRejected\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by BouncedemailAddress<br />\| sort by eventCount, BouncedemailAddress<br />\| limit 10|
|Amazon SES|Transient Bounce - General|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Transient\\"" "\\"bounceSubType\\":\\"General\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Transient" and bounceSubType="General"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by BouncedemailAddress<br />\| sort by eventCount, BouncedemailAddress<br />\| limit 10|
|Amazon SES|Transient Bounce - MailBox Full|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Transient\\"" "\\"bounceSubType\\":\\"MailboxFull\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Transient" and bounceSubType="MailboxFull"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by BouncedemailAddress<br />\| sort by eventCount, BouncedemailAddress<br />\| limit 10|
|Amazon SES|Transient Bounce - Sub Type Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Transient\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Transient"<br />\| timeslice 15m<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count by \_timeslice, bounceSubType <br />\| transpose row \_timeslice column bounceSubType|
|Amazon SES|Transient Bounce - SubType Breakup|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Transient\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Transient"<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count as eventCount by bounceSubType<br />\| sort by eventCount, bounceSubType|
|Amazon SES|Undetermined Bounce - Sub Type Trend|Logs|Installed Apps/Amazon SES/Amazon SES - Bounced Notifications|\_sourceCategory={{SESNotificationsDataSource}}  "\\"notificationType\\":\\"Bounce\\"" "\\"bounceType\\":\\"Undetermined\\""<br />\| json "notificationType" nodrop \| json "bounce.bounceSubType" as bounceSubType nodrop \| json "bounce.bounceType" as bounceType nodrop \| json "bounce.bouncedRecipients" as bouncedRecipients nodrop<br />\| parse regex field=bouncedRecipients "\\"emailAddress\\":\\"(?\<BouncedemailAddress\>[^\\"]\*)\\"" multi<br />\| parse field=BouncedemailAddress "\*@\*" as name, domain<br />\| where notificationType="Bounce" and bounceType="Undetermined"<br />\| timeslice 15m<br />\|where bouncetype matches "{{bouncetype}}" AND bouncedemailaddress matches "{{bouncedemailaddress}}" AND domain matches "{{domain}}" AND bouncedrecipients matches "{{bouncedrecipients}}" AND bouncesubtype matches "{{bouncesubtype}}" AND name matches "{{name}}"<br />\|count by \_timeslice, bounceSubType <br />\| transpose row \_timeslice column bounceSubType|

