# Azure Database for PostgreSQL

## Searches

### Log Searches

- **Application Name with Most Sessions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Database Shut Down Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Database System Up Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Dead Rows By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Dead Rows By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Distribution  by Operation Type (Read, Write and Delete)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations 
- **Distribution by Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations 
- **Distribution by Status**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations 
- **Downtime Causes**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health 
- **Failed Policy Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations 
- **Indexes Scanned By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Indexes Scanned By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Live Rows By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Live Rows By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Log by Backend Type**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Log by Severity**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Log by Sql Errcode**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Recent Delete Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations 
- **Recent Recommendation Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations 
- **Recent Resource Health Incidents**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health 
- **Recent Resource Health Status by Resource Name**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health 
- **Recent Write Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations 
- **Requests by Location**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Resource Health by Event Type**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health 
- **Resource Health Trend**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health 
- **Rows Deleted By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Rows Deleted By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Rows Inserted By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Rows Inserted By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Rows Updated By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Rows Updated By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Sequential Scan By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Sequential Scan By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Session duration distribution**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Tables Vacuumed By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Tables Vacuumed By Schema**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview 
- **Top 10 operations that caused the most errors**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations 
- **Top Error Statements**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Top Fatal Errors**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs 
- **Total Failed Policy Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations 
- **Total Recommendation Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations 
- **Total Success Policy Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations 
- **Total Success Policy Events**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations 
- **Users / Applications by Operation type**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations

### Metric Searches

- **Active Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Active vs Succeeded vs Failed Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Analyze Counter User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Average Replication Lag**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication 
- **Average Replication Lag (Seconds)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication 
- **Blocks Hit Count**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Blocks Hit Count**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Blocks Read Count**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Blocks Read Count**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Cpu Credits Consumed**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Cpu Credits Consumed**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Cpu Credits Remaining**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Cpu Credits Remaining**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Database Size**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Database Size (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Delete Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Delete Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Disk Bandwidth Consumed/min (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Disk Bandwidth Consumed/min (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Disk I/Os Consumed/min (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Disk I/Os Consumed/min (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Egress**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Egress (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Estimated Dead Rows User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Estimated Dead Rows User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Estimated Live Rows User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Estimated Live Rows User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Estimated Modifications User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Estimated Modifications User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Failed Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Failed Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Fetched Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Fetched Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Ingress**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Ingress (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Insert Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Insert Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Is DB Alive**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Is DB Alive**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Logical Replication Lag**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication 
- **Logical Replication Lag (Seconds)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication 
- **Longest Query Time**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Longest Query Time (Sec)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Longest Transaction Time**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Longest Transaction Time (Sec)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Max Backup Storage Used**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Max Backup Storage Used (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Max Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Max Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Max CPU (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Max CPU (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Max Memory (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Max Memory (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Maximum Used TransactionIDs**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Maximum Used TransactionIDs**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Number of Backends Connected to Database**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Number of Backends Connected to Database**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Number of Deadlocks Detected in Database**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Number of Deadlocks Detected in Database**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview 
- **Number of I/O Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Number of I/O Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Number of Outstanding I/O Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Number of Outstanding I/O Operations**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Number of Temp Files Created**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Number of Temporary Files Created**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Oldest Backend Time (Sec)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Oldest Backend Time (Sec)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Oldest Backend Xmin**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Oldest Backend Xmin (Sec)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Oldest Backend Xmin Age**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Oldest Backend Xmin Age**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions 
- **Physical Replication Lag**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication 
- **Physical Replication Lag (Seconds)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication 
- **Read Iops**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Read Iops**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Read Throughput**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Read Throughput**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Returned Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Returned Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Storage Free**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Free (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Free vs Used**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Used**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Used (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Used (%)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Used (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Used by Transaction Logs**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Storage Used by Transaction Logs(Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview 
- **Succeeded Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Succeeded Connections**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections 
- **Total Bytes Written to Temp Files**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Total Bytes Written to Temp Files (Bytes)**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk 
- **Total Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Total Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Transactions Commit**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Transactions Commit**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Transactions Per Second**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Transactions Per Second**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Transactions Rollback**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Transactions Rollback**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Update Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **Update Transactions**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions 
- **User Tables Analyzed vs User Tables AutoAnalyzed**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **User Tables Vacuumed vs AutoVacuumed**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Vacuum Counter User Tables**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum 
- **Write Iops**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Write Iops**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Write Throughput**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance 
- **Write Throughput**: from Dashboard: Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance

## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Azure Database for PostgreSQL|Active Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=active\_connections  statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Active vs Succeeded vs Failed Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=active\_connections  statistic=average \| quantize using avg \| avg|
|Azure Database for PostgreSQL|Analyze Counter User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=analyze\_count\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Application Name with Most Sessions|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexSessions<br />\| json "category", "properties.Application\_name" as category, Application\_name<br />\| where category="PostgreSQLFlexSessions"<br />\| count by Application\_name<br />\| sort by \_count, Application\_name asc|
|Azure Database for PostgreSQL|Average Replication Lag|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=physical\_replication\_delay\_in\_seconds  statistic=maximum \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Average Replication Lag (Seconds)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=physical\_replication\_delay\_in\_seconds  statistic=maximum \| quantize using avg \| avg by resource\_name|
|Azure Database for PostgreSQL|Blocks Hit Count|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=blks\_hit statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Blocks Hit Count|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=blks\_hit statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Blocks Read Count|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=blks\_read statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Blocks Read Count|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=blks\_read statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=active\_connections  statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Cpu Credits Consumed|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=cpu\_credits\_consumed statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Cpu Credits Consumed|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=cpu\_credits\_consumed statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Cpu Credits Remaining|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=cpu\_credits\_remaining statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Cpu Credits Remaining|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=cpu\_credits\_remaining statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Database Shut Down Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLLogs ("database system" AND "shut down")<br />\| json "category", "properties.message", "ReplicaRole" as category, message, ReplicaRole<br />\| where category="PostgreSQLLogs"<br />\| count by resource\_group, resource\_name, ReplicaRole, message<br />\| sort by \_count asc|
|Azure Database for PostgreSQL|Database Size|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=database\_size\_bytes statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Database Size (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=database\_size\_bytes statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Database System Up Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLLogs "database system is ready to accept connections"<br />\| json "category", "properties.message", "ReplicaRole" as category, message, ReplicaRole<br />\| where category="PostgreSQLLogs"<br />\| count by resource\_group, resource\_name, ReplicaRole, message<br />\| sort by \_count asc|
|Azure Database for PostgreSQL|Dead Rows By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_dead\_tup", "properties.Schemaname", "properties.DatabaseName" as category, N\_dead\_tup, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(N\_dead\_tup) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Dead Rows By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_dead\_tup", "properties.Schemaname", "properties.DatabaseName" as category, N\_dead\_tup, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(N\_dead\_tup) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Delete Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_deleted statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Delete Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_deleted statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Disk Bandwidth Consumed/min (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=disk\_bandwidth\_consumed\_percentage statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Disk Bandwidth Consumed/min (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=disk\_bandwidth\_consumed\_percentage statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Disk I/Os Consumed/min (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=disk\_iops\_consumed\_percentage statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Disk I/Os Consumed/min (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=disk\_iops\_consumed\_percentage statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Distribution  by Operation Type (Read, Write and Delete)|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category", "operationName", "resourceId" as resultType, category, operationName, resourceid<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative"<br />\| "OTHERS" as operationType<br />\| if (toUppercase(operationName) matches /WRITE/, "WRITE", operationType) as operationType <br />\| if (toUppercase(operationName) matches /READ/, "READ", operationType) as operationType <br />\| if (toUppercase(operationName) matches /DELETE/, "DELETE", operationType) as operationType <br />\| count by operationType<br />\| sort by \_count, operationType asc|
|Azure Database for PostgreSQL|Distribution by Operations|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category", "operationName", "resourceId" as resultType, category, operationName, resourceid<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative" <br />\| parse field=operationName "\*/\*/\*" as provider\_name, resource\_type, operation\_name<br />\| count by operation\_name<br />\| order by \_count, operation\_name asc|
|Azure Database for PostgreSQL|Distribution by Status|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category" as resultType, category<br />\| where category="Administrative" <br />\| count by resultType<br />\| order by \_count, resultType asc|
|Azure Database for PostgreSQL|Downtime Causes|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} ResourceHealth Downtime<br />\| JSON "category", "properties.type", "properties.cause" as category, type, cause<br />\| where category="ResourceHealth" and type="Downtime"<br />\| count as Count by cause<br />\| sort by Count, cause asc|
|Azure Database for PostgreSQL|Egress|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=network\_bytes\_egress statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Egress (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=network\_bytes\_egress statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Estimated Dead Rows User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=n\_dead\_tup\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Estimated Dead Rows User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=n\_dead\_tup\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Estimated Live Rows User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=n\_live\_tup\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Estimated Live Rows User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=n\_live\_tup\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Estimated Modifications User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=n\_mod\_since\_analyze\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Estimated Modifications User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=n\_mod\_since\_analyze\_user\_tables statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Failed Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=connections\_failed  statistic=total \| quantize using sum \| sum by resource\_group, resource\_name |
|Azure Database for PostgreSQL|Failed Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=connections\_failed  statistic=total \| quantize using sum \| sum by resource\_group, resource\_name |
|Azure Database for PostgreSQL|Failed Policy Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} location={{location}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} Policy Failure<br />\| JSON "category", "resultType", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, message, resourceLocation, entity, policies<br />\| where category="Policy" and resultType="Failure"<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, level, resultType, providers, resource\_group, resource\_name, location, policies|
|Azure Database for PostgreSQL|Fetched Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_fetched statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Fetched Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_fetched statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Indexes Scanned By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category","properties.Idx\_scan", "properties.Schemaname", "properties.DatabaseName" as category, Idx\_scan, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(Idx\_scan) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Indexes Scanned By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.Idx\_scan", "properties.Schemaname", "properties.DatabaseName" as category, Idx\_scan, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(Idx\_scan) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Ingress|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=network\_bytes\_ingress statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Ingress (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=network\_bytes\_ingress statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Insert Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_inserted statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Insert Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_inserted statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Is DB Alive|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=is\_db\_alive statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Is DB Alive|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=is\_db\_alive statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Live Rows By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_live\_tup", "properties.Schemaname", "properties.DatabaseName" as category, N\_live\_tup, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(N\_live\_tup) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Live Rows By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_live\_tup", "properties.Schemaname", "properties.DatabaseName" as category, N\_live\_tup, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(N\_live\_tup) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Log by Backend Type|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLLogs backend\_type<br />\| json "category", "properties.backend\_type" as category, backend\_type<br />\| where category="PostgreSQLLogs"<br />\| count by backend\_type<br />\| sort by \_count, backend\_type asc|
|Azure Database for PostgreSQL|Log by Severity|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLLogs errorLevel<br />\| json "category", "properties.errorLevel" as category, errorLevel<br />\| where category="PostgreSQLLogs"<br />\| count by errorLevel<br />\| sort by \_count, errorLevel asc|
|Azure Database for PostgreSQL|Log by Sql Errcode|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLLogs sqlerrcode<br />\| json "category", "properties.sqlerrcode" as category, sqlerrcode<br />\| where category="PostgreSQLLogs"<br />\| count by sqlerrcode<br />\| sort by \_count, sqlerrcode asc|
|Azure Database for PostgreSQL|Logical Replication Lag|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=logical\_replication\_delay\_in\_bytes statistic=maximum \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Logical Replication Lag (Seconds)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=logical\_replication\_delay\_in\_bytes statistic=maximum \| quantize using avg \| avg by resource\_name|
|Azure Database for PostgreSQL|Longest Query Time|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=longest\_query\_time\_sec statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Longest Query Time (Sec)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=longest\_query\_time\_sec statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Longest Transaction Time|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=longest\_transaction\_time\_sec statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Longest Transaction Time (Sec)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=longest\_transaction\_time\_sec statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Max Backup Storage Used|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=backup\_storage\_used statistic=average \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Max Backup Storage Used (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=backup\_storage\_used statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Max Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=max\_connections  statistic=maximum \| quantize using max \| max by resource\_group, resource\_name |
|Azure Database for PostgreSQL|Max Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=max\_connections  statistic=maximum \| quantize using max \| max by resource\_group, resource\_name |
|Azure Database for PostgreSQL|Max CPU (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=cpu\_percent  statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Max CPU (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=cpu\_percent statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Max Memory (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=memory\_percent statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Max Memory (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=memory\_percent statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Maximum Used TransactionIDs|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=maximum\_used\_transactionIDs statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Maximum Used TransactionIDs|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=maximum\_used\_transactionIDs statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Backends Connected to Database|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=deadlocks statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Backends Connected to Database|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=numbackends statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Deadlocks Detected in Database|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=deadlocks statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Deadlocks Detected in Database|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=deadlocks statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of I/O Operations|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=iops statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of I/O Operations|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=iops statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Outstanding I/O Operations|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=disk\_queue\_depth statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Outstanding I/O Operations|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=disk\_queue\_depth statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Temp Files Created|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=temp\_files statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Number of Temporary Files Created|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=temp\_files statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Oldest Backend Time (Sec)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=oldest\_backend\_time\_sec statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Oldest Backend Time (Sec)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=oldest\_backend\_time\_sec statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Oldest Backend Xmin|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=oldest\_backend\_xmin statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Oldest Backend Xmin (Sec)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=oldest\_backend\_xmin statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Oldest Backend Xmin Age|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=oldest\_backend\_xmin\_age statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Oldest Backend Xmin Age|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=oldest\_backend\_xmin\_age statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Physical Replication Lag|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=physical\_replication\_delay\_in\_bytes statistic=maximum \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Physical Replication Lag (Seconds)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Replication|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=physical\_replication\_delay\_in\_bytes statistic=maximum \| quantize using avg \| avg by resource\_name|
|Azure Database for PostgreSQL|Read Iops|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=read\_iops statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Read Iops|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=read\_iops statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Read Throughput|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=read\_throughput statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Read Throughput|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=read\_throughput statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Recent Delete Operations|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "properties.entity", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']" as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, entity, identity\_claims\_name, authmethods nodrop<br />\| where resultType in ("Accept", "Success") and category="Administrative" and toUppercase(operationName) matches /DELETE/ <br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, identity\_claims\_name, authmethods, resultSignature, statusCode, message, entity<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Database for PostgreSQL|Recent Recommendation Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} "Recommendation"<br />\| JSON "category", "operationName", "resultType", "properties.recommendationName", "properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationResourceLink" as category, operationName, resultType, recommendationName, recommendationCategory, recommendationImpact, recommendationResourceLink <br />\| where category="Recommendation"<br />\| parse field=operationName "\*/\*/\*/\*" as provider, category, operation\_name, action nodrop<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, operation\_name, resource\_name, resultType, recommendationName, recommendationCategory, recommendationImpact, recommendationResourceLink|
|Azure Database for PostgreSQL|Recent Resource Health Incidents|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} ResourceHealth<br />\| JSON "category", "operationName", "time","level","resultType", "properties.title", "properties.details", "properties.currentHealthStatus", "properties.type", "properties.cause" as category, operationName, time,level,resultType, title, details, currentHealthStatus, type, cause nodrop<br />\| where category="ResourceHealth"<br />\| parse field=operationName "\*/\*/\*" as category, operation\_name, action nodrop<br />\| count as Count by time, level, resultType, resource\_name, operation\_name, title, details, currentHealthStatus, type, cause|
|Azure Database for PostgreSQL|Recent Resource Health Status by Resource Name|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} ResourceHealth<br />\| JSON "category", "properties.currentHealthStatus" as category, currentHealthStatus<br />\| where category="ResourceHealth"<br />\| withtime currentHealthStatus<br />\| most\_recent(currentHealthStatus\_withtime) as currentHealthStatus by resource\_name|
|Azure Database for PostgreSQL|Recent Write Operations|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']"  as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, identity\_claims\_name, authmethods nodrop<br />\| where category="Administrative" and resultType in ("Accept", "Success") and toUppercase(operationName) matches /WRITE/<br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, identity\_claims\_name, authmethods, resultSignature, statusCode, message<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Database for PostgreSQL|Requests by Location|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Overview|tenant\_name=\* subscription\_id=\* resource\_group=\* resource\_name=\* resource\_type=FLEXIBLESERVERS provider\_name=MICROSOFT.DBFORPOSTGRESQL location=\* PostgreSQLLogs<br />\| json "category", "properties.message" as category, message<br />\| where category="PostgreSQLLogs"<br />\| extract field=message "(?\<request\_ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| count by request\_ip<br />\| lookup latitude, longitude from geo://location on ip = request\_ip<br />\| where !isNull(latitude)<br />\| sum(\_count) as count by latitude, longitude|
|Azure Database for PostgreSQL|Resource Health by Event Type|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} ResourceHealth<br />\| JSON "category", "properties.currentHealthStatus" as category, currentHealthStatus<br />\| where category="ResourceHealth"<br />\| count as Count by currentHealthStatus|
|Azure Database for PostgreSQL|Resource Health Trend|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} ResourceHealth<br />\| JSON "category", "properties.currentHealthStatus" as category, currentHealthStatus<br />\| where category="ResourceHealth"<br />\| -1 as current\_health\_status<br />\| if (currentHealthStatus =="Unavailable", 0, current\_health\_status) as current\_health\_status<br />\| if (currentHealthStatus =="Degraded", 1, current\_health\_status) as current\_health\_status<br />\| if (currentHealthStatus =="Available", 2, current\_health\_status) as current\_health\_status<br />\| where current\_health\_status!=-1<br />\| timeslice 1h<br />\| withtime current\_health\_status <br />\| most\_recent(current\_health\_status\_withtime) as current\_health\_status by resource\_name, \_timeslice<br />\| number(current\_health\_status) as current\_health\_status<br />\| transpose row \_timeslice column resource\_name|
|Azure Database for PostgreSQL|Returned Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_returned statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Returned Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_returned statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Rows Deleted By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_tup\_del", "properties.Schemaname", "properties.DatabaseName" as category, N\_tup\_del, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(N\_tup\_del) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Rows Deleted By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_tup\_del", "properties.Schemaname", "properties.DatabaseName" as category, N\_tup\_del, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(N\_tup\_del) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Rows Inserted By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_tup\_ins", "properties.Schemaname", "properties.DatabaseName" as category, N\_tup\_ins, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(N\_tup\_ins) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Rows Inserted By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_tup\_ins", "properties.Schemaname", "properties.DatabaseName" as category, N\_tup\_ins, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(N\_tup\_ins) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Rows Updated By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_tup\_upd", "properties.Schemaname", "properties.DatabaseName" as category, N\_tup\_upd, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(N\_tup\_upd) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Rows Updated By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.N\_tup\_upd", "properties.Schemaname", "properties.DatabaseName" as category, N\_tup\_upd, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(N\_tup\_upd) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Sequential Scan By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.Seq\_scan", "properties.Schemaname", "properties.DatabaseName" as category, Seq\_scan, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(Seq\_scan) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Sequential Scan By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.Seq\_scan", "properties.Schemaname", "properties.DatabaseName" as category, Seq\_scan, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(Seq\_scan) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Session duration distribution|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Sessions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexSessions<br />\| json "category", "properties.Session\_duration", "properties.Database\_name" as category, Session\_duration, Database\_name<br />\| where category="PostgreSQLFlexSessions" and Database\_name matches "{{database\_name}}"<br />\| parseDate(Session\_duration, "HH:mm:ss", "etc/utc") as milliseconds<br />\| bin milliseconds width=1000, min = 0, max = 100000<br />\| count by \_bin\_label, \_bin\_upper<br />\| sort by \_bin\_upper<br />\| fields - \_bin\_upper |
|Azure Database for PostgreSQL|Storage Free|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_free statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Free (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_free statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Free vs Used|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_free statistic=average \| quantize using avg \| avg|
|Azure Database for PostgreSQL|Storage Used|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_used statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Used (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_percent statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Used (%)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_percent statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Used (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=storage\_used statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Used by Transaction Logs|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=txlogs\_storage\_used statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Storage Used by Transaction Logs(Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Storage Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=txlogs\_storage\_used statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Succeeded Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=connections\_succeeded  statistic=total \| quantize using sum \| sum by resource\_group, resource\_name |
|Azure Database for PostgreSQL|Succeeded Connections|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Connections|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=connections\_succeeded  statistic=total \| quantize using sum \| sum by resource\_group, resource\_name |
|Azure Database for PostgreSQL|Tables Vacuumed By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.Tables\_vacuumed", "properties.Schemaname", "properties.DatabaseName" as category, Tables\_vacuumed, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| sum(Tables\_vacuumed) by resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Tables Vacuumed By Schema|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Schema Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLFlexTableStats<br />\| JSON "category", "properties.Tables\_vacuumed", "properties.Schemaname", "properties.DatabaseName" as category, Tables\_vacuumed, schemaname, DatabaseName<br />\| where category="PostgreSQLFlexTableStats" and schemaname matches "{{schemaname}}" and DatabaseName matches "{{database\_name}}"<br />\| timeslice 1h<br />\| sum(Tables\_vacuumed) by \_timeslice, resource\_group, resource\_name, schemaname<br />\| transpose row \_timeslice column resource\_group, resource\_name, schemaname|
|Azure Database for PostgreSQL|Top 10 operations that caused the most errors|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative<br />\| json "resultType", "operationName", "properties.statusMessage", "category"  as resultType, operationName, failureMessage, category nodrop<br />\| parse field=operationname "\*/\*/\*" as provider\_name, resource\_type, operation nodrop<br />\| where category="Administrative" and (resultType="Failure" or resultType="Unknown")<br />\| if (isBlank(failureMessage), "Unknown Error", failureMessage) as failureMessage<br />\| count as Count by resource\_name, operation, failureMessage<br />\| order by Count <br />\| limit 10|
|Azure Database for PostgreSQL|Top Error Statements|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} PostgreSQLLogs errorLevel<br />\| json "category", "properties.errorLevel", "properties.statement", "properties.message", "properties.sqlerrcode", "ReplicaRole" as category, errorLevel, statement, message, sqlerrcode, ReplicaRole<br />\| where category="PostgreSQLLogs" and errorLevel="ERROR"<br />\| count by resource\_group, resource\_name, ReplicaRole, sqlerrcode, statement, message<br />\| sort by \_count asc|
|Azure Database for PostgreSQL|Top Fatal Errors|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Error Logs|tenant\_name=\* subscription\_id=\* resource\_group=\* resource\_name=\* resource\_type=FLEXIBLESERVERS provider\_name=MICROSOFT.DBFORPOSTGRESQL location=\* PostgreSQLLogs errorLevel<br />\| json "category", "properties.errorLevel", "properties.message", "properties.sqlerrcode", "ReplicaRole" as category, errorLevel, message, sqlerrcode, ReplicaRole nodrop<br />\| where category="PostgreSQLLogs" and errorLevel="FATAL"<br />\| parse field=message "\* \* \*: \*" as date, time, thread\_id, message<br />\| count by date, time, thread\_id, sqlerrcode, resource\_group, resource\_name, ReplicaRole, message<br />\| sort by \_count asc|
|Azure Database for PostgreSQL|Total Bytes Written to Temp Files|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=temp\_bytes<br />statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Total Bytes Written to Temp Files (Bytes)|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL -  Disk|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=temp\_bytes statistic=average \| quantize using avg \| avg by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Total Failed Policy Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} Policy Failure<br />\| JSON "category", "resultType" as category, resultType<br />\| where category="Policy" and resultType="Failure"<br />\| count as Count|
|Azure Database for PostgreSQL|Total Recommendation Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} "Recommendation"<br />\| JSON "category"<br />\| where category="Recommendation"<br />\| count |
|Azure Database for PostgreSQL|Total Success Policy Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} location={{location}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} Policy Success<br />\| JSON "category", "resultType", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, message, resourceLocation, entity, policies<br />\| where category="Policy" and (resultType="Success" or resultType="Accept")<br />\| parse field=entity "/subscriptions/\*/resourceGroups/\*/providers/\*/\*/\*" as subscription\_id, resource\_group, providers, virtualMachineScaleSets, aks nodrop<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, level, resultType, resource\_group, resource\_name, location, policies|
|Azure Database for PostgreSQL|Total Success Policy Events|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} resource\_name={{resource\_name}} Policy <br />\| JSON "category", "resultType" as category, resultType<br />\| where category="Policy" and (resultType="Success" or resultType="Accept")<br />\| count as Count|
|Azure Database for PostgreSQL|Total Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=xact\_total statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Total Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=xact\_total statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Transactions Commit|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=xact\_commit statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Transactions Commit|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=xact\_commit statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Transactions Per Second|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tps statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Transactions Per Second|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tps statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Transactions Rollback|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=xact\_rollback statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Transactions Rollback|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=xact\_rollback statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Update Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_updated statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Update Transactions|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Transactions|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tup\_updated statistic=total \| quantize using sum \| sum by resource\_group, resource\_name|
|Azure Database for PostgreSQL|User Tables Analyzed vs User Tables AutoAnalyzed|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tables\_analyzed\_user\_tables statistic=maximum \| quantize using max \| max|
|Azure Database for PostgreSQL|User Tables Vacuumed vs AutoVacuumed|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=tables\_vacuumed\_user\_tables statistic=maximum \| quantize using max \| max|
|Azure Database for PostgreSQL|Users / Applications by Operation type|Logs|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}} provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid" as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid nodrop<br />\| where resultType in ("Accept", "Success") and category="Administrative" <br />\| if (idtyp =="user", name, appid) as name<br />\| "Others" as operationType<br />\| if (toUppercase(operationName) matches /WRITE/, "WRITE", operationType) as operationType <br />\| if (toUppercase(operationName) matches /READ/, "READ", operationType) as operationType <br />\| if (toUppercase(operationName) matches /DELETE/, "DELETE", operationType) as operationType <br />\| count by name, operationType<br />\| transpose row name column operationType|
|Azure Database for PostgreSQL|Vacuum Counter User Tables|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Autovacuum|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=autovacuum\_count\_user\_tables statistic=maximum \| quantize using max \| max|
|Azure Database for PostgreSQL|Write Iops|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=write\_iops statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Write Iops|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=write\_iops statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Write Throughput|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=write\_throughput statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|
|Azure Database for PostgreSQL|Write Throughput|Metrics|Installed Apps/Azure Database for PostgreSQL/Azure Database for PostgreSQL - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} resource\_name={{resource\_name}} resource\_type={{resource\_type}} provider\_name={{provider\_name}} location={{location}} metric=write\_throughput statistic=maximum \| quantize using max \| max by resource\_group, resource\_name|

