# Mailgun

## Searches

### Log Searches

- **Client Device Type**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Client Info for Recent Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Client Name**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Client OS**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Client Type**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Complained Event Geolocation**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Complained Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Error Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Event type**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Event Type Trend**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Event's Geolocation**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Failed Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Info Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Log Level Trend**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Recent Complaints Event**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Recent Event Summary**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Recent Failed Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Severity**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Failure Codes**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Failure Reason**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Recipient**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Top Recipient for Complained Event**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Recipient for Failure Event**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Sender**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Top Sender for Complained Event**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Sender for Failure Event**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Top Subject**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Top Subject for Complained Event**: from Dashboard: Installed Apps/Mailgun/Mailgun - Failed, Complained Events 
- **Total Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview 
- **Warn Events**: from Dashboard: Installed Apps/Mailgun/Mailgun - Overview

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Mailgun|Client Device Type|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "device-type"<br />\| json "event-data.event", "event-data.log-level", "event-data.client-info.device-type" as event, loglevel, device\_type nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count by device\_type<br />\| sort by \_count, device\_type asc|
|Mailgun|Client Info for Recent Events|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "client"<br />\| json "event-data.event", "event-data.timestamp", "event-data.log-level", "event-data.recipient", "event-data.geolocation.country", "event-data.geolocation.region", "event-data.geolocation.city", "event-data.client-info.client-os", "event-data.client-info.device-type", "event-data.client-info.client-name", "event-data.client-info.client-type" as event,timestamp, log\_level, recipient, country, region, city, os, device\_type, client\_name, client\_type nodrop<br />\| where event matches "{{event}}" and log\_level matches "{{logLevel}}"<br />\| concat(city, ", ", region, ", ",country) as location<br />\| concat(os, ", ", device\_type, ", ",client\_name, ", ",client\_type) as client\_info<br />\| count by timestamp, event, log\_level, recipient, location, client\_info <br />\| sort by timestamp desc<br />\| toLong(timestamp \* 1000) as timestamp<br />\| formatDate(timestamp, "MM-dd-yyyy HH:mm:ss:SSS") as timestamp<br />\| fields - \_count<br />\| fields timestamp, event, recipient, log\_level, client\_info, location<br />\| limit 100|
|Mailgun|Client Name|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "client-name"<br />\| json "event-data.event", "event-data.log-level", "event-data.client-info.client-name" as event, loglevel, client\_name nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count by client\_name<br />\| sort by \_count, client\_name asc|
|Mailgun|Client OS|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "client-os"<br />\| json "event-data.event", "event-data.log-level", "event-data.client-info.client-os" as event, loglevel, os nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count by os<br />\| sort by \_count, os asc|
|Mailgun|Client Type|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "client-type"<br />\| json "event-data.event", "event-data.log-level", "event-data.client-info.client-type" as event, loglevel, client\_type nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count by client\_type<br />\| sort by \_count, client\_type asc|
|Mailgun|Complained Event Geolocation|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "complained"<br />\| json "event-data.message.headers.from", "event-data.recipient", "event-data.envelope.sending-ip" as sender, recipient, ip nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count as frequency by ip<br />\| lookup latitude, longitude from geo://location on ip = ip <br />\| where !isNull(latitude)|
|Mailgun|Complained Events|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "Complained"<br />\| json "event-data.message.headers.from", "event-data.recipient", "event-data.event" as sender, recipient, event nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count |
|Mailgun|Error Events|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  error<br />\| json "event-data.id", "event-data.event", "event-data.log-level" as id, event, loglevel nodrop<br />\| where loglevel matches "error"<br />\| where event matches "{{event}}"<br />\| count|
|Mailgun|Event type|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}} <br />\| json "event-data.event", "event-data.log-level" as event, loglevel nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count by event<br />\| sort by \_count, event asc|
|Mailgun|Event Type Trend|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}} <br />\| json "event-data.event", "event-data.log-level" as event, loglevel nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| timeslice 1h<br />\| count by \_timeslice, event<br />\| fillmissing timeslice, values all in event<br />\| transpose row \_timeslice column event|
|Mailgun|Event's Geolocation|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "ip"<br />\| json "event-data.event", "event-data.log-level", "event-data.ip" as event, loglevel, ip nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count as frequency by ip<br />\| lookup latitude, longitude from geo://location on ip = ip <br />\| where !isNull(latitude)|
|Mailgun|Failed Events|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.message.headers.from", "event-data.recipient", "event-data.event" as sender, recipient, event nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count|
|Mailgun|Info Events|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  info<br />\| json "event-data.id", "event-data.event", "event-data.log-level" as id, event, loglevel nodrop<br />\| where loglevel matches "info"<br />\| where event matches "{{event}}"<br />\| count|
|Mailgun|Log Level Trend|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "log-level"<br />\| json "event-data.event", "event-data.log-level" as event, loglevel nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| timeslice 1h<br />\| count by \_timeslice, loglevel<br />\| fillmissing timeslice, values all in loglevel<br />\| transpose row \_timeslice column loglevel|
|Mailgun|Recent Complaints Event|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "complained"<br />\| json "event-data.timestamp","event-data.message.headers.from","event-data.recipient", "event-data.message.headers.subject", "event-data.envelope.sending-ip" as timestamp,sender, recipient,subject, sender\_ip nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count by  timestamp,sender,recipient, subject, sender\_ip<br />\| sort by timestamp desc<br />\| toLong(timestamp \* 1000) as timestamp<br />\| formatDate(timestamp, "MM-dd-yyyy HH:mm:ss:SSS") as timestamp<br />\| fields - \_count<br />\| limit 100|
|Mailgun|Recent Event Summary|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}} <br />\| json "event-data.event", "event-data.timestamp", "event-data.log-level", "event-data.recipient", "event-data.geolocation.country", "event-data.geolocation.region", "event-data.geolocation.city", "event-data.client-info.client-os", "event-data.client-info.device-type", "event-data.client-info.client-name", "event-data.client-info.client-type","event-data.severity", "event-data.reason", "event-data.delivery-status.description" as event,timestamp, log\_level, recipient, country, region, city, os, device\_type, client\_name, client\_type, severity, reason, description nodrop<br />\| where event matches "{{event}}" and log\_level matches "{{logLevel}}"<br />\| concat(city, ", ", region, ", ",country) as location<br />\| concat(os, ", ", device\_type, ", ",client\_name, ", ",client\_type) as client\_info<br />\| count by timestamp, event, log\_level, recipient, location, client\_info, severity, reason, description <br />\| sort by timestamp desc<br />\| toLong(timestamp \* 1000) as timestamp<br />\| formatDate(timestamp, "MM-dd-yyyy HH:mm:ss:SSS") as timestamp<br />\| fields - \_count<br />\| fields timestamp, event, recipient, log\_level, client\_info, location, severity, reason, description <br />\| limit 100|
|Mailgun|Recent Failed Events|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.timestamp","event-data.severity", "event-data.reason", "event-data.delivery-status.description",  "event-data.delivery-status.code", "event-data.flags.is-authenticated", "event-data.delivery-status.message", "event-data.message.headers.from", "event-data.recipient" as timestamp,severity, reason, description, code, is\_authenticated, message, sender, recipient nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count by timestamp, severity, reason, description, message, sender, recipient, code, is\_authenticated<br />\| sort by timestamp desc<br />\| toLong(timestamp \* 1000) as timestamp<br />\| formatDate(timestamp, "MM-dd-yyyy HH:mm:ss:SSS") as timestamp<br />\| fields - \_count<br />\| limit 100|
|Mailgun|Severity|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.severity", "event-data.message.headers.from", "event-data.recipient" as severity, sender, recipient nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count as frequency by severity<br />\| sort by frequency, severity asc|
|Mailgun|Top Failure Codes|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.delivery-status.code", "event-data.message.headers.from", "event-data.recipient" as code, sender, recipient nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count as frequency by code<br />\| sort by frequency, code asc|
|Mailgun|Top Failure Reason|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.reason", "event-data.message.headers.from", "event-data.recipient" as reason, sender, recipient nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count as frequency by reason<br />\| sort by frequency, reason asc|
|Mailgun|Top Recipient|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "recipient"<br />\| json "event-data.event", "event-data.log-level", "event-data.timestamp","event-data.recipient" as event, loglevel, timestamp, recipient nodrop<br />\| where !isNull(recipient)<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count as frequency by recipient<br />\| sort by frequency, recipient asc<br />\| limit 10|
|Mailgun|Top Recipient for Complained Event|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "Complained"<br />\| json "event-data.recipient" as recipient nodrop<br />\| where recipient matches "{{recipient}}"<br />\| count as frequency by recipient<br />\| sort by frequency, recipient asc<br />\| limit 10|
|Mailgun|Top Recipient for Failure Event|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.recipient" as recipient nodrop<br />\| where recipient matches "{{recipient}}"<br />\| count as frequency by recipient<br />\| sort by frequency, recipient asc<br />\| limit 10|
|Mailgun|Top Sender|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  "from"<br />\| json "event-data.event", "event-data.log-level", "event-data.timestamp","event-data.message.headers.from" as event, loglevel, timestamp, sender nodrop<br />\| where !isNull(sender)<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count as frequency by sender<br />\| sort by frequency, sender asc<br />\| limit 10|
|Mailgun|Top Sender for Complained Event|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "Complained"<br />\| json "event-data.message.headers.from" as sender nodrop<br />\| where sender matches "{{sender}}"<br />\| count as frequency by sender<br />\| sort by frequency, sender asc<br />\| limit 10|
|Mailgun|Top Sender for Failure Event|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "failed"<br />\| json "event-data.message.headers.from" as sender nodrop<br />\| where sender matches "{{sender}}"<br />\| count as frequency by sender<br />\| sort by frequency, sender asc<br />\| limit 10|
|Mailgun|Top Subject|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}} <br />\| json "event-data.event", "event-data.log-level", "event-data.timestamp","event-data.message.headers.subject" as event, loglevel, timestamp,subject nodrop<br />\| where !isNull(subject)<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count as frequency by subject<br />\| sort by frequency, subject asc<br />\| limit 10|
|Mailgun|Top Subject for Complained Event|Logs|Installed Apps/Mailgun/Mailgun - Failed, Complained Events|\_sourceCategory={{Logsdatasource}}  "Complained"<br />\| json "event-data.message.headers.from", "event-data.recipient", "event-data.message.headers.subject" as sender, recipient, subject nodrop<br />\| where sender matches "{{sender}}" and recipient matches "{{recipient}}"<br />\| count as frequency by subject<br />\| sort by frequency, subject asc<br />\| limit 10|
|Mailgun|Total Events|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}} <br />\| json "event-data.id", "event-data.event", "event-data.log-level" as id, event, loglevel nodrop<br />\| where event matches "{{event}}" and loglevel matches "{{logLevel}}"<br />\| count|
|Mailgun|Warn Events|Logs|Installed Apps/Mailgun/Mailgun - Overview|\_sourceCategory={{Logsdatasource}}  warn<br />\| json "event-data.id", "event-data.event", "event-data.log-level" as id, event, loglevel nodrop<br />\| where loglevel matches "warn"<br />\| where event matches "{{event}}"<br />\| count|

