# Google Cloud Load Balancing
## Sumo Logic App For: Google Cloud Load Balancing
Google Cloud Load Balancing is Googleâ€™s load balancing service for Google Cloud Platform. The Sumo Logic App for Google Cloud Load Balancing helps you monitor load balancing activity. The preconfigured dashboards provide insight into request locations and volume, response codes, and request and response data by load balancer.
Docs Link: [Google Cloud Load Balancing](https://help.sumologic.com/?cid=80808)

## Searches

### Log Searches

- **4XX and 5XX Status Codes**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview 
- **4XX Status Code Locations**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **4XX Status Codes per Load Balancer**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **5XX Status Code Locations**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **5XX Status Codes per Load Balancer**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **Browsers and Operating Systems**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview 
- **Bytes Sent and Received**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview 
- **Google Cloud Load Balancing Recent Requests**: from Search: Google Cloud Load Balancing/Google Cloud Load Balancing Recent Requests 
- **Google Cloud Load Balancing Recent Requests**: from Search: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing Recent Requests 
- **KBs Sent, Received by Number of Requests**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis 
- **Number of Requests - Outlier**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis 
- **Request Location**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis 
- **Request Location**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview 
- **Requests by Load Balancer**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview 
- **Requests by Load Balancer Over Time**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis 
- **Requests by Type Over Time**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis 
- **Severity Over Time**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview 
- **Status Codes Over Time**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **Status Codes per Load Balancer**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **Status Codes per Project**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **Status Details Breakdown**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis 
- **Total Requests by Load Balancer**: from Dashboard: Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Google Cloud Load Balancing|4XX and 5XX Status Codes|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview|\_sourceCategory={{Logsdatasource}}  data logName resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "status" as status\_code<br />\| if(status\_code matches "40\*", 1, 0) as resp\_400<br />\| if(status\_code matches "50\*", 1, 0) as resp\_500<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500 by load\_balancer, project|
|Google Cloud Load Balancing|4XX Status Code Locations|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource type<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=http\_request "status" as status<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "remoteIp" as remote\_ip<br />\| where status matches "40\*"<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = remote\_IP<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code, status<br />\| sort \_count|
|Google Cloud Load Balancing|4XX Status Codes per Load Balancer|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest.status" as labels, status<br />\| where status matches "40\*"<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| timeslice 1h<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as tot\_400 by \_timeslice, load\_balancer, project<br />\| transpose row \_timeslice column load\_balancer, project|
|Google Cloud Load Balancing|5XX Status Code Locations|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource type<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=http\_request "status" as status<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "remoteIp" as remote\_ip<br />\| where status matches "50\*"<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = remote\_IP<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code, status<br />\| sort \_count|
|Google Cloud Load Balancing|5XX Status Codes per Load Balancer|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest.status" as labels, status<br />\| where status matches "50\*"<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| timeslice 1h<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as tot\_500 by \_timeslice, load\_balancer, project<br />\| transpose row \_timeslice column load\_balancer, project|
|Google Cloud Load Balancing|Browsers and Operating Systems|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview|\_sourceCategory={{Logsdatasource}}  data logName resource type userAgent<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "userAgent" as user\_agent<br />// Parse all fields above, then aggregate<br />\| if (user\_agent matches "\*Windows \*" OR user\_agent matches "\*Win32\*" OR user\_agent matches "\*Win64\*","Windows","") as OS <br />\| if (user\_agent matches "\*Macintosh\*" OR user\_agent matches "\*Darwin/\*" OR user\_agent matches "\*Mac OS\*","MacOS",OS) as OS <br />\| if (user\_agent matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (user\_agent matches "\*Linux\*","Linux",OS) as OS <br />\| if (user\_agent matches "\*iPad\*","iPad",OS) as OS <br />\| if (user\_agent matches "\*iPhone\*","iPhone",OS) as OS <br />\|  if (user\_agent matches "\*Android\*","Android",OS) as OS <br />\| if (user\_agent matches "\*Windows Phone\*","Windows Phone",OS) as OS <br />\| if (OS == "","Other",OS) as OS <br />\| if (user\_agent matches "Mozilla/\*; rv:\*)\*","Mozilla","") as Browser<br />\| if (user\_agent matches "\*MSIE\*","Internet Explorer",Browser) as Browser <br />\| if (user\_agent matches "\*Firefox\*","Firefox",Browser) as Browser <br />\| if (user\_agent matches "\*Safari\*","Safari",Browser) as Browser <br />\| if (OS=="Android" AND user\_agent matches "\*WebKit\*","WebKit",Browser) as Browser<br />\| if ((OS=="iPhone" OR OS=="iPad") AND (user\_agent matches "\*Mobile/\*" OR user\_agent matches "\*AppleWebKit\*(KHTML\*Gecko)\*"),"Mobile Safari",Browser) as Browser<br />\| if (browser == "" AND OS=="MacOS" AND user\_agent matches "Mozilla/\* (Macintosh;\*(KHTML, like Gecko)\*","Safari",Browser) as Browser <br />\| if (user\_agent matches "\*MobileSafari/\*","Mobile Safari",Browser) as Browser<br />\| if (user\_agent matches "\*Chrome\*","Chrome",Browser) as Browser <br />\| if (user\_agent matches "Opera\*","Opera",Browser) as Browser <br />\| if (user\_agent matches "Dolphin\*","Dolphin",Browser) as Browser <br />\| if (Browser == "","Other",Browser) as Browser<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count by OS,browser<br />\| transpose row os column browser as \*|
|Google Cloud Load Balancing|Bytes Sent and Received|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview|\_sourceCategory={{Logsdatasource}}  logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "requestSize", "responseSize" as request\_size, response\_size<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(request\_size) as bytes\_sent, sum(response\_size) as bytes\_received by load\_balancer, project<br />\| bytes\_sent + bytes\_received as total\_bytes<br />\| sort by total\_bytes<br />\| fields -total\_bytes|
|Google Cloud Load Balancing|Google Cloud Load Balancing Recent Requests|Logs|Google Cloud Load Balancing/Google Cloud Load Balancing Recent Requests|\_sourceCategory = Labs/GCP/loadbalancing data logName resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest", "message.data.timestamp" as labels, http\_request, timestamp<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "requestMethod", "remoteIp", "responseSize", "requestSize", "status" as method, remote\_ip, bytes\_sent, bytes\_received, status<br />\| count as messages by timestamp, load\_balancer, project, zone, remote\_ip, method, status, bytes\_sent, bytes\_received<br />\| fields -messages<br />\| sort by timestamp|
|Google Cloud Load Balancing|Google Cloud Load Balancing Recent Requests|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing Recent Requests|\_sourceCategory={{Logsdatasource}}  data logName resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest", "message.data.timestamp" as labels, http\_request, timestamp<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "requestMethod", "remoteIp", "responseSize", "requestSize", "status" as method, remote\_ip, bytes\_sent, bytes\_received, status<br />\| count as messages by timestamp, load\_balancer, project, zone, remote\_ip, method, status, bytes\_sent, bytes\_received<br />\| fields -messages<br />\| sort by timestamp|
|Google Cloud Load Balancing|KBs Sent, Received by Number of Requests|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource type<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "requestSize", "responseSize" as request\_size, response\_size<br />\| timeslice 1h<br />\| (response\_size/(1024)) as kbytes1 \| (request\_size/(1024)) as kbytes2<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as num\_requests, sum(kbytes1) as data\_received, sum(kbytes2) as data\_sent by \_timeslice <br />\| sort \_timeslice|
|Google Cloud Load Balancing|Number of Requests - Outlier|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| timeslice 1h<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count by \_timeslice<br />\| outlier \_count|
|Google Cloud Load Balancing|Request Location|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource type<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "remoteIp" as remote\_ip<br />\| lookup latitude, longitude from geo://location on ip = remote\_ip<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count by latitude, longitude<br />\| sort \_count|
|Google Cloud Load Balancing|Request Location|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview|\_sourceCategory={{Logsdatasource}}  logName resource type data<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "remoteIp" as remote\_ip<br />\| lookup latitude, longitude from geo://location on ip = remote\_ip<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count by latitude, longitude<br />\| sort \_count|
|Google Cloud Load Balancing|Requests by Load Balancer|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview|\_sourceCategory={{Logsdatasource}}  logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as requests by load\_balancer, project<br />\| sort by requests|
|Google Cloud Load Balancing|Requests by Load Balancer Over Time|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| timeslice 1h<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as requests by \_timeslice, project, load\_balancer<br />\| transpose row \_timeslice column load\_balancer, project|
|Google Cloud Load Balancing|Requests by Type Over Time|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "requestMethod" as method<br />\| timeslice 1h<br />\| if (method = "GET", 1, 0) as get\_requests<br />\| if (method = "POST", 1, 0) as post\_requests<br />\| if (method = "PUT", 1, 0) as put\_requests<br />\| if (method = "DELETE", 1, 0) as delete\_requests<br />\| if (method = "PATCH", 1, 0) as patch\_requests<br />\| if (!(method = "GET" or method = "POST" or method = "PUT" or method = "DELETE" or method = "PATCH"), 1, 0) as other\_requests<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(get\_requests) as tot\_get, sum(post\_requests) as tot\_post, sum(put\_requests) as tot\_put, sum(delete\_requests) as tot\_delete, sum(patch\_requests) as tot\_patch, sum(other\_requests) as tot\_other by \_timeslice<br />\| fillmissing timeslice(1h)|
|Google Cloud Load Balancing|Severity Over Time|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Overview|\_sourceCategory={{Logsdatasource}}  logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.severity" as labels, severity<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| if (severity = "INFO", 1, 0) as info<br />\| if (severity = "WARNING", 1, 0) as warn<br />\| if (severity = "ERROR", 1, 0) as error<br />\| if (severity = "CRITICAL", 1, 0) as crit<br />\| if (severity = "ALERT", 1, 0) as alert<br />\| if (severity = "EMERGENCY", 1, 0) as emergency<br />\| timeslice 1h<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(info) as INFO, sum(warn) as WARNING, sum(error) as ERROR, sum(crit) as CRITICAL, sum(alert) as ALERT, sum(emergency) as EMERGENCY by \_timeslice<br />\| fillmissing timeslice(1h)|
|Google Cloud Load Balancing|Status Codes Over Time|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource timestamp <br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest" as labels, http\_request<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=http\_request "status" as status<br />\| timeslice 1h<br />\| if(status matches "20\*", 1, 0) as resp\_200<br />\| if(status matches "30\*", 1, 0) as resp\_300<br />\| if(status matches "40\*", 1, 0) as resp\_400<br />\| if(status matches "50\*", 1, 0) as resp\_500<br />\| if(!(status matches "20\*" or status matches "30\*" or status matches "40\*" or status matches "50\*"), 1, 0) as resp\_others<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by \_timeslice|
|Google Cloud Load Balancing|Status Codes per Load Balancer|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest.status" as labels, status<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| if(status matches "20\*", 1, 0) as resp\_200<br />\| if(status matches "30\*", 1, 0) as resp\_300<br />\| if(status matches "40\*", 1, 0) as resp\_400<br />\| if(status matches "50\*", 1, 0) as resp\_500<br />\| if(!(status matches "20\*" or status matches "30\*" or status matches "40\*" or status matches "50\*"), 1, 0) as resp\_others<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by load\_balancer, project|
|Google Cloud Load Balancing|Status Codes per Project|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource "\\"type\\":\\"http\_load\_balancer\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.httpRequest.status" as labels, status<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| if(status matches "20\*", 1, 0) as resp\_200<br />\| if(status matches "30\*", 1, 0) as resp\_300<br />\| if(status matches "40\*", 1, 0) as resp\_400<br />\| if(status matches "50\*", 1, 0) as resp\_500<br />\| if(!(status matches "20\*" or status matches "30\*" or status matches "40\*" or status matches "50\*"), 1, 0) as resp\_others<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by project|
|Google Cloud Load Balancing|Status Details Breakdown|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Status Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource type <br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels", "message.data.jsonPayload" as labels, payload<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\| json field=payload "statusDetails" as status<br />\|where project matches "{{Project}}" AND status matches "{{Status Code}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as messages by status|
|Google Cloud Load Balancing|Total Requests by Load Balancer|Logs|Installed Apps/Google Cloud Load Balancing/Google Cloud Load Balancing - Request Analysis|\_sourceCategory={{Logsdatasource}}  data logName resource type<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "http\_load\_balancer" and log\_name matches "projects/\*/logs/requests"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "project\_id", "zone", "url\_map\_name" as project, zone, load\_balancer<br />\|where load\_balancer matches "{{Load Balancer}}" AND project matches "{{Project}}" AND labels matches "{{User Labels}}" AND zone matches "{{Zone}}"<br />\|count as requests by load\_balancer, project<br />\| sort by requests|

