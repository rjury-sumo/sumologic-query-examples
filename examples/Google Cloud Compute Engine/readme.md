# Google Cloud Compute Engine
## Sumo Logic App For: Google Cloud Compute Engine
The Sumo Logic App for Google Compute Engine helps you monitor your infrastructure by providing preconfigured dashboards that allow you to view the activities, users, message severity of your Google Compute Engine infrastructure.
Docs Link: [Google Cloud Compute Engine](https://help.sumologic.com/?cid=4053)

## Searches

### Log Searches

- **Audit Event - Severity Trend**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Event Location**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Instance Inserts vs Deletes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Instance Starts vs Stops**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Log Event - Severity Distribution**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Operation Shares**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Operations By Instance**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Platform Logs - Severity Distribution**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs 
- **Platform Logs - Severity Trend**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs 
- **Recent  Error Activity**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Recent Errors**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs 
- **Recent Instance Activity**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Recent Warnings**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs 
- **Top 10 Users**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Top 10 Users by Activity**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Top 10 Users by Severity**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs 
- **Top Errors**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs 
- **Top Warnings**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs

### Metric Searches

- **Average Disk IO Latency**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Average Number of Active Instances**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Avg CPU Usage Time**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU 
- **Avg CPU Utilization**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU 
- **Avg CPU Utilization**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Avg CPU Utilization by Instance**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Avg Disk Queue Length**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **Avg Memory Utilization**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Avg Memory Utilization by Instance**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Avg RAM Used**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Bytes Dropped by Firewall**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Bytes for FileSystem**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **CPU - vCPU, Task Count**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **CPU Details**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **CPU Load - 1m, 5m, 15m**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **CPU Scheduler Wait Time**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU 
- **CPU Usage Time - Distribution**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **CPU Utilization - Today/Yesterady/Last Week**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU 
- **Disk IO Latency**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Disk Read Operations**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Disk Write Operations**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Global Concurrent Operations**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Global Concurrent Operations by Type**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Guest System Uptime**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **Instance by Data Received**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Instance by Data Sent**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Instance Per VPC Network**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Instance Quota distribution by VPC Id**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Instances for Bytes Dropped by Firewall**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Instances Usage by VPC**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Inter Region Egress Bandwidth**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Inter Region Egress Bandwidth - Region Distribution**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **IO Queue Depth**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **IO Queue Depth**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **IP aliases Per VPC Network**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **IP aliases Usage by VPC**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Latest Instances Usage**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Latest IP Aliases Usage**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Latest Subnet Range Usage**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Max Read/Write Bytes Count**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Max Read/Write Ops Count**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Memory Bytes - Trend**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **Memory Bytes Used**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **Memory Swap - In and Out**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Operation Count - Read/Write**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance 
- **Packets Dropped by Firewall**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Read Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Read Operations**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Read/Write Bytes Count**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Read/Write Ops Count**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Received Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Received Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Received Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Received Packets**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Received Packets**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Received Packets**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Regional Concurrent Operations**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Regional Concurrent Operations by Type**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Sent Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Sent Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Sent Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Sent Packets**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Sent Packets**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview 
- **Sent Packets**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network 
- **Static Routes Per VPC Network**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Static Routes Usage By VPC**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Subnet Range Quota distribution by VPC Id**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Subnet Ranges Per VPC Network**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Subnet Ranges Usage By VPC**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview 
- **Write Bytes**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk 
- **Write Operations**: from Dashboard: Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk

## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Google Cloud Compute Engine|Audit Event - Severity Trend|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| timeslice 15m<br />\| json "message.data.severity" as severity<br />\| count by \_timeslice, severity<br />\| transpose row \_timeslice column severity as \*|
|Google Cloud Compute Engine|Average Disk IO Latency|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}}  cloud.platform=gcp\_compute device\_name={{disk\_device\_name}} metric=instance/disk/average\_io\_latency  \| avg |
|Google Cloud Compute Engine|Average Number of Active Instances|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/cpu/utilization \| count|
|Google Cloud Compute Engine|Avg CPU Usage Time|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU|project\_id={{project\_id}} zone={{zone}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute instance\_id={{instance\_id}}  metric=instance/cpu/usage\_time |
|Google Cloud Compute Engine|Avg CPU Utilization|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}}  cloud.platform=gcp\_compute metric=instance/cpu/utilization \| eval \_value\*100 \| avg|
|Google Cloud Compute Engine|Avg CPU Utilization|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} cloud.platform=gcp\_compute instance\_name={{instance\_name}} metric=instance/cpu/utilization \| eval \_value\*100 \| avg|
|Google Cloud Compute Engine|Avg CPU Utilization by Instance|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} cloud.platform=gcp\_compute instance\_name={{instance\_name}} metric=instance/cpu/utilization \| eval \_value\*100 \| avg by project\_id, zone, instance\_id , instance\_name |
|Google Cloud Compute Engine|Avg Disk Queue Length|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/disk/queue\_length \| avg |
|Google Cloud Compute Engine|Avg Memory Utilization|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/memory/balloon/ram\_size \| avg by project\_id, zone, instance\_id,metric|
|Google Cloud Compute Engine|Avg Memory Utilization by Instance|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/memory/balloon/ram\_size \| avg by project\_id, zone, instance\_id|
|Google Cloud Compute Engine|Avg RAM Used|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/memory/balloon/ram\_used \| avg by project\_id, zone, instance\_id, instance\_name |
|Google Cloud Compute Engine|Bytes Dropped by Firewall|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=firewall/dropped\_bytes\_count  \|  quantize using sum \| avg by project\_id, zone, instance\_id, instance\_name|
|Google Cloud Compute Engine|Bytes for FileSystem|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/disk/bytes\_used state=free \| avg by project\_id, zone, instance\_id|
|Google Cloud Compute Engine|CPU - vCPU, Task Count|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/cpu/runnable\_task\_count statistic=average  \| avg by project\_id, zone, instance\_name, metric,instance\_id |
|Google Cloud Compute Engine|CPU Details|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} cloud.platform=gcp\_compute instance\_id={{instance\_id}} instance\_name={{instance\_name}} metric=instance/cpu/guest\_visible\_vcpus \|  avg by project\_id, zone, instance\_name,instance\_id, metric |
|Google Cloud Compute Engine|CPU Load - 1m, 5m, 15m|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/cpu/load\_1m  \| avg by project\_id, zone, instance\_id|
|Google Cloud Compute Engine|CPU Scheduler Wait Time|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU|project\_id={{project\_id}} zone={{zone}} cloud.platform=gcp\_compute instance\_id={{instance\_id}} instance\_name={{instance\_name}} metric=instance/cpu/scheduler\_wait\_time \| avg by project\_id, zone, instance\_id , instance\_name |
|Google Cloud Compute Engine|CPU Usage Time - Distribution|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/cpu/usage\_time \| avg by project\_id, zone, instance\_id,instance\_name, state |
|Google Cloud Compute Engine|CPU Utilization - Today/Yesterady/Last Week|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - CPU|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/cpu/utilization \| eval \_value\*100 \| avg by project\_id,zone,instance\_id|
|Google Cloud Compute Engine|Disk IO Latency|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} cloud.platform=gcp\_compute metric=instance/disk/average\_io\_latency \| avg by project\_id, zone, instance\_id,device\_name|
|Google Cloud Compute Engine|Disk Read Operations|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/read\_ops\_count \| quantize using sum \| sum|
|Google Cloud Compute Engine|Disk Write Operations|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/write\_ops\_count \| quantize using sum \| sum|
|Google Cloud Compute Engine|Event Location|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.requestMetadata.callerIp" as caller\_ip<br />\| count by caller\_ip<br />\| lookup latitude, longitude from geo://location on ip=caller\_ip<br />\| where !isNull(latitude)|
|Google Cloud Compute Engine|Global Concurrent Operations|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/concurrent/global\_concurrent\_operations/limit statistic=average   \| sum by project\_id |
|Google Cloud Compute Engine|Global Concurrent Operations by Type|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/concurrent/global\_concurrent\_operations/usage statistic=average   \| avg by project\_id,operation\_type |
|Google Cloud Compute Engine|Guest System Uptime|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}}  cloud.platform=gcp\_compute metric=guest/system/uptime \| eval \_value/(60\*60) \| avg|
|Google Cloud Compute Engine|Instance by Data Received|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/received\_bytes\_count \| eval \_value/1048576 \|  quantize using sum \| sum by project\_id, zone, instance\_name,instance\_id|
|Google Cloud Compute Engine|Instance by Data Sent|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_bytes\_count  \| eval \_value/1048576 \|  quantize using sum \| sum by project\_id, zone, instance\_name,instance\_id|
|Google Cloud Compute Engine|Instance Inserts vs Deletes|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation, islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.methodName" as methodName<br />\| parse regex field=methodName "compute\\.instances\\.(?\<method\>.\*)"<br />\| timeslice 15m<br />\| if (method = "insert", 1, 0) as insert<br />\| if (method = "delete", 1, 0) as delete<br />\| sum(insert) as inserts, sum(delete) as deletes by \_timeslice<br />\| fillmissing timeslice(15m)|
|Google Cloud Compute Engine|Instance Per VPC Network|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/instances\_per\_vpc\_network/limit statistic=average \| avg by project\_id, network\_id |
|Google Cloud Compute Engine|Instance Quota distribution by VPC Id|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/instances\_per\_vpc\_network/usage statistic=average \| avg by network\_id |
|Google Cloud Compute Engine|Instance Starts vs Stops|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.methodName" as methodName<br />\| parse regex field=methodName "compute\\.instances\\.(?\<method\>.\*)"<br />\| timeslice 15m<br />\| if (method = "start", 1, 0) as start<br />\| if (method = "stop", 1, 0) as stop<br />\|sum(start) as starts, sum(stop) as stops by \_timeslice<br />\| fillmissing timeslice(15m)|
|Google Cloud Compute Engine|Instances for Bytes Dropped by Firewall|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=firewall/dropped\_bytes\_count \|  quantize using sum \| sum by project\_id, zone, instance\_name,instance\_id |
|Google Cloud Compute Engine|Instances Usage by VPC|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/instances\_per\_vpc\_network/usage statistic=average  \| avg by project\_id,network\_id |
|Google Cloud Compute Engine|Inter Region Egress Bandwidth|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/inter\_region\_egress\_bandwidth/limit statistic=average    \| avg by project\_id |
|Google Cloud Compute Engine|Inter Region Egress Bandwidth - Region Distribution|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/inter\_region\_egress\_bandwidth/usage statistic=average  \| avg by location|
|Google Cloud Compute Engine|IO Queue Depth|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} cloud.platform=gcp\_compute metric=instance/disk/average\_io\_queue\_depth \| avg by project\_id, zone, instance\_id,device\_name|
|Google Cloud Compute Engine|IO Queue Depth|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} cloud.platform=gcp\_compute metric=instance/disk/average\_io\_queue\_depth \| avg|
|Google Cloud Compute Engine|IP aliases Per VPC Network|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/ip\_aliases\_per\_vpc\_network/limit  statistic=average    \| avg by project\_id, network\_id |
|Google Cloud Compute Engine|IP aliases Usage by VPC|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/ip\_aliases\_per\_vpc\_network/usage statistic=average  \| avg by project\_id, network\_id |
|Google Cloud Compute Engine|Latest Instances Usage|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute metric=quota/instances\_per\_vpc\_network/usage statistic=sum  \| sum|
|Google Cloud Compute Engine|Latest IP Aliases Usage|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute metric=quota/ip\_aliases\_per\_vpc\_network/usage statistic=sum |
|Google Cloud Compute Engine|Latest Subnet Range Usage|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/subnet\_ranges\_per\_vpc\_network/usage statistic=average   \| avg|
|Google Cloud Compute Engine|Log Event - Severity Distribution|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.severity" as severity<br />\| count as frequency by severity<br />\| sort by frequency, severity asc|
|Google Cloud Compute Engine|Max Read/Write Bytes Count|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} cloud.platform=gcp\_compute metric=instance/disk/max\_read\_bytes\_count \| avg by project\_id, zone, instance\_id,device\_name|
|Google Cloud Compute Engine|Max Read/Write Ops Count|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} cloud.platform=gcp\_compute metric=instance/disk/max\_read\_ops\_count \| avg by project\_id, zone, instance\_id,device\_name|
|Google Cloud Compute Engine|Memory Bytes - Trend|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/memory/bytes\_used state=buffered \|  avg by project\_id, zone, instance\_id |
|Google Cloud Compute Engine|Memory Bytes Used|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/memory/bytes\_used \| avg by project\_id, zone, instance\_id, state ,instance\_name |
|Google Cloud Compute Engine|Memory Swap - In and Out|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/memory/balloon/swap\_in\_bytes\_count  \| avg by project\_id, zone, instance\_id, instance\_name |
|Google Cloud Compute Engine|Operation Count - Read/Write|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Guest Performance|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=guest/disk/operation\_count  direction=read \| avg by project\_id, zone, instance\_id, metric|
|Google Cloud Compute Engine|Operation Shares|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.methodName" as methodName <br />\| parse regex field=methodName "\\.compute\\.instances\\.(?\<method\>\\S+)"<br />\| count as operations by method<br />\| sort by operations, method asc|
|Google Cloud Compute Engine|Operations By Instance|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.methodName" as methodName <br />\| parse regex field=methodName "\\.compute\\.instances\\.(?\<method\>\\S+)"\| timeslice 1h<br />\|count as operations by  method,instance\_name<br />\| transpose row instance\_name column method|
|Google Cloud Compute Engine|Packets Dropped by Firewall|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=firewall/dropped\_packets\_count  \|  quantize using sum \| avg by project\_id, zone, instance\_id, instance\_name|
|Google Cloud Compute Engine|Platform Logs - Severity Distribution|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and !(log\_name matches "projects/\*/logs/cloudaudit.googleapis.com\*")<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}"<br />\| json "message.data.severity" as severity<br />\| json "message.data.jsonPayload.message" as payload<br />\| json "message.data.timestamp" as timestamp<br />\| count as frequency by severity<br />\| sort by frequency, severity asc<br />|
|Google Cloud Compute Engine|Platform Logs - Severity Trend|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and !(log\_name matches "projects/\*/logs/cloudaudit.googleapis.com\*")<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}"<br />\| json "message.data.severity" as severity<br />\| json "message.data.jsonPayload.message" as payload<br />\| json "message.data.timestamp" as timestamp<br />\| timeslice 15m<br />\| count as frequency by \_timeslice, severity<br />\| transpose row \_timeslice column severity<br />|
|Google Cloud Compute Engine|Read Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/read\_bytes\_count   \| eval \_value/1048576 \| quantize using sum \| sum|
|Google Cloud Compute Engine|Read Operations|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/read\_ops\_count \| quantize using sum \| sum|
|Google Cloud Compute Engine|Read/Write Bytes Count|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/read\_bytes\_count \| quantize using sum \| avg by project\_id, zone, instance\_id,device\_name|
|Google Cloud Compute Engine|Read/Write Ops Count|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/read\_ops\_count \| quantize using sum \| avg by project\_id, zone, instance\_id,device\_name|
|Google Cloud Compute Engine|Received Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}}  cloud.platform=gcp\_compute metric=instance/network/received\_bytes\_count \| quantize using sum \| avg by project\_id, zone, instance\_id,instance\_name|
|Google Cloud Compute Engine|Received Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/received\_bytes\_count \| eval \_value/(1048576) \| quantize using sum \| sum |
|Google Cloud Compute Engine|Received Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/received\_bytes\_count \| eval \_value/(1048576) \| quantize using sum \| sum |
|Google Cloud Compute Engine|Received Packets|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/received\_packets\_count  \|  quantize using sum \| avg by project\_id, zone, instance\_id,instance\_name|
|Google Cloud Compute Engine|Received Packets|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/received\_packets\_count \| quantize using sum \| sum|
|Google Cloud Compute Engine|Received Packets|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/received\_packets\_count \| quantize using sum \| sum|
|Google Cloud Compute Engine|Recent  Error Activity|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.protoPayload.methodName", "message.data.severity" as methodName,severity<br />\| parse regex field=methodName "\\.compute\\.instances\\.(?\<method\>\\S+)"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| json "message.data.timestamp", "message.data.protoPayload.authenticationInfo.principalEmail" as timestamp, user<br />\| where severity="ERROR"<br />\| json "message.data.protoPayload.status.code", "message.data.protoPayload.status.message" as errCode,errMsg<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| where (islast="true" or isNull(operation))<br />\|count timestamp, user, instance\_id,instance\_name, errCode,errMsg<br />\| fields timestamp, user, instance\_id,instance\_name, errCode,errMsg<br />\| sort by timestamp|
|Google Cloud Compute Engine|Recent Errors|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""  "ERROR"<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and !(log\_name matches "projects/\*/logs/cloudaudit.googleapis.com\*")<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}"<br />\| json "message.data.severity" as severity<br />\| where severity in ("ERROR")<br />\| json "message.data.jsonPayload.message" as payload<br />\| json "message.data.sourceLocation.function" as function<br />\| json "message.data.timestamp" as timestamp<br />\|count timestamp, project\_id, zone,instance\_id,severity, function,payload <br />\| fields timestamp, project\_id, zone,instance\_id,severity, function,payload<br />\| sort by timestamp|
|Google Cloud Compute Engine|Recent Instance Activity|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.timestamp", "message.data.protoPayload.authenticationInfo.principalEmail" as timestamp, user<br />\| json "message.data.protoPayload.methodName", "message.data.severity" as methodName,severity<br />\| parse regex field=methodName "\\.compute\\.instances\\.(?\<method\>\\S+)"<br />\|count timestamp, user, method, instance\_id,instance\_name, severity<br />\| fields timestamp, user, method, instance\_id,instance\_name, severity<br />\| sort by timestamp|
|Google Cloud Compute Engine|Recent Warnings|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""  "WARNING"<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and !(log\_name matches "projects/\*/logs/cloudaudit.googleapis.com\*")<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}"<br />\| json "message.data.severity" as severity<br />\| where severity="WARNING"<br />\| json "message.data.jsonPayload.message" as payload nodrop<br />\| json "message.data.labels.instance\_name" as instance\_name nodrop<br />\| json "message.data.sourceLocation.function" as function nodrop<br />\| json "message.data.timestamp" as timestamp nodrop<br />\| parse field=payload "[\*] [ warn] [\*] \*" as datetimeval, f1, warning\_message nodrop<br />\| count as frequency by timestamp, project\_id, zone,instance\_id, severity,warning\_message <br />\| sort by timestamp|
|Google Cloud Compute Engine|Regional Concurrent Operations|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} location={{location}} metric=quota/concurrent/regional\_concurrent\_operations/limit statistic=average    \| sum by project\_id |
|Google Cloud Compute Engine|Regional Concurrent Operations by Type|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} location={{location}} metric=quota/concurrent/regional\_concurrent\_operations/usage statistic=average  \| avg by project\_id,operation\_type |
|Google Cloud Compute Engine|Sent Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_bytes\_count \| eval \_value/(1048576) \| quantize using sum \| sum|
|Google Cloud Compute Engine|Sent Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_bytes\_count \| eval \_value/(1048576) \| quantize using sum \| sum|
|Google Cloud Compute Engine|Sent Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_bytes\_count \|  quantize using sum \| avg by project\_id, zone, instance\_id, instance\_name |
|Google Cloud Compute Engine|Sent Packets|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Performance Overview|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_packets\_count  \| quantize using sum \| sum|
|Google Cloud Compute Engine|Sent Packets|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_packets\_count  \| quantize using sum \| sum|
|Google Cloud Compute Engine|Sent Packets|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Network|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/network/sent\_packets\_count \|  quantize using sum \| avg by project\_id, zone, instance\_id, instance\_name|
|Google Cloud Compute Engine|Static Routes Per VPC Network|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/static\_routes\_per\_vpc\_network/limit  statistic=average     \| avg by project\_id,network\_id |
|Google Cloud Compute Engine|Static Routes Usage By VPC|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/static\_routes\_per\_vpc\_network/usage statistic=average  \| avg by project\_id, network\_id |
|Google Cloud Compute Engine|Subnet Range Quota distribution by VPC Id|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/subnet\_ranges\_per\_vpc\_network/usage  statistic=average \| avg by network\_id |
|Google Cloud Compute Engine|Subnet Ranges Per VPC Network|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/subnet\_ranges\_per\_vpc\_network/limit statistic=average       \| avg by project\_id, network\_id |
|Google Cloud Compute Engine|Subnet Ranges Usage By VPC|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Quota Overview|project\_id={{project\_id}} cloud.platform=gcp\_compute location={{location}} metric=quota/subnet\_ranges\_per\_vpc\_network/usage statistic=average  \| avg by project\_id,network\_id |
|Google Cloud Compute Engine|Top 10 Users|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.authenticationInfo.principalEmail" as user<br />\|count as requests by user<br />\| sort by requests<br />\| limit 10|
|Google Cloud Compute Engine|Top 10 Users by Activity|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.authenticationInfo.principalEmail", "message.data.protoPayload.methodName" as user, method<br />\| if (method matches "\*compute.instances.insert", 1, 0) as insert<br />\| if (method matches "\*compute.instances.delete", 1, 0) as delete<br />\| if (method matches "\*compute.instances.start", 1, 0) as start<br />\| if (method matches "\*compute.instances.stop", 1, 0) as stop<br />\| if (method matches "\*compute.instances.reset", 1, 0) as reset<br />\|sum(insert) as inserts, sum(delete) as deletes, sum(start) as starts, sum(stop) as stops, sum(reset) as resets by user<br />\| inserts+deletes+starts+stops+resets as total<br />\| fields user, total, inserts, deletes, starts, stops, resets<br />\| sort by total<br />\| limit 10|
|Google Cloud Compute Engine|Top 10 Users by Severity|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Audit Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName <br />\| parse regex field=resourcename "projects/\\S+/zones/(?\<zone\>\\S+)/instances/(?\<instance\_name\>\\S+)"<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}" AND toLowerCase(instance\_name) matches "{{instance\_name}}"<br />\| json "message.data.operation","message.data.operation.last" as operation,islast nodrop<br />\| where (islast="true" or isNull(operation))<br />\| json "message.data.protoPayload.authenticationInfo.principalEmail", "message.data.severity" as user, severity<br />\| if (severity matches "WARNING", 1, 0) as warning<br />\| if (severity matches "ERROR", 1, 0) as error<br />\| if (severity matches "CRITICAL", 1, 0) as critical<br />\| if (severity matches "ALERT", 1, 0) as alert<br />\| if (severity matches "EMERGENCY", 1, 0) as emergency<br />\| if (severity matches "NOTICE",1,0) as notice<br />\|sum(warning) as warnings, sum(error) as errors, sum(critical) as criticals, sum(alert) as alerts, sum(emergency) as emergencies, sum(notice) as notices by user<br />\| warnings+errors+criticals+alerts+emergencies+notices as total<br />\| fields user, total, emergencies, alerts, criticals, errors, warnings,notices<br />\| sort by total<br />\| limit 10|
|Google Cloud Compute Engine|Top Errors|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""  "ERROR"<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and !(log\_name matches "projects/\*/logs/cloudaudit.googleapis.com\*")<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}"<br />\| json "message.data.severity" as severity<br />\| where severity in ("ERROR")<br />\| json "message.data.jsonPayload.message" as payload<br />\| json "message.data.timestamp" as timestamp<br />\| count as frequency by payload <br />\| sort by frequency,payload asc<br />\| limit 10|
|Google Cloud Compute Engine|Top Warnings|Logs|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Platform Logs|\_sourceCategory={{Logsdatasource}}  logName resource timestamp "\\"type\\":\\"gce\_instance\\""  "WARNING"<br />\| json "message.data.resource.type","message.data.logName" as type,log\_name<br />\| where type = "gce\_instance" and !(log\_name matches "projects/\*/logs/cloudaudit.googleapis.com\*")<br />\| json "message.data.resource.labels.project\_id","message.data.resource.labels.zone","message.data.resource.labels.instance\_id" as project\_id,zone,instance\_id<br />\| where toLowerCase(project\_id) matches "{{project\_id}}" AND toLowerCase(zone) matches "{{zone}}" AND toLowerCase(instance\_id) matches "{{instance\_id}}"<br />\| json "message.data.severity" as severity<br />\| where severity="WARNING"<br />\| json "message.data.jsonPayload.message" as payload<br />\| parse field=payload "[\*] [ warn] [\*] \*" as datetimeval, f1, warning\_message nodrop<br />\| json "message.data.timestamp" as timestamp<br />\| count as frequency by warning\_message <br />\| sort by frequency, warning\_message asc<br />\| limit 10|
|Google Cloud Compute Engine|Write Bytes|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/write\_bytes\_count \| eval \_value/1048576 \| quantize using sum \| sum|
|Google Cloud Compute Engine|Write Operations|Metrics|Installed Apps/Google Cloud Compute Engine/Google Cloud Compute Engine - Disk|project\_id={{project\_id}} zone={{zone}} instance\_id={{instance\_id}} device\_name={{disk\_device\_name}} instance\_name={{instance\_name}} cloud.platform=gcp\_compute metric=instance/disk/write\_ops\_count  \| quantize using sum \| sum|

