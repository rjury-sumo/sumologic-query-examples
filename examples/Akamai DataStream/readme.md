# Akamai DataStream
## Sumo Logic App For: Akamai DataStream
The Sumo Logic App for Akamai DataStream is designed to help you monitor and analyze the performance of your Akamai Edge server and request handling pipeline. This app is tailored to work with the logs generated by Akamai DataStream 2, which include valuable information about each request, such as the request path, status code, response time, and more.
With the Akamai DataStream App, you can quickly and easily gain insights into your Akamai Edge server's performance and identify any issues that may be impacting your users' experience. The app provides pre-built queries that allow you to analyze your logs by various parameters, including response time, status code, request path, and more.
In addition, the app includes dashboards that allow you to visualize your log data in a way that makes it easy to understand trends and patterns. You can use these dashboards to monitor key metrics, such as request volume, response time, and error rate, and quickly identify any anomalies or issues.
Overall, the Akamai DataStream App provides a powerful tool for monitoring and analyzing the performance of your Akamai Edge server and request handling pipeline. Whether you're looking to troubleshoot an issue, optimize your server's performance, or simply gain a better understanding of your users' experience, this app is a valuable resource for any organization that relies on Akamai for content delivery.
Docs Link: [Akamai DataStream](https://help.sumologic.com/?cid=10191)

## Searches

### Log Searches

- **95th Percentile Response Time (sec)**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Average DNS Lookup Time (sec) by Country**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Average Response Time (sec)**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Average Response Time (sec) by Geo Location**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Average Transfer Time (sec) by Request Path**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Browsers and Operating Systems**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Request Types 
- **Cache Hit Ratio by Content Type**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Request Types 
- **Cache Hit Ratio Over Time**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Failed Video Streaming Requests**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Map (Unique Visitors)**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Median Response Time (sec)**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Requests by Billing Region and Cache Status**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Requests by City**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Requests by Country**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Requests by Country, State, and City**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Requests by Response Content Length**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Requests by User Agents**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Requests for Video Streaming**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Requests for Video Streaming Over Time**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Requests from High Risk Countries**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Requests that Returned Errors**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Requests with Error**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Request Types 
- **Response Time (sec) and Request Count Over Time**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Response Time (sec) Over Time**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring 
- **Successful Video Streaming Requests**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Successful Vs Failed Video Streaming Over Time**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Top 10 PC and Mac Versions**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Request Types 
- **Top 404-Causing URLs**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Overview 
- **Video File Extension Requested**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Video File Extension Requested - One Day Time Comparison**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming 
- **Vistor Platforms**: from Dashboard: Installed Apps/Akamai DataStream/Akamai DataStream - Request Types

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Akamai DataStream|95th Percentile Response Time (sec)|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| where reqPath != "" <br />\| timeslice 5m<br />\| pct(turnAroundTimeMSec,95) as p95\_turnAroundTimeMSec by reqPath <br />\| sort by p95\_turnAroundTimeMSec desc <br />\| p95\_turnAroundTimeMSec/1000 as p95\_turnAroundTime<br />\| fields reqPath, p95\_turnAroundTime<br />\| limit 10|
|Akamai DataStream|Average DNS Lookup Time (sec) by Country|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| timeslice 5m<br />\| avg(dnsLookupTimeMSec) as avg\_dnsLookupTimeMSec by country <br />\| avg\_dnsLookupTimeMSec/1000 as avg\_dnsLookupTime<br />\| sort by avg\_dnsLookupTime desc <br />\| fields country, avg\_dnsLookupTime|
|Akamai DataStream|Average Response Time (sec)|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| where reqPath != "" <br />\| timeslice 5m<br />\| avg(turnAroundTimeMSec) as avg\_turnAroundTimeMSec by reqPath <br />\| sort by avg\_turnAroundTimeMSec desc <br />\| avg\_turnAroundTimeMSec/1000 as avg\_turnAroundTime<br />\| fields reqPath, avg\_turnAroundTime<br />\| limit 10|
|Akamai DataStream|Average Response Time (sec) by Geo Location|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| avg(turnAroundTimeMSec) as avg\_turnAroundTimeMSec by country, state, city<br />\| sort by avg\_turnAroundTimeMSec desc <br />\| avg\_turnAroundTimeMSec/1000 as avg\_turnAroundTime<br />\| sort by avg\_turnAroundTime<br />\| fields    country, state, city, avg\_turnAroundTime<br />\| limit 10|
|Akamai DataStream|Average Transfer Time (sec) by Request Path|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| avg(transferTimeMSec) as avg\_transferTimeMSec by reqPath <br />\| avg\_transferTimeMSec/1000 as avg\_transferTime<br />\| sort by avg\_transferTime desc <br />\| fields reqPath, avg\_transferTime<br />\| limit 25|
|Akamai DataStream|Browsers and Operating Systems|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Request Types|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| if (UA matches "\*Windows \*" OR UA matches "\*Win32\*" OR UA matches "\*Win64\*","Windows","") as OS <br />\| if (UA matches "\*Macintosh\*" OR UA matches "\*Darwin/\*" OR UA matches "\*Mac OS\*","MacOS",OS) as OS <br />\| if (UA matches "\* CrOS \*","Chrome OS",OS) as OS<br />\| if (UA matches "\*Linux\*","Linux",OS) as OS <br />\| if (UA matches "\*iPad\*","iPad",OS) as OS <br />\| if (UA matches "\*iPhone\*","iPhone",OS) as OS <br />\| if (UA matches "\*Android\*","Android",OS) as OS <br />\| if (UA matches "\*Windows Phone\*","Windows Phone",OS) as OS <br />\| if (OS == "","Other",OS) as OS <br />\| if (UA matches "Mozilla/\*; rv:\*)\*","Mozilla","") as Browser<br />\| if (UA matches "\*MSIE\*","Internet Explorer",Browser) as Browser <br />\| if (UA matches "\*Firefox\*","Firefox",Browser) as Browser <br />\| if (UA matches "\*Safari\*","Safari",Browser) as Browser <br />\| if (OS=="Android" AND UA matches "\*WebKit\*","WebKit",Browser) as Browser<br />\| if ((OS=="iPhone" OR OS=="iPad") AND (UA matches "\*Mobile/\*" OR UA matches "\*AppleWebKit\*(KHTML\*Gecko)\*"),"Mobile Safari",Browser) as Browser<br />\| if (browser == "" AND OS=="MacOS" AND UA matches "Mozilla/\* (Macintosh;\*(KHTML, like Gecko)\*","Safari",Browser) as Browser <br />\| if (UA matches "\*MobileSafari/\*","Mobile Safari",Browser) as Browser<br />\| if (UA matches "\*Chrome\*","Chrome",Browser) as Browser <br />\| if (UA matches "Opera\*","Opera",Browser) as Browser <br />\| if (UA matches "Dolphin\*","Dolphin",Browser) as Browser <br />\| if (Browser == "","Other",Browser) as Browser  <br />\| count by OS,browser<br />\| transpose row os column browser as \*|
|Akamai DataStream|Cache Hit Ratio by Content Type|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Request Types|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\|if(cacheStatus == "1", 1, 0) as cacheHit <br />\| sum(cacheHit) as totalCacheHit, count(\*) as totalCount by rspContentType<br />\| totalCacheHit/totalCount as cacheHitRatio <br />\| fields rspContentType, cacheHitRatio<br />\| sort by cacheHitRatio desc|
|Akamai DataStream|Cache Hit Ratio Over Time|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\|if(cacheStatus == "1", 1, 0) as cacheHit <br />\| timeslice 1h<br />\| sum(cacheHit) as totalCacheHit, count(\*) as totalCount by  \_timeslice<br />\| totalCacheHit/totalCount as cacheHitRatio <br />\| fields \_timeslice, cacheHitRatio<br />|
|Akamai DataStream|Failed Video Streaming Requests|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}}  (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where statusCode !="200"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| count|
|Akamai DataStream|Map (Unique Visitors)|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\| lookup latitude, longitude, country\_code from geo://location on ip = cliip<br />\| count\_distinct(cliip) as \_count by latitude, longitude|
|Akamai DataStream|Median Response Time (sec)|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| where reqPath != "" <br />\| timeslice 5m<br />\| pct(turnAroundTimeMSec,50) as med\_turnAroundTimeMSec by reqPath <br />\| sort by med\_turnAroundTimeMSec desc <br />\| med\_turnAroundTimeMSec/1000 as med\_turnAroundTime<br />\| fields reqPath, med\_turnAroundTime<br />\| limit 10|
|Akamai DataStream|Requests by Billing Region and Cache Status|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\|count by billingRegion, cacheStatus<br />\| sort by \_count|
|Akamai DataStream|Requests by City|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| count by city<br />\| sort by \_count|
|Akamai DataStream|Requests by Country|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| count by country<br />\| sort by \_count|
|Akamai DataStream|Requests by Country, State, and City|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| count by  country, state, city<br />\| sort by \_count|
|Akamai DataStream|Requests by Response Content Length|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| sum(rspContentLen) as total\_resp\_bytes by reqPath  \| sort by total\_resp\_bytes <br />\| limit 10|
|Akamai DataStream|Requests by User Agents|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| count by UA<br />\| sort by \_count |
|Akamai DataStream|Requests for Video Streaming|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}} (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| count|
|Akamai DataStream|Requests for Video Streaming Over Time|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}} (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| timeslice 1h<br />\| count by \_timeslice<br />\| fillmissing timeslice<br />\| sort by \_timeslice|
|Akamai DataStream|Requests from High Risk Countries|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| count\_distinct(reqId) as frequency by cliIP <br />\| where !isEmpty(cliIP)<br />\| where isValidIPv4(cliIP) or isValidIPv6(cliIP) <br />\| if(isValidIPv4(cliIP), if(!isPrivateIP(cliIP),true,false),true) as is\_public <br />\| where is\_public <br />\| lookup latitude, longitude, country\_code from geo://location on ip = cliIP \| lookup country\_code from https://sumologic-app-data.s3.amazonaws.com/riskycountries.csv on country\_code=country\_code \| where !isBlank(country\_code)|
|Akamai DataStream|Requests that Returned Errors|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| int(statusCode) as statusCode<br />\| where statusCode \> 399<br />\| count by cliIP, reqMethod, reqPath, statusCode|
|Akamai DataStream|Requests with Error|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Request Types|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where errorCode != "-"<br />\| count by errorCode, statusCode ,cliIP, reqPath, reqMethod, totalBytes, city, serverCountry, securityRules<br />\| sort by \_count |
|Akamai DataStream|Response Time (sec) and Request Count Over Time|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| where reqPath != "" <br />\| timeslice 60m<br />\| turnAroundTimeMSec/1000 as turnAroundTime<br />\| avg(turnAroundTime) as avg\_turnAroundTime, count as requestCount by \_timeslice|
|Akamai DataStream|Response Time (sec) Over Time|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Performance and QoS Monitoring|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| where reqPath != "" <br />\| timeslice 60m<br />\| avg(turnAroundTimeMSec) as avg\_turnAroundTimeMSec, pct(turnAroundTimeMSec,95) as p95\_turnAroundTimeMSec, pct(turnAroundTimeMSec,50) as med\_turnAroundTimeMSec  by \_timeslice<br />\| avg\_turnAroundTimeMSec/1000 as avg\_turnAroundTime<br />\| p95\_turnAroundTimeMSec/1000 as p95\_turnAroundTime<br />\| med\_turnAroundTimeMSec/1000 as med\_turnAroundTime<br />\| fields \_timeslice, avg\_turnAroundTime, p95\_turnAroundTime, med\_turnAroundTime|
|Akamai DataStream|Successful Video Streaming Requests|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}} (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where statusCode ="200"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| count|
|Akamai DataStream|Successful Vs Failed Video Streaming Over Time|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}} (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where statusCode ="200"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| timeslice 1h<br />\| count by \_timeslice<br />\| fillmissing timeslice<br />\| sort by \_timeslice|
|Akamai DataStream|Top 10 PC and Mac Versions|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Request Types|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| parse regex field=UA "(?\<os\>Mac OS) (?\<version\>[^;\\)]+?)(?:;\|\\))" nodrop <br />\| parse regex field=UA "(?\<os\>Windows)(?: NT \| )(?\<version\>[\\d.]+)" nodrop <br />\| parse regex field=UA "(?\<os\>Linux) (?\<version\>\\S+?)(?:\\)\|;)" nodrop <br />\| where os != ""<br />\| count as count by os, version<br />\| sort count <br />\| limit 10|
|Akamai DataStream|Top 404-Causing URLs|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Overview|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField <br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| urldecode(reqPath) as reqPath<br />\| where statusCode = "404"<br />\| count as errors by reqPath <br />\| sort by errors \| limit 25|
|Akamai DataStream|Video File Extension Requested|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}} (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| count by reqPath<br />\| sort by \_count|
|Akamai DataStream|Video File Extension Requested - One Day Time Comparison|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Video Streaming|\_sourceCategory={{\_sourceCategory}} (aif OR aiff OR avi OR dv OR flv OR mkv OR mpeg OR mpg OR m4p OR m4v OR mp4 OR ogg OR ogv OR rm OR rmvb OR mov OR qt OR webm OR wmv OR 3gp OR 3g2 OR vtt OR srt OR sub OR ssa)<br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| where reqPath matches /\\.aif\|\\.aiff\|\\.avi\|\\.dv\|\\.flv\|\\.mkv\|\\.mpeg\|\\.mpg\|\\.m4p\|\\.m4v\|\\.mp4\|\\.ogg\|\\.ogv\|\\.rm\|\\.rmvb\|\\.mov\|\\.qt\|\\.webm\|\\.wmv\|\\.3gp\|\\.3g2\|\\.vtt\|\\.srt\|\\.sub\|\\.ssa/<br />\| count by reqPath<br />\| sort by \_count<br />\| compare with timeshift 1d|
|Akamai DataStream|Vistor Platforms|Logs|Installed Apps/Akamai DataStream/Akamai DataStream - Request Types|\_sourceCategory={{\_sourceCategory}} <br />\| json "version", "streamId", "cp", "reqId", "reqTimeSec", "bytes", "cliIP", "statusCode", "proto", "reqHost", "reqMethod", "reqPath", "reqPort", "rspContentLen", "rspContentType", "UA", "tlsOverheadTimeMSec", "tlsVersion", "objSize", "uncompressedSize", "overheadBytes", "totalBytes", "queryStr", "breadcrumbs", "accLang", "cookie", "range", "referer", "xForwardedFor", "maxAgeSec", "reqEndTimeMSec", "errorCode", "turnAroundTimeMSec", "transferTimeMSec", "dnsLookupTimeMSec", "lastByte", "edgeIP", "country", "state", "city", "serverCountry", "billingRegion", "cacheStatus", "securityRules", "ewUsageInfo", "ewExecutionInfo", "customField" as  version, streamId, cp, reqId, reqTimeSec, bytes, cliIP, statusCode, proto, reqHost, reqMethod, reqPath, reqPort, rspContentLen, rspContentType, UA, tlsOverheadTimeMSec, tlsVersion, objSize, uncompressedSize, overheadBytes, totalBytes, queryStr, breadcrumbs, accLang, cookie, range, referer, xForwardedFor, maxAgeSec, reqEndTimeMSec, errorCode, turnAroundTimeMSec, transferTimeMSec, dnsLookupTimeMSec, lastByte, edgeIP, country, state, city, serverCountry, billingRegion, cacheStatus, securityRules, ewUsageInfo, ewExecutionInfo, customField<br /><br />\|where cliIP matches "{{cliIP}}"<br />\|where statusCode matches "{{statusCode}}"<br />\|where reqHost matches "{{reqHost}}"<br />\|where reqMethod matches "{{reqMethod}}"<br />\|where reqPath matches "{{reqPath}}"<br />\|where rspContentType matches "{{rspContentType}}"<br />\|where UA matches "{{UA}}"<br />\|where referer matches "{{referer}}"<br />\|where errorCode matches "{{errorCode}}"<br />\|where turnAroundTimeMSec matches "{{turnAroundTimeMSec}}"<br />\|where transferTimeMSec matches "{{transferTimeMSec}}"<br />\|where country matches "{{country}}"<br />\|where state matches "{{state}}"<br />\|where city matches "{{city}}"<br />\|where billingRegion matches "{{billingRegion}}"<br />\|where cacheStatus matches "{{cacheStatus}}"<br />\| if (UA matches "\*iPad\*" OR UA matches "\*iPhone\*" OR UA matches "\*Android\*" OR UA matches "\*BlackBerry\*" OR UA matches "\*Galaxy\*" OR UA matches "LGE-\*" OR UA matches "SCH-\*" OR UA matches "\*HUAWEI-\*" OR UA matches "\*SAMSUNG\*" OR UA matches "\*samsung\*" OR UA matches "Dalvik/\*" OR UA matches "Nokia\*" OR UA matches "LG-\*" OR UA matches "\*CFNetwork\*"  OR UA matches "\*UP.Browser/\*" OR UA matches "\*QQ\*rowser\*" OR UA matches "\*NetFront/\*" OR UA matches "\*Windows Phone\*" OR UA matches "\*Mobile Safari\*" OR UA matches "\*iemobile\*","Mobile","") as type<br />\| if (UA matches "\*Windows\*" OR UA matches "\*Win64\*" OR UA matches "\*Win32\*" OR UA matches "\*i686\*" OR UA matches "\*x86\*","PC",type) as type<br />\| if (UA matches "\*Macintosh\*" OR UA matches "\*Mac OS\*","Mac",type) as type<br />\| if (type = "","bots/unknown",type) as type<br />\| count type<br />\| sort by \_count|

