# Asana
## Sumo Logic App For: Asana
The Asana App for Sumo Logic is designed to provide users with deep visibility into their Asana data. The app is based on Sumo Logic's cloud-to-cloud Asana source, which collects Asana data and delivers it to Sumo Logic for analysis. With the Asana App, users can monitor and analyze their Asana data to gain insights into user/team management updates, track user log-in activities, detect data access and export, and changes to security settings and user roles. The app provides a pre-built dashboard that allows users to visualize their Asana data in a meaningful way, and identify trends and patterns in their team's work.
Docs Link: [Asana](https://help.sumologic.com/?cid=10193)

## Searches

### Log Searches

- **Content Export by Resource**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Deletion Events**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Events by Access Token Authorization**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Events by App Authorization**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Events by Role Change**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Events by Team Status**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Events by User Authorization**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Geo Locations of User Logins**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Password Change Events**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Recent Access Control Events**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Recent Admin Settings**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **User Login Events Over Time**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **User Logins from Risky Locations**: from Dashboard: Installed Apps/Asana/Asana - Overview 
- **Users Invited**: from Dashboard: Installed Apps/Asana/Asana - Overview

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Asana|Content Export by Resource|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("workspace\_export\_started","search\_report\_export\_started","workspace\_teams\_export\_started","division\_teams\_export\_started","workspace\_members\_export\_started","project\_csv\_export\_started","attachment\_downloaded","workspace\_attachment\_export\_started","object\_export\_started")<br />\| count\_distinct(gid) as frequency by resource\_type<br />\| sort by frequency|
|Asana|Deletion Events|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_category matches "deletion"<br />\| count\_distinct(gid) as frequency by resource\_type,event\_type<br />\| transpose row resource\_type column event\_type|
|Asana|Events by Access Token Authorization|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_personal\_access\_token\_authorized","user\_personal\_access\_token\_revoked")<br />\| count\_distinct(gid) as frequency by event\_type<br />\| sort by frequency|
|Asana|Events by App Authorization|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_app\_authorized","user\_app\_revoked")<br />\| count\_distinct(gid) as frequency by event\_type<br />\| sort by frequency|
|Asana|Events by Role Change|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_workspace\_admin\_role\_changed","user\_division\_admin\_role\_changed","user\_team\_admin\_role\_changed")<br />\| count\_distinct(gid) as frequency by event\_type<br />\| sort by frequency|
|Asana|Events by Team Status|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("team\_created","team\_deleted","team\_undeleted")<br />\| count\_distinct(gid) as frequency by event\_type<br />\| sort by frequency|
|Asana|Events by User Authorization|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_two\_factor\_auth\_enabled","user\_two\_factor\_auth\_disabled")<br />\| count\_distinct(gid) as frequency by event\_type<br />\| sort by frequency|
|Asana|Geo Locations of User Logins|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_login\_succeeded","user\_login\_failed","user\_logged\_out","user\_forgot\_password\_started")<br />\| count\_distinct(gid) as frequency by ip<br />\| where isValidIPv4(ip) or isValidIPv6(ip)<br />\| where !isEmpty(ip)<br />\| if(isValidIPv4(ip), if(!isPrivateIP(ip),true,false),true) as is\_public<br />\| where is\_public<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = ip|
|Asana|Password Change Events|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_password\_changed","user\_password\_reset")<br />\| count\_distinct(gid) as frequency|
|Asana|Recent Access Control Events|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}   <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_category matches "access\_control"<br />\| count\_distinct(gid) as frequency by \_messageTime, event\_type, resource\_type, resource\_name, actor\_name, actor\_email <br />\| formatDate(toLong(\_messageTime), "dd-MM-yyyy HH:mm:ss") as time<br />\| fields time, event\_type, resource\_name, actor\_name, actor\_email, resource\_type<br />\| fields -\_messageTime<br />\| sort by time<br />\| limit 100|
|Asana|Recent Admin Settings|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}   <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_category matches "admin\_settings"<br />\| count\_distinct(gid) as frequency by \_messageTime, event\_type, actor\_name, actor\_email <br />\| formatDate(toLong(\_messageTime), "dd-MM-yyyy HH:mm:ss") as time<br />\| fields time, event\_type, actor\_name, actor\_email<br />\| fields -\_messageTime<br />\| sort by time<br />\| limit 100|
|Asana|User Login Events Over Time|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_login\_succeeded","user\_login\_failed","user\_logged\_out","user\_forgot\_password\_started")<br />\| timeslice 1d<br />\| count as frequency by \_timeslice,event\_type<br />\| fillmissing timeslice, values all in event\_type<br />\| transpose row \_timeslice column event\_type |
|Asana|User Logins from Risky Locations|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}  <br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type in ("user\_login\_succeeded","user\_login\_failed","user\_logged\_out","user\_forgot\_password\_started")<br />\| count\_distinct(gid) as frequency by ip<br />\| where isValidIPv4(ip) or isValidIPv6(ip)<br />\| where !isEmpty(ip)<br />\| if(isValidIPv4(ip), if(!isPrivateIP(ip),true,false),true) as is\_public<br />\| where is\_public<br />\| lookup latitude, longitude, country\_code from geo://location on ip = ip <br />\| lookup country\_code from https://sumologic-app-data.s3.amazonaws.com/riskycountries.csv on country\_code=country\_code <br />\| where !isBlank(country\_code)|
|Asana|Users Invited|Logs|Installed Apps/Asana/Asana - Overview|\_sourceCategory={{Logsdatasource}}   "user\_invited"<br />\| json "gid","event\_type","resource.name","resource.email","resource.resource\_type","event\_category", "created\_at", "actor.name", "actor.email","context.client\_ip\_address" as gid, event\_type, resource\_name, resource\_email, resource\_type, event\_category, created\_at, actor\_name, actor\_email, ip nodrop<br />\| where event\_type matches "\*user\_invited\*"<br />\| count\_distinct(resource\_email) as frequency|

