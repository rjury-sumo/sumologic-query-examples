# Istio
## Sumo Logic App For: Istio
Istio reduces the complexity of managing Kubernetes deployments by providing a uniform platform for securing, connecting, and monitoring microservices. 
The Sumo Logic App for Istio  provides visibility into the health and performance of Istio and its control plane components, including Mixer, Galley, Citadel, Pilot and Envoy. App dashboards also allow you to monitor how services and applications are performing in Istio Mesh, providing insights into service latency, errors, network traffic, and request workloads.
Docs Link: [Istio](https://help.sumologic.com/?cid=1982)

## Searches

### Log Searches

- **HTTP Methods**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **HTTP Methods**: from Dashboard: Istio/Logs/Istio - Logs 
- **Last 10 Errors**: from Dashboard: Istio/Logs/Istio - Logs 
- **Last 10 Errors**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Last 20 Unsuccessful Requests**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Last 20 Unsuccessful Requests**: from Dashboard: Istio/Logs/Istio - Logs 
- **Last 25 Logs**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Last 25 Logs**: from Dashboard: Istio/Logs/Istio - Logs 
- **Log Reduce**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Log Reduce**: from Dashboard: Istio/Logs/Istio - Logs 
- **Logs Breakdown**: from Dashboard: Istio/Logs/Istio - Logs 
- **Logs Breakdown**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Logs over Time**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Logs over Time**: from Dashboard: Istio/Logs/Istio - Logs 
- **Non 200 Response Codes**: from Dashboard: Istio/Logs/Istio - Logs 
- **Non 200 Response Codes**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Top 10 Errors**: from Dashboard: Istio/Logs/Istio - Logs 
- **Top 10 Errors**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs 
- **Top 5 Paths**: from Dashboard: Istio/Logs/Istio - Logs 
- **Top 5 Paths**: from Dashboard: Installed Apps/Istio/Logs/Istio - Logs

### Metric Searches

- **4XX Count**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **4XX Count**: from Dashboard: Istio/Istio - Overview 
- **4XX Response Code - Outlier**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Outlier Analysis 
- **4XX Response Code - Outlier**: from Dashboard: Istio/Metrics/Istio - Outlier Analysis 
- **4XX Responses**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **4XX Responses**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **5XX Count**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **5XX Count**: from Dashboard: Istio/Istio - Overview 
- **5XX Response Code - Outlier**: from Dashboard: Istio/Metrics/Istio - Outlier Analysis 
- **5XX Response Code - Outlier**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Outlier Analysis 
- **5XX Responses**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **5XX Responses**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **Average Request Bytes by App**: from Dashboard: Istio/Istio - Overview 
- **Average Request Bytes by App**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Average Request Count by App**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Average Request Count by App**: from Dashboard: Istio/Istio - Overview 
- **Average Request Count by Service**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **Average Request Count by Service**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **Average Request Duration by App**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Average Request Duration by App**: from Dashboard: Istio/Istio - Overview 
- **Average Request Duration Source to Destination**: from Dashboard: Istio/Istio - Overview 
- **Average Request Duration Source to Destination**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Average Request Latency by Node**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **Average Request Latency by Node**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **Average Request Size by Service**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **Average Request Size by Service**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **Average Response Bytes by App**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Average Response Bytes by App**: from Dashboard: Istio/Istio - Overview 
- **Average Response Size by Service**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **Average Response Size by Service**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **Build Info**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Build Info**: from Dashboard: Istio/Istio - Overview 
- **Client Request Duration**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Client Request Duration**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Config Update Errors**: from Dashboard: Istio/Metrics/Istio - Galley 
- **Config Update Errors**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Galley 
- **Config Updates**: from Dashboard: Istio/Metrics/Istio - Galley 
- **Config Updates**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Galley 
- **Delayed/Timed Out XDS Pushes**: from Dashboard: Istio/Metrics/Istio - Pilot Traffic 
- **Delayed/Timed Out XDS Pushes**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Pilot Traffic 
- **Global Success Rate (Non 5xx Responses)**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Global Success Rate (Non 5xx Responses)**: from Dashboard: Istio/Istio - Overview 
- **Incoming Request by Response Code and Service**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Incoming Request by Response Code and Service**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Incoming Request Duration by Source Workload**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Incoming Request Duration by Source Workload**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Incoming Request Size by Source**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Incoming Request Size by Source**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Incoming Request Volume by Destination Application**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Incoming Request Volume by Destination Application**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Max Number of File Descriptors**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Max Number of File Descriptors**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Median CPU Required for GC**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Median CPU Required for GC**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Median GC Duration (ms)**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Median GC Duration (ms)**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Median GC Duration by Node**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Median GC Duration by Node**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Median Number of OS Thread Created**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Median Number of OS Thread Created**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Median Percentage Heap in Use**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Median Percentage Heap in Use**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Median Percentage of Available Memory Allocated**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Median Percentage of Available Memory Allocated**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Number of Applications**: from Dashboard: Installed Apps/Istio/Istio - Overview 
- **Number of Applications**: from Dashboard: Istio/Istio - Overview 
- **Number of Failed Outgoing Requests**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Number of Failed Outgoing Requests**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Number of Outgoing Requests**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Number of Outgoing Requests**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Outgoing Request Duration by Destination**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Outgoing Request Duration by Destination**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Outgoing Request Size By Destination**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Outgoing Request Size By Destination**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Outgoing Requests by Destination and Response Code**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Outgoing Requests by Destination and Response Code**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Outgoing Success Rate (non-5xx responses) By Destination**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Outgoing Success Rate (non-5xx responses) By Destination**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Pilot Endpoint Not Ready**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Pilot Traffic 
- **Pilot Endpoint Not Ready**: from Dashboard: Istio/Metrics/Istio - Pilot Traffic 
- **Pilot Proxy Queue Time**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Pilot Traffic 
- **Pilot Proxy Queue Time**: from Dashboard: Istio/Metrics/Istio - Pilot Traffic 
- **Request Count - Outlier**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Outlier Analysis 
- **Request Count - Outlier**: from Dashboard: Istio/Metrics/Istio - Outlier Analysis 
- **Request Latency - Outlier**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Outlier Analysis 
- **Request Latency - Outlier**: from Dashboard: Istio/Metrics/Istio - Outlier Analysis 
- **Request Size - Outlier**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Outlier Analysis 
- **Request Size - Outlier**: from Dashboard: Istio/Metrics/Istio - Outlier Analysis 
- **Resource validation failed**: from Dashboard: Istio/Metrics/Istio - Galley 
- **Resource validation failed**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Galley 
- **Resource Validation Passed**: from Dashboard: Istio/Metrics/Istio - Galley 
- **Resource Validation Passed**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Galley 
- **Response Size - Outlier**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Outlier Analysis 
- **Response Size - Outlier**: from Dashboard: Istio/Metrics/Istio - Outlier Analysis 
- **Response Size by Destination**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Response Size by Destination**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Success Rate Percent (Non-5xx Responses)**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Success Rate Percent (Non-5xx Responses)**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Success Response Rate (Non 5xx Responses)**: from Dashboard: Istio/Metrics/Istio - Mesh Throughput 
- **Success Response Rate (Non 5xx Responses)**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Mesh Throughput 
- **Total Incoming Request Volume**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Workload 
- **Total Incoming Request Volume**: from Dashboard: Istio/Metrics/Istio - Workload 
- **Virtual Memory Size**: from Dashboard: Istio/Metrics/Istio - Resource Usage 
- **Virtual Memory Size**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Resource Usage 
- **Virtual Service Known to Pilot**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Pilot Traffic 
- **Virtual Service Known to Pilot**: from Dashboard: Istio/Metrics/Istio - Pilot Traffic 
- **XDS Connected Endspoints**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Pilot Traffic 
- **XDS Connected Endspoints**: from Dashboard: Istio/Metrics/Istio - Pilot Traffic 
- **xDS pushes per API (including errors)**: from Dashboard: Installed Apps/Istio/Metrics/Istio - Pilot Traffic 
- **xDS pushes per API (including errors)**: from Dashboard: Istio/Metrics/Istio - Pilot Traffic

## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Istio|4XX Count|Metrics|Istio/Istio - Overview| metric=istio\_requests\_total response\_code=4\* cluster={{cluster}} reporter={{reporter}} \| sum |
|Istio|4XX Count|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_requests\_total response\_code=4\* cluster={{cluster}} reporter={{reporter}} \| sum |
|Istio/Metrics|4XX Response Code - Outlier|Metrics|Istio/Metrics/Istio - Outlier Analysis|  metric=istio\_requests\_total response\_code=4\*  cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|4XX Response Code - Outlier|Metrics|Installed Apps/Istio/Metrics/Istio - Outlier Analysis|  metric=istio\_requests\_total response\_code=4\*  cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|4XX Responses|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total response\_code=4\* cluster={{cluster}} service={{service}} reporter={{reporter}} \| avg by cluster, service|
|Istio/Metrics|4XX Responses|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total response\_code=4\* cluster={{cluster}} service={{service}} reporter={{reporter}} \| avg by cluster, service|
|Istio|5XX Count|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_requests\_total response\_code=5\* cluster={{cluster}} reporter={{reporter}} \| sum |
|Istio|5XX Count|Metrics|Istio/Istio - Overview| metric=istio\_requests\_total response\_code=5\* cluster={{cluster}} reporter={{reporter}} \| sum |
|Istio/Metrics|5XX Response Code - Outlier|Metrics|Istio/Metrics/Istio - Outlier Analysis|  metric=istio\_requests\_total response\_code=5\*  cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|5XX Response Code - Outlier|Metrics|Installed Apps/Istio/Metrics/Istio - Outlier Analysis|  metric=istio\_requests\_total response\_code=5\*  cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|5XX Responses|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total response\_code=5\* cluster={{cluster}} reporter={{reporter}} \| avg by cluster|
|Istio/Metrics|5XX Responses|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total response\_code=5\* cluster={{cluster}} reporter={{reporter}} \| avg by cluster|
|Istio|Average Request Bytes by App|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_request\_bytes\_bucket cluster={{cluster}} reporter={{reporter}}  \| avg by destination\_app|
|Istio|Average Request Bytes by App|Metrics|Istio/Istio - Overview| metric=istio\_request\_bytes\_bucket cluster={{cluster}} reporter={{reporter}}  \| avg by destination\_app|
|Istio|Average Request Count by App|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_requests\_total cluster={{cluster}} reporter={{reporter}} \| avg by destination\_app |
|Istio|Average Request Count by App|Metrics|Istio/Istio - Overview| metric=istio\_requests\_total cluster={{cluster}} reporter={{reporter}} \| avg by destination\_app |
|Istio/Metrics|Average Request Count by Service|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total cluster={{cluster}} reporter={{reporter}} service={{service}}  \| avg by cluster, service, source\_app|
|Istio/Metrics|Average Request Count by Service|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total cluster={{cluster}} reporter={{reporter}} service={{service}}  \| avg by cluster, service, source\_app|
|Istio|Average Request Duration by App|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_request\_duration\_milliseconds\_bucket cluster={{cluster}} reporter={{reporter}}  \| eval(\_value/1000) \| avg by destination\_app|
|Istio|Average Request Duration by App|Metrics|Istio/Istio - Overview| metric=istio\_request\_duration\_milliseconds\_bucket cluster={{cluster}} reporter={{reporter}}  \| eval(\_value/1000) \| avg by destination\_app|
|Istio|Average Request Duration Source to Destination|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_request\_duration\_milliseconds\_bucket cluster={{cluster}} reporter=source source\_workload=\* destination\_workload=\* \| avg by source\_workload, destination\_workload|
|Istio|Average Request Duration Source to Destination|Metrics|Istio/Istio - Overview| metric=istio\_request\_duration\_milliseconds\_bucket cluster={{cluster}} reporter=source source\_workload=\* destination\_workload=\* \| avg by source\_workload, destination\_workload|
|Istio/Metrics|Average Request Latency by Node|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_request\_duration\_milliseconds\_sum service={{service}} cluster={{cluster}} reporter={{reporter}} node=\* \| avg by cluster, node, service|
|Istio/Metrics|Average Request Latency by Node|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_request\_duration\_milliseconds\_sum service={{service}} cluster={{cluster}} reporter={{reporter}} node=\* \| avg by cluster, node, service|
|Istio/Metrics|Average Request Size by Service|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_request\_bytes\_sum cluster={{cluster}} reporter={{reporter}} service={{service}} \| avg by cluster, service|
|Istio/Metrics|Average Request Size by Service|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_request\_bytes\_sum cluster={{cluster}} reporter={{reporter}} service={{service}} \| avg by cluster, service|
|Istio|Average Response Bytes by App|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_response\_bytes\_bucket cluster={{cluster}} reporter={{reporter}}  \| avg by destination\_app|
|Istio|Average Response Bytes by App|Metrics|Istio/Istio - Overview| metric=istio\_response\_bytes\_bucket cluster={{cluster}} reporter={{reporter}}  \| avg by destination\_app|
|Istio/Metrics|Average Response Size by Service|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_response\_bytes\_sum cluster={{cluster}} reporter={{reporter}} service={{service}} \| avg by cluster, service, source\_app|
|Istio/Metrics|Average Response Size by Service|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_response\_bytes\_sum cluster={{cluster}} reporter={{reporter}} service={{service}} \| avg by cluster, service, source\_app|
|Istio|Build Info|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_build cluster={{cluster}} app=\* tag=\*  node=\* instance=\* \| avg by app, tag, node , instance |
|Istio|Build Info|Metrics|Istio/Istio - Overview| metric=istio\_build cluster={{cluster}} app=\* tag=\*  node=\* instance=\* \| avg by app, tag, node , instance |
|Istio/Metrics|Client Request Duration|Metrics|Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_request\_duration\_milliseconds\_bucket reporter=source  destination\_app={{app}}  \| quantize 2h \| rate \| sum by cluster|
|Istio/Metrics|Client Request Duration|Metrics|Installed Apps/Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_request\_duration\_milliseconds\_bucket reporter=source  destination\_app={{app}}  \| quantize 2h \| rate \| sum by cluster|
|Istio/Metrics|Config Update Errors|Metrics|Installed Apps/Istio/Metrics/Istio - Galley| metric=galley\_validation\_config\_update\_error cluster={{cluster}} \| count by cluster|
|Istio/Metrics|Config Update Errors|Metrics|Istio/Metrics/Istio - Galley| metric=galley\_validation\_config\_update\_error cluster={{cluster}} \| count by cluster|
|Istio/Metrics|Config Updates|Metrics|Installed Apps/Istio/Metrics/Istio - Galley| metric=galley\_validation\_config\_updates cluster={{cluster}} \| count by cluster|
|Istio/Metrics|Config Updates|Metrics|Istio/Metrics/Istio - Galley| metric=galley\_validation\_config\_updates cluster={{cluster}} \| count by cluster|
|Istio/Metrics|Delayed/Timed Out XDS Pushes|Metrics|Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_xds\_expired\_nonce cluster={{cluster}} \| avg by cluster|
|Istio/Metrics|Delayed/Timed Out XDS Pushes|Metrics|Installed Apps/Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_xds\_expired\_nonce cluster={{cluster}} \| avg by cluster|
|Istio|Global Success Rate (Non 5xx Responses)|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_requests\_total !response\_code=5\* cluster={{cluster}} reporter={{reporter}} \| sum|
|Istio|Global Success Rate (Non 5xx Responses)|Metrics|Istio/Istio - Overview| metric=istio\_requests\_total !response\_code=5\* cluster={{cluster}} reporter={{reporter}} \| sum|
|Istio/Logs|HTTP Methods|Logs|Installed Apps/Istio/Logs/Istio - Logs|( namespace=istio-system) cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytes\_sent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| parse regex field=req "(?\<method\>.+?) (?\<path\>.+?) (?\<protocol\>.+)"<br />\| where !isBlank(method)<br />\| count as count by method<br />\| sort by count, method asc<br />\| limit 5|
|Istio/Logs|HTTP Methods|Logs|Istio/Logs/Istio - Logs|( namespace=istio-system) cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytes\_sent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| parse regex field=req "(?\<method\>.+?) (?\<path\>.+?) (?\<protocol\>.+)"<br />\| where !isBlank(method)<br />\| count as count by method<br />\| sort by count, method asc<br />\| limit 5|
|Istio/Metrics|Incoming Request by Response Code and Service|Metrics|Installed Apps/Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_requests\_total  destination\_app={{app}} namespace={{destination\_namespace}} destination\_workload={{destination\_workload}} source\_workload={{source\_workload}}  source\_workload\_namespace={{source\_namespace}} \| quantize 5m  \| sum by response\_code, service, cluster|
|Istio/Metrics|Incoming Request by Response Code and Service|Metrics|Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_requests\_total  destination\_app={{app}} namespace={{destination\_namespace}} destination\_workload={{destination\_workload}} source\_workload={{source\_workload}}  source\_workload\_namespace={{source\_namespace}} \| quantize 5m  \| sum by response\_code, service, cluster|
|Istio/Metrics|Incoming Request Duration by Source Workload|Metrics|Installed Apps/Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_request\_duration\_milliseconds\_bucket  destination\_workload={{destination\_workload}} destination\_workload\_namespace={{destination\_namespace}} source\_workload={{source\_workload}}  source\_workload\_namespace={{source\_namespace}}  \| quantize 2h \| sum by source\_workload, cluster|
|Istio/Metrics|Incoming Request Duration by Source Workload|Metrics|Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_request\_duration\_milliseconds\_bucket  destination\_workload={{destination\_workload}} destination\_workload\_namespace={{destination\_namespace}} source\_workload={{source\_workload}}  source\_workload\_namespace={{source\_namespace}}  \| quantize 2h \| sum by source\_workload, cluster|
|Istio/Metrics|Incoming Request Size by Source|Metrics|Installed Apps/Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_request\_bytes\_bucket destination\_workload={{destination\_workload}} destination\_workload\_namespace={{destination\_namespace}} source\_workload={{source\_workload}}  source\_workload\_namespace={{source\_namespace}}  \| quantize 5m  \| sum by source\_workload, cluster|
|Istio/Metrics|Incoming Request Size by Source|Metrics|Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_request\_bytes\_bucket destination\_workload={{destination\_workload}} destination\_workload\_namespace={{destination\_namespace}} source\_workload={{source\_workload}}  source\_workload\_namespace={{source\_namespace}}  \| quantize 5m  \| sum by source\_workload, cluster|
|Istio/Metrics|Incoming Request Volume by Destination Application|Metrics|Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_requests\_total  destination\_app={{app}} namespace={{destination\_namespace}} \| quantize 5m\| sum by cluster, destination\_app|
|Istio/Metrics|Incoming Request Volume by Destination Application|Metrics|Installed Apps/Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_requests\_total  destination\_app={{app}} namespace={{destination\_namespace}} \| quantize 5m\| sum by cluster, destination\_app|
|Istio/Logs|Last 10 Errors|Logs|Installed Apps/Istio/Logs/Istio - Logs| cluster={{cluster}} (error or fail\* or except\*)<br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\|count as count by date\_time,msg \|sort by count,date\_time\| limit 10 \|  fields date\_time,msg |
|Istio/Logs|Last 10 Errors|Logs|Istio/Logs/Istio - Logs| cluster={{cluster}} (error or fail\* or except\*)<br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\|count as count by date\_time,msg \|sort by count,date\_time\| limit 10 \|  fields date\_time,msg |
|Istio/Logs|Last 20 Unsuccessful Requests|Logs|Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytes\_sent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| where !(response\_code=200)<br />\|  avg(duration) as avg\_req\_duration, count as count by response\_code, response\_code\_details, downstream\_local\_address ,  upstream\_host<br />\| sort count <br />\| limit 20|
|Istio/Logs|Last 20 Unsuccessful Requests|Logs|Installed Apps/Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytes\_sent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| where !(response\_code=200)<br />\|  avg(duration) as avg\_req\_duration, count as count by response\_code, response\_code\_details, downstream\_local\_address ,  upstream\_host<br />\| sort count <br />\| limit 20|
|Istio/Logs|Last 25 Logs|Logs|Istio/Logs/Istio - Logs| cluster={{cluster}} <br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\| count by date\_time,msg <br />\| sort by date\_time <br />\| limit 25<br />\| fields date\_time,msg|
|Istio/Logs|Last 25 Logs|Logs|Installed Apps/Istio/Logs/Istio - Logs| cluster={{cluster}} <br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\| count by date\_time,msg <br />\| sort by date\_time <br />\| limit 25<br />\| fields date\_time,msg|
|Istio/Logs|Log Reduce|Logs|Istio/Logs/Istio - Logs| cluster={{cluster}} <br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\| limit 10000<br />\| logreduce by msg <br />\| \_count as count <br />\| fields msg, signature, count|
|Istio/Logs|Log Reduce|Logs|Installed Apps/Istio/Logs/Istio - Logs| cluster={{cluster}} <br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\| limit 10000<br />\| logreduce by msg <br />\| \_count as count <br />\| fields msg, signature, count|
|Istio/Logs|Logs Breakdown|Logs|Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| if (pod\_labels\_app matches "\*telemetry\*" or pod\_labels\_app matches "\*policy\*", "Mixer",pod\_labels\_app) as component<br />\| count by component <br />\| sort - \_count|
|Istio/Logs|Logs Breakdown|Logs|Installed Apps/Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| if (pod\_labels\_app matches "\*telemetry\*" or pod\_labels\_app matches "\*policy\*", "Mixer",pod\_labels\_app) as component<br />\| count by component <br />\| sort - \_count|
|Istio/Logs|Logs over Time|Logs|Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| timeslice 5m<br />\| pod\_labels\_app as component<br />\| count by component, \_timeslice<br />\| transpose row \_timeslice column component|
|Istio/Logs|Logs over Time|Logs|Installed Apps/Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| timeslice 5m<br />\| pod\_labels\_app as component<br />\| count by component, \_timeslice<br />\| transpose row \_timeslice column component|
|Istio/Metrics|Max Number of File Descriptors|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_process\_max\_fds cluster={{cluster}} \| pct(50.0) by cluster|
|Istio/Metrics|Max Number of File Descriptors|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_process\_max\_fds cluster={{cluster}} \| pct(50.0) by cluster|
|Istio/Metrics|Median CPU Required for GC|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_memstats\_gc\_cpu\_fraction  cluster={{cluster}} \| pct(50.0) by service, cluster |
|Istio/Metrics|Median CPU Required for GC|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_memstats\_gc\_cpu\_fraction  cluster={{cluster}} \| pct(50.0) by service, cluster |
|Istio/Metrics|Median GC Duration (ms)|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_gc\_duration\_seconds cluster={{cluster}} quantile=0.5 \| avg by quantile, cluster|
|Istio/Metrics|Median GC Duration (ms)|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_gc\_duration\_seconds cluster={{cluster}} quantile=0.5 \| avg by quantile, cluster|
|Istio/Metrics|Median GC Duration by Node|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_gc\_duration\_seconds cluster={{cluster}} \| pct(50.0) by node, cluster|
|Istio/Metrics|Median GC Duration by Node|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_gc\_duration\_seconds cluster={{cluster}} \| pct(50.0) by node, cluster|
|Istio/Metrics|Median Number of OS Thread Created|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_threads cluster={{cluster}} \| pct(50.0) by cluster|
|Istio/Metrics|Median Number of OS Thread Created|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_threads cluster={{cluster}} \| pct(50.0) by cluster|
|Istio/Metrics|Median Percentage Heap in Use|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_memstats\_heap\_inuse\_bytes cluster={{cluster}} \| pct(50.0) by service, cluster|
|Istio/Metrics|Median Percentage Heap in Use|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_memstats\_heap\_inuse\_bytes cluster={{cluster}} \| pct(50.0) by service, cluster|
|Istio/Metrics|Median Percentage of Available Memory Allocated|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_memstats\_alloc\_bytes cluster={{cluster}} \| pct(50.0) by cluster, node|
|Istio/Metrics|Median Percentage of Available Memory Allocated|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_go\_memstats\_alloc\_bytes cluster={{cluster}} \| pct(50.0) by cluster, node|
|Istio/Logs|Non 200 Response Codes|Logs|Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytessent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| where response\_code != "200"<br />\| timeslice 1h<br />\| count by response\_code, \_timeslice<br />\| transpose row \_timeslice column response\_code|
|Istio/Logs|Non 200 Response Codes|Logs|Installed Apps/Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytessent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| where response\_code != "200"<br />\| timeslice 1h<br />\| count by response\_code, \_timeslice<br />\| transpose row \_timeslice column response\_code|
|Istio|Number of Applications|Metrics|Istio/Istio - Overview| metric=istio\_requests\_total cluster={{cluster}} reporter={{reporter}} \| count by destination\_app \| count|
|Istio|Number of Applications|Metrics|Installed Apps/Istio/Istio - Overview| metric=istio\_requests\_total cluster={{cluster}} reporter={{reporter}} \| count by destination\_app \| count|
|Istio/Metrics|Number of Failed Outgoing Requests|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_num\_failed\_outgoing\_requests cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Number of Failed Outgoing Requests|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_num\_failed\_outgoing\_requests cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Number of Outgoing Requests|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_num\_outgoing\_requests cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Number of Outgoing Requests|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_num\_outgoing\_requests cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Outgoing Request Duration by Destination|Metrics|Installed Apps/Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_request\_duration\_milliseconds\_bucket  source\_workload\_namespace={{destination\_namespace}} destination\_service={{app}} source\_workload={{destination\_workload}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Outgoing Request Duration by Destination|Metrics|Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_request\_duration\_milliseconds\_bucket  source\_workload\_namespace={{destination\_namespace}} destination\_service={{app}} source\_workload={{destination\_workload}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Outgoing Request Size By Destination|Metrics|Installed Apps/Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_request\_bytes\_bucket  source\_workload\_namespace={{destination\_namespace}} destination\_service={{app}} source\_workload={{destination\_workload}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Outgoing Request Size By Destination|Metrics|Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_request\_bytes\_bucket  source\_workload\_namespace={{destination\_namespace}} destination\_service={{app}} source\_workload={{destination\_workload}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Outgoing Requests by Destination and Response Code|Metrics|Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_requests\_total source\_workload\_namespace={{source\_namespace}} source\_workload=\*  destination\_service={{app}} \| quantize 5m \| rate \| sum by destination\_service, response\_code, cluster|
|Istio/Metrics|Outgoing Requests by Destination and Response Code|Metrics|Installed Apps/Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_requests\_total source\_workload\_namespace={{source\_namespace}} source\_workload=\*  destination\_service={{app}} \| quantize 5m \| rate \| sum by destination\_service, response\_code, cluster|
|Istio/Metrics|Outgoing Success Rate (non-5xx responses) By Destination|Metrics|Installed Apps/Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_requests\_total  !response\_code=5\*  source\_workload\_namespace={{source\_namespace}} source\_workload=\*  destination\_service={{app}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Outgoing Success Rate (non-5xx responses) By Destination|Metrics|Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_requests\_total  !response\_code=5\*  source\_workload\_namespace={{source\_namespace}} source\_workload=\*  destination\_service={{app}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Pilot Endpoint Not Ready|Metrics|Installed Apps/Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_endpoint\_not\_ready cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Pilot Endpoint Not Ready|Metrics|Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_endpoint\_not\_ready cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Pilot Proxy Queue Time|Metrics|Installed Apps/Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_proxy\_queue\_time\_sum cluster={{cluster}} \| avg by cluster|
|Istio/Metrics|Pilot Proxy Queue Time|Metrics|Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_proxy\_queue\_time\_sum cluster={{cluster}} \| avg by cluster|
|Istio/Metrics|Request Count - Outlier|Metrics|Installed Apps/Istio/Metrics/Istio - Outlier Analysis| metric=istio\_requests\_total cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}} direction=+-|
|Istio/Metrics|Request Count - Outlier|Metrics|Istio/Metrics/Istio - Outlier Analysis| metric=istio\_requests\_total cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}} direction=+-|
|Istio/Metrics|Request Latency - Outlier|Metrics|Installed Apps/Istio/Metrics/Istio - Outlier Analysis| metric=istio\_request\_duration\_milliseconds\_sum cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|Request Latency - Outlier|Metrics|Istio/Metrics/Istio - Outlier Analysis| metric=istio\_request\_duration\_milliseconds\_sum cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|Request Size - Outlier|Metrics|Installed Apps/Istio/Metrics/Istio - Outlier Analysis| metric=istio\_request\_bytes\_sum cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|Request Size - Outlier|Metrics|Istio/Metrics/Istio - Outlier Analysis| metric=istio\_request\_bytes\_sum cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|Resource validation failed|Metrics|Istio/Metrics/Istio - Galley| metric=galley\_validation\_failed cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Resource validation failed|Metrics|Installed Apps/Istio/Metrics/Istio - Galley| metric=galley\_validation\_failed cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Resource Validation Passed|Metrics|Istio/Metrics/Istio - Galley| metric=galley\_validation\_passed cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Resource Validation Passed|Metrics|Installed Apps/Istio/Metrics/Istio - Galley| metric=galley\_validation\_passed cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|Response Size - Outlier|Metrics|Installed Apps/Istio/Metrics/Istio - Outlier Analysis| metric=istio\_response\_bytes\_sum cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|Response Size - Outlier|Metrics|Istio/Metrics/Istio - Outlier Analysis| metric=istio\_response\_bytes\_sum cluster={{cluster}} \| avg by cluster \| outlier window={{window}} threshold={{threshold}}  direction=+-|
|Istio/Metrics|Response Size by Destination|Metrics|Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_response\_bytes\_bucket source\_workload\_namespace={{destination\_namespace}} destination\_service={{app}} source\_workload={{destination\_workload}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Response Size by Destination|Metrics|Installed Apps/Istio/Metrics/Istio - Workload| cluster={{cluster}} metric=istio\_response\_bytes\_bucket source\_workload\_namespace={{destination\_namespace}} destination\_service={{app}} source\_workload={{destination\_workload}} \| quantize 5m \| rate \| sum by destination\_service, cluster|
|Istio/Metrics|Success Rate Percent (Non-5xx Responses)|Metrics|Istio/Metrics/Istio - Workload|   cluster={{cluster}} metric=istio\_requests\_total  destination\_app={{app}} namespace={{destination\_namespace}} !response\_code=5\* \| quantize 5m \|rate \| sum by cluster|
|Istio/Metrics|Success Rate Percent (Non-5xx Responses)|Metrics|Installed Apps/Istio/Metrics/Istio - Workload|   cluster={{cluster}} metric=istio\_requests\_total  destination\_app={{app}} namespace={{destination\_namespace}} !response\_code=5\* \| quantize 5m \|rate \| sum by cluster|
|Istio/Metrics|Success Response Rate (Non 5xx Responses)|Metrics|Installed Apps/Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total !response\_code=5\* cluster={{cluster}} service={{service}} reporter={{reporter}} \| avg by cluster, service|
|Istio/Metrics|Success Response Rate (Non 5xx Responses)|Metrics|Istio/Metrics/Istio - Mesh Throughput| metric=istio\_requests\_total !response\_code=5\* cluster={{cluster}} service={{service}} reporter={{reporter}} \| avg by cluster, service|
|Istio/Logs|Top 10 Errors|Logs|Istio/Logs/Istio - Logs| cluster={{cluster}} (error or fail\* or except\*)<br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\|count as count by msg \| sort by count \| limit 10|
|Istio/Logs|Top 10 Errors|Logs|Installed Apps/Istio/Logs/Istio - Logs| cluster={{cluster}} (error or fail\* or except\*)<br />\| json field=\_raw "log" as msg<br />\| json field=\_raw "time" as date\_time<br />\|count as count by msg \| sort by count \| limit 10|
|Istio/Logs|Top 5 Paths|Logs|Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytes\_sent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| parse regex field=req "(?\<method\>.+?) (?\<path\>.+?) (?\<protocol\>.+)"<br />\| where !isBlank(path)<br />\| count as count by path<br />\| sort by count, path asc<br />\| limit 5|
|Istio/Logs|Top 5 Paths|Logs|Installed Apps/Istio/Logs/Istio - Logs| namespace=istio-system cluster={{cluster}}<br />\| json field=\_raw "log" as log\_message<br />\| parse regex field=log\_message "\\[(?\<start\_time\>.+)\\] \\"(?\<req\>.+?)\\" (?\<response\_code\>.+?) (?\<response\_flags\>.+?) (?\<response\_code\_details\>.+?) (?\<con\_term\_details\>.+?) \\"(?\<upstream\_fail\_reason\>.+?)\\" (?\<bytes\_recvd\>.+?) (?\<bytes\_sent\>.+?) (?\<duration\>.+?) (?\<resp\>.+?) \\"(?\<req\_fwd\_for\>.+?)\\" \\"(?\<user\_agent\>.+?)\\" \\"(?\<request\_id\>.+?)\\" \\"(?\<request\_authority\>.+?)\\" \\"(?\<upstream\_host\>.+?)\\" (?\<upstream\_cluster\>.+?) (?\<upstream\_loacl\_address\>.+?) (?\<downstream\_local\_address\>.+?) (?\<downstream\_remote\_address\>.+?) (?\<requested\_server\_name\>.+?) (?\<route\_name\>.+?)"<br />\| parse regex field=req "(?\<method\>.+?) (?\<path\>.+?) (?\<protocol\>.+)"<br />\| where !isBlank(path)<br />\| count as count by path<br />\| sort by count, path asc<br />\| limit 5|
|Istio/Metrics|Total Incoming Request Volume|Metrics|Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_requests\_total destination\_app={{app}} namespace={{destination\_namespace}} \| quantize 5m\| sum by cluster|
|Istio/Metrics|Total Incoming Request Volume|Metrics|Installed Apps/Istio/Metrics/Istio - Workload|  cluster={{cluster}} metric=istio\_requests\_total destination\_app={{app}} namespace={{destination\_namespace}} \| quantize 5m\| sum by cluster|
|Istio/Metrics|Virtual Memory Size|Metrics|Installed Apps/Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_process\_virtual\_memory\_bytes cluster={{cluster}} \| pct(50.0) by cluster|
|Istio/Metrics|Virtual Memory Size|Metrics|Istio/Metrics/Istio - Resource Usage| metric=istio\_agent\_process\_virtual\_memory\_bytes cluster={{cluster}} \| pct(50.0) by cluster|
|Istio/Metrics|Virtual Service Known to Pilot|Metrics|Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_virt\_services cluster={{cluster}} \| sum|
|Istio/Metrics|Virtual Service Known to Pilot|Metrics|Installed Apps/Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_virt\_services cluster={{cluster}} \| sum|
|Istio/Metrics|XDS Connected Endspoints|Metrics|Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_xds  cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|XDS Connected Endspoints|Metrics|Installed Apps/Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_xds  cluster={{cluster}} \| sum by cluster|
|Istio/Metrics|xDS pushes per API (including errors)|Metrics|Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_xds\_pushes cluster={{cluster}} \| sum by cluster, type|
|Istio/Metrics|xDS pushes per API (including errors)|Metrics|Installed Apps/Istio/Metrics/Istio - Pilot Traffic| metric=istio\_agent\_pilot\_xds\_pushes cluster={{cluster}} \| sum by cluster, type|

