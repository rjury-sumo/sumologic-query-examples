# Cassandra
## Sumo Logic App For: Cassandra
The Sumo Logic App for Cassandra is a unified logs and metrics app that helps you monitor the availability, performance and resource utilization of your Cassandra database clusters. Preconfigured dashboards provide insight into the database cluster status, resource utilization, compactions, SST Tables, dropped messages, warning and error logs.
Docs Link: [Cassandra](https://help.sumologic.com/?cid=210608)

## Searches

### Log Searches

- **Cache Init**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Init Capacity (MB)**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Items Save**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Loading Details**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Loading Items**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Read**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Saving Details**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Saving Schedule**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Cache Status**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Enqueue Flush**: from Dashboard: Cassandra/Logs/Cassandra - Memtable 
- **Error Logs by Thread**: from Dashboard: Cassandra/Cassandra - Overview 
- **Error Logs by Thread**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings 
- **Error Summary - Daily**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings 
- **Errors**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings 
- **Flush Activity**: from Dashboard: Cassandra/Logs/Cassandra - Memtable 
- **Handshake Failures by Endpoint**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Heap Size**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Heap Used**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Largest CFS being Flushed**: from Dashboard: Cassandra/Logs/Cassandra - Memtable 
- **Log Reduce**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings 
- **Memory Committed (GB)**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Memory Init (GB)**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Memory Max (GB)**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Memory Size**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Memory Used (GB)**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Memtable Status**: from Dashboard: Cassandra/Logs/Cassandra - Memtable 
- **Node Activity**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Node Down Events**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Node Join Events**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Node Up Events**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Nodes Down**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Nodes Joined**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Nodes Up**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Pending Tasks**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Pending Tasks**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Replication Endpoints Down Events**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Silent Client Removed**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Sleep Events**: from Dashboard: Cassandra/Logs/Cassandra - Gossip 
- **Table Init**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Threadpool Activity**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Threadpool Status**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Total Cache Capacity**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Total Cache Read**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Total Cache Size**: from Dashboard: Cassandra/Logs/Cassandra - Cache Stats 
- **Total Heap**: from Dashboard: Cassandra/Logs/Cassandra - Resource Usage Logs 
- **Warnings**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings 
- **Warnings Logs by Thread**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings 
- **Warnings Logs by Thread**: from Dashboard: Cassandra/Cassandra - Overview 
- **Warnings Summary - Daily**: from Dashboard: Cassandra/Logs/Cassandra - Errors and Warnings

### Metric Searches

- **Active Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Active Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Available Processors**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Average System Load**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Chunck Cache Hit Rate**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Commit Log**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Compaction (MB)**: from Dashboard: Cassandra/Metrics/Cassandra - Compactions 
- **Completed Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Completed Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **CPU Used Percentage**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **CPU Util**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **CPU Utilization**: from Dashboard: Cassandra/Cassandra - Overview 
- **CPU Utilization by Host**: from Dashboard: Cassandra/Cassandra - Overview 
- **Current Blocked Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Current Blocked Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Disk Space Used by Host**: from Dashboard: Cassandra/Cassandra - Overview 
- **Dropped Message**: from Dashboard: Cassandra/Cassandra - Overview 
- **Estimated Partition Count**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **GC Collection Count**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **GC Count / Second Rate**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **GC Duration (for last GC Event)**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **GC Events**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **GC Time / Second rate**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **Heap Memory Usage (MB)**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Heap Memory Usage (MB)**: from Dashboard: Cassandra/Cassandra - Overview 
- **Internal (Completed over 5 min)**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Internal Blocked**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Internal Pending**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Key Cache Hit Rate**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Last GC Thread Count**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **Max Pool Size**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Max Pool Size**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Memory Cleared across Memory Pool (MB)**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **Memory Cleared across Memory Pools**: from Dashboard: Cassandra/Metrics/Cassandra - Garbage Collection 
- **Memtable Columns**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Memtable Data Size (MB)**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Memtable Live Data Size**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Memtable Off Heap Memory Used**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Memtable On Heap Memory Used**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Memtable Operations Per Sec**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Memtable Switch Count**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Native Clients Connected**: from Dashboard: Cassandra/Cassandra - Overview 
- **Nb Scanned Tombstones  50th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Nb Scanned Tombstones  99th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Nb Scanned Tombstones  MAX**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Nb SSTables per Read  50th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Nb SSTables per Read  99th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Nb SSTables per Read  MAX**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Nodes Down**: from Dashboard: Cassandra/Cassandra - Overview 
- **Non Heap Memory Usage (MB)**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Pending Compactions**: from Dashboard: Cassandra/Cassandra - Overview 
- **Pending Compactions**: from Dashboard: Cassandra/Metrics/Cassandra - Compactions 
- **Pending Flushes**: from Dashboard: Cassandra/Metrics/Cassandra - Compactions 
- **Pending Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Pending Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Physical Memory**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Physical Memory Used Percentage**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Physical Memory Util**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Processors**: from Dashboard: Cassandra/Cassandra - Overview 
- **Range Scan Latencies**: from Dashboard: Cassandra/Cassandra - Overview 
- **Read Latency 50th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Read Latency 99th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Read Latency MAX**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Read Operations Per Sec**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Read Requests Counts**: from Dashboard: Cassandra/Cassandra - Overview 
- **Repair Ratio**: from Dashboard: Cassandra/Cassandra - Overview 
- **Repair Ratio by Keyspace**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Request (Completed Over 5 min)**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Request Blocked**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Request Pending**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Row Cache Hit**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Row Cache Miss**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **SSTables**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **SSTables Per Read Histogram**: from Dashboard: Cassandra/Cassandra - Overview 
- **Thread Blocked Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Thread Blocked Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Thread Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Threads Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Timeouts (1 minute rate)**: from Dashboard: Cassandra/Cassandra - Overview 
- **Total Blocked Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Read Path 
- **Total Blocked Tasks**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Total Disk Space Used (GB) by Keyspace**: from Dashboard: Cassandra/Metrics/Cassandra - Resource Usage 
- **Total Nodes**: from Dashboard: Cassandra/Cassandra - Overview 
- **Total Physical Memory**: from Dashboard: Cassandra/Cassandra - Overview 
- **Total Swap Memory**: from Dashboard: Cassandra/Cassandra - Overview 
- **Transport (Completed Over 5 min)**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Transport Blocked**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Transport Pending**: from Dashboard: Cassandra/Metrics/Cassandra - Thread Pool 
- **Used Physical Memory**: from Dashboard: Cassandra/Cassandra - Overview 
- **Waiting for Free Memtable Space**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Write Latency 50th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Write Latency 99th Percentile**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Write Latency MAX**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Write Operations**: from Dashboard: Cassandra/Metrics/Cassandra - Write Path 
- **Write Request Counts**: from Dashboard: Cassandra/Cassandra - Overview

## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Cassandra/Metrics|Active Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value scope=readstage name=ActiveTasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host<br />|
|Cassandra/Metrics|Active Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value name=activetasks scope=mutationstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|Available Processors|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_AvailableProcessors db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by metric|
|Cassandra/Metrics|Average System Load|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_SystemLoadAverage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Logs|Cache Init|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" Initializing \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "main" and source\_file matches "CacheService\*" and message matches "Initializing\*"<br />\| parse field=message "Initializing \* cache with capacity of \* MBs\*" as cache\_type,cache\_capacity\_mb,cache\_provider<br />\| timeslice 1h<br />\|sum(cache\_capacity\_mb) as cache\_capacity\_mb by \_timeslice<br />\| sort by \_timeslice asc<br />|
|Cassandra/Logs|Cache Init Capacity (MB)|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" Initializing \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "main" and source\_file matches "CacheService\*" and message matches "Initializing\*"<br />\| parse field=message "Initializing \* cache with capacity of \* MBs\*" as cache\_type,cache\_capacity\_mb,cache\_provider<br />\|sum(cache\_capacity\_mb) as cache\_capacity\_mb<br />|
|Cassandra/Logs|Cache Items Save|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" "CompactionExecutor" "Saved" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "CompactionExecutor" and source\_file matches "AutoSavingCache\*" and message matches "\*Saved KeyCache\*"<br />\| parse regex field=message "Saved (?\<cache\_type\>[^ ]\*) \\((?\<cache\_items\>[0-9]\*) items\\) in (?\<save\_duration\_ms\>[0-9]\*) ms"<br />\| sum(cache\_items) as cache\_items<br />|
|Cassandra/Logs|Cache Loading Details|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "AutoSavingCache\*" and message matches "\*Completed loading\*"<br />\| parse regex field=message "Completed loading \\((?\<load\_duration\_ms\>[0-9]\*) ms; (?\<cache\_items\>[0-9]\*) keys\\) KeyCache cache"<br />\| timeslice 1m<br />\| count by \_timeslice,load\_duration\_ms,cache\_items \| fields -\_count<br />|
|Cassandra/Logs|Cache Loading Items|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "AutoSavingCache\*" and message matches "\*Completed loading\*"<br />\| parse regex field=message "Completed loading \\((?\<load\_duration\_ms\>[0-9]\*) ms; (?\<cache\_items\>[0-9]\*) keys\\) KeyCache cache"<br />\| sum(cache\_items) as cache\_items<br />|
|Cassandra/Logs|Cache Read|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "AutoSavingCache\*" and message matches "\*reading saved cache\*"<br />\| parse regex field=message "reading saved cache (?\<cache\_file\>.\*)"<br />\| timeslice 1d<br />\| count by \_timeslice, cache\_file<br />\| transpose row \_timeslice column cache\_file<br />|
|Cassandra/Logs|Cache Saving Details|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" "CompactionExecutor" "Saved" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "CompactionExecutor" and source\_file matches "AutoSavingCache\*" and message matches "\*Saved KeyCache\*"<br />\| parse regex field=message "Saved (?\<cache\_type\>[^ ]\*) \\((?\<cache\_items\>[0-9]\*) items\\) in (?\<save\_duration\_ms\>[0-9]\*) ms"<br />\| timeslice 1h<br />\|sum(cache\_items) as items, sum(save\_duration\_ms) as save\_duration by \_timeslice<br />\| sort by \_timeslice asc<br />|
|Cassandra/Logs|Cache Saving Schedule|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "main" and source\_file matches "CacheService\*" and message matches "Scheduling\*"<br />\| parse regex field=message "Scheduling (?\<cache\_type\>[^ ]\*) cache save to every (?\<save\_interval\>[0-9]\*) seconds \\(going to save (?\<keys\_to\_save\>[^ ]\*) keys\\)."<br />\| count by \_timeslice,cache\_type,save\_interval,keys\_to\_save<br />\| fields - \_count<br />|
|Cassandra/Logs|Cache Status|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "Service Thread" and message matches "KeyCache\*"<br />\| parse regex field=message "(?\<cache\_type\>[A-Za-z]\*Cache(?! Type)) \*(?\<size\>[0-9]\*) \*(?\<capacity\>[0-9]\*) \*(?\<keys\_to\_save\>[^ ]\*) \*(?\<provider\>[A-Za-z\_.\$]\*)"<br />\| timeslice 1h<br />\|sum(size) as size, sum(capacity) as capacity by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Metrics|Chunck Cache Hit Rate|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_CacheMetrics\_ChunkCache\_OneMinuteRate db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,name|
|Cassandra/Metrics|Commit Log|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_CommitLogMetrics\_CompletedTasks\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,name|
|Cassandra/Metrics|Compaction (MB)|Metrics|Cassandra/Metrics/Cassandra - Compactions|metric=cassandra\_TableMetrics\_CompactionBytesWritten\_Count db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster, host, keyspace \| eval \_value/1024/1024|
|Cassandra/Metrics|Completed Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value name=completedtasks scope=mutationstage  db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|Completed Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value scope=readstage name=CompletedTasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host<br />|
|Cassandra/Metrics|CPU Used Percentage|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_SystemCpuLoad db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| eval \_value\*100|
|Cassandra/Metrics|CPU Util|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_SystemCpuLoad db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* \| avg \| eval \_value\*100|
|Cassandra|CPU Utilization|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_OperatingSystem\_SystemCpuLoad db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| eval(\_value\*100) \| max|
|Cassandra|CPU Utilization by Host|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_OperatingSystem\_SystemCpuLoad db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| eval (\_value\*100) \| sum by host, db\_cluster|
|Cassandra/Metrics|Current Blocked Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Count name=CurrentlyBlockedTasks scope=readstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|Current Blocked Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Count name=CurrentlyBlockedTasks scope=mutationstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra|Disk Space Used by Host|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_TotalDiskSpaceUsed\_Count db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  name=totaldiskspaceused \| sum by db\_cluster, host|
|Cassandra|Dropped Message|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_DroppedMessageMetrics\_Dropped\_OneMinuteRate db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  name=dropped \| sum by db\_cluster,host,scope|
|Cassandra/Logs|Enqueue Flush|Logs|Cassandra/Logs/Cassandra - Memtable|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Enqueuing flush of" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "ColumnFamilyStore\*"<br />\| parse regex field=message "Enqueuing flush of Memtable-(?\<table\>[^@]\*)@(?\<hash\_code\>[0-9]\*)\\((?\<serialized\_bytes\>[0-9]\*)/(?\<live\_bytes\>[0-9]\*) serialized/live bytes, (?\<ops\>[0-9]\*) ops\\)" nodrop<br />\| parse regex field=message "Enqueuing flush of (?\<table\>[^:]\*): (?\<on\_heap\_bytes\>[^:]\*) \\((?\<on\_heap\_limit\>[0-9]\*)%\\) on-heap, (?\<off\_heap\_bytes\>[^:]\*) \\((?\<off\_heap\_limit\>[0-9]\*)%\\) off-heap"<br />\| if (isEmpty(pod),\_sourceHost,pod) as host<br />\|count by host,table,hash\_code,serialized\_bytes,live\_bytes,ops,on\_heap\_bytes,on\_heap\_limit,off\_heap\_bytes,off\_heap\_limit<br />\|fields host,table,hash\_code,serialized\_bytes,live\_bytes,ops,on\_heap\_bytes,on\_heap\_limit,off\_heap\_bytes,off\_heap\_limit|
|Cassandra/Logs|Error Logs by Thread|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("ERROR") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*ERROR\*"<br />\| count by thread\_name|
|Cassandra|Error Logs by Thread|Logs|Cassandra/Cassandra - Overview|db\_system=cassandra ("ERROR") db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*ERROR\*"<br />\| count by thread\_name|
|Cassandra/Logs|Error Summary - Daily|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("ERROR") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*ERROR\*"<br />\| count by date, thread\_name, source\_file, message<br />\| fields - \_count|
|Cassandra/Logs|Errors|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("ERROR") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*ERROR\*"<br />\| count|
|Cassandra/Metrics|Estimated Partition Count|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_EstimatedPartitionCount\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra/Logs|Flush Activity|Logs|Cassandra/Logs/Cassandra - Memtable|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  ("Writing Memtable-" or "Completed flushing")\| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "ColumnFamilyStore\*" or source\_file matches "Memtable\*"<br />\| if (message matches "Writing Memtable-\*",1,0) as Begin\_Flush<br />\| if (message matches "Completed flushing \*",1,0) as End\_Flush<br />\| timeslice 1d<br />\| sum(Begin\_Flush) as Begin\_Flush, sum(End\_Flush) as End\_Flush by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Metrics|GC Collection Count|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_CollectionCount db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|GC Count / Second Rate|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_CollectionCount db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host \| rate|
|Cassandra/Metrics|GC Duration (for last GC Event)|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_LastGcInfo\_duration or metric=cassandra\_java\_GarbageCollector\_\*\_LastGcInfo.duration db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|GC Events|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_CollectionCount db\_cluster={{db\_cluster}} host={{host}} \_sourceCategory = Labs/cassandra\*  \| sum by name|
|Cassandra/Metrics|GC Time / Second rate|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_CollectionTime db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host \| rate|
|Cassandra/Logs|Handshake Failures by Endpoint|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra handshake db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Cannot handshake version with /(?\<endpoint\>.\*)"<br />\| count by endpoint<br />|
|Cassandra/Metrics|Heap Memory Usage (MB)|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_Memory\_HeapMemoryUsage\_used or metric=cassandra\_java\_Memory\_HeapMemoryUsage.used db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra|Heap Memory Usage (MB)|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_Memory\_HeapMemoryUsage\_used or metric=cassandra\_java\_Memory\_HeapMemoryUsage.used  db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| eval (\_value / 1024 / 1024) \| sum by host, db\_cluster|
|Cassandra/Logs|Heap Size|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Heap size" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Heap size: (?\<heap\_used\>[0-9].\*)/(?\<total\_heap\>[0-9].\*)"<br />\| if (isEmpty(pod),\_sourceHost,pod) as host<br />\|timeslice 1m<br />\|count by \_timeslice,host,heap\_used,total\_heap<br />\|fields host,heap\_used,total\_heap|
|Cassandra/Logs|Heap Used|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Heap size" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Heap size: (?\<heap\_used\>[0-9].\*)MiB/(?\<total\_heap\>[0-9].\*)MiB"<br />\| sum(heap\_used) as heap\_used<br />|
|Cassandra/Metrics|Internal (Completed over 5 min)|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_internal\_Value name=completedtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,scope \| timeshift -5m|
|Cassandra/Metrics|Internal Blocked|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_internal\_Count name=totalblockedtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Metrics|Internal Pending|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_internal\_Value name=pendingtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Metrics|Key Cache Hit Rate|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_KeyCacheHitRate\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra/Logs|Largest CFS being Flushed|Logs|Cassandra/Logs/Cassandra - Memtable|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Flushing largest CFS" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "ColumnFamilyStore\*"<br />\| parse regex field=message "Flushing largest CFS\\(Keyspace='(?\<keyspace\>[^']\*)', ColumnFamily='(?\<table\>[^']\*)'\\) to free up room. Used total: (?\<used\_on\_heap\>\\d+\\.\\d+)/(?\<used\_off\_heap\>\\d+\\.\\d+), live: (?\<live\_on\_heap\>\\d+\\.\\d+)/(?\<live\_off\_heap\>\\d+\\.\\d+), flushing: (?\<flushing\_on\_heap\>\\d+\\.\\d+)/(?\<flushing\_off\_heap\>\\d+\\.\\d+), this: (?\<this\_on\_heap\>\\d+\\.\\d+)/(?\<this\_off\_heap\>\\d+\\.\\d+)"<br />\| if (isEmpty(pod),\_sourceHost,pod) as host<br />\|count by host,keyspace,table,used\_on\_heap,used\_off\_heap,live\_on\_heap,live\_off\_heap,flushing\_on\_heap,flushing\_off\_heap,this\_on\_heap,this\_off\_heap<br />\|fields host,keyspace,table,used\_on\_heap,used\_off\_heap,live\_on\_heap,live\_off\_heap,flushing\_on\_heap,flushing\_off\_heap,this\_on\_heap,this\_off\_heap|
|Cassandra/Metrics|Last GC Thread Count|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_LastGcInfo\_GcThreadCount  or metric=cassandra\_java\_GarbageCollector\_\*\_LastGcInfo.GcThreadCount  db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Logs|Log Reduce|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("WARN") or ("ERROR") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*WARN\*" OR level matches "\*ERROR\*"<br />\| logreduce field=message by db\_cluster  \| \_count as count \| sort by count<br />\| fields db\_cluster, signature, count|
|Cassandra/Metrics|Max Pool Size|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value scope=readstage name=MaxPoolSize db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host<br /><br />|
|Cassandra/Metrics|Max Pool Size|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value name=MaxPoolSize scope=MutationStage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|Memory Cleared across Memory Pool (MB)|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_LastGcInfo\_memoryUsageAfterGc\_\*\_used db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| parse field=metric cassandra\_java\_GarbageCollector\_\*\_LastGcInfo\_memoryUsageAfterGc\_\*\_used as unused, MemoryPoolName\| sum by db\_cluster,host, name, MemoryPoolName|
|Cassandra/Metrics|Memory Cleared across Memory Pools|Metrics|Cassandra/Metrics/Cassandra - Garbage Collection|metric=cassandra\_java\_GarbageCollector\_\*\_LastGcInfo\_memoryUsageAfterGc\_\*\_used  db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| parse field=metric cassandra\_java\_GarbageCollector\_\*\_LastGcInfo\_memoryUsageAfterGc\_\*\_used as unused, MemoryPoolName\| sum by db\_cluster,host, name, MemoryPoolName|
|Cassandra/Logs|Memory Committed (GB)|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "(?\<memory\_type\>.\*) memory: init = (?\<memory\_init\>[0-9]\*)\\([0-9]\*K\\) used = (?\<memory\_used\>[0-9]\*)\\([0-9]\*K\\) committed = (?\<memory\_committed\>[0-9]\*)\\([0-9]\*K\\) max = (?\<memory\_max\>[0-9-]\*)\\([0-9-]\*K\\)"<br />\| sum(memory\_committed) as memory\_committed<br />\| memory\_committed/1024/1024/1024 as memory\_committed|
|Cassandra/Logs|Memory Init (GB)|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "(?\<memory\_type\>.\*) memory: init = (?\<memory\_init\>[0-9]\*)\\([0-9]\*K\\) used = (?\<memory\_used\>[0-9]\*)\\([0-9]\*K\\) committed = (?\<memory\_committed\>[0-9]\*)\\([0-9]\*K\\) max = (?\<memory\_max\>[0-9-]\*)\\([0-9-]\*K\\)"<br />\| sum(memory\_init) as memory\_init<br />\| memory\_init/1024/1024/1024 as memory\_init|
|Cassandra/Logs|Memory Max (GB)|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "(?\<memory\_type\>.\*) memory: init = (?\<memory\_init\>[0-9]\*)\\([0-9]\*K\\) used = (?\<memory\_used\>[0-9]\*)\\([0-9]\*K\\) committed = (?\<memory\_committed\>[0-9]\*)\\([0-9]\*K\\) max = (?\<memory\_max\>[0-9-]\*)\\([0-9-]\*K\\)"<br />\| sum(memory\_max) as memory\_max<br />\| memory\_max/1024/1024/1024 as memory\_max|
|Cassandra/Logs|Memory Size|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "(?\<memory\_type\>.\*) memory: init = (?\<memory\_init\>[0-9]\*)\\([0-9]\*K\\) used = (?\<memory\_used\>[0-9]\*)\\([0-9]\*K\\) committed = (?\<memory\_committed\>[0-9]\*)\\([0-9]\*K\\) max = (?\<memory\_max\>[0-9-]\*)\\([0-9-]\*K\\)"<br />\| if (isEmpty(pod),\_sourceHost,pod) as host<br />\|timeslice 1m<br />\|count by \_timeslice,host,memory\_type,memory\_init,memory\_used,memory\_committed,memory\_max<br />\|fields host,memory\_type,memory\_init,memory\_used,memory\_committed,memory\_max|
|Cassandra/Logs|Memory Used (GB)|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "(?\<memory\_type\>.\*) memory: init = (?\<memory\_init\>[0-9]\*)\\([0-9]\*K\\) used = (?\<memory\_used\>[0-9]\*)\\([0-9]\*K\\) committed = (?\<memory\_committed\>[0-9]\*)\\([0-9]\*K\\) max = (?\<memory\_max\>[0-9-]\*)\\([0-9-]\*K\\)"<br />\| sum(memory\_used) as memory\_used<br />\| memory\_used/1024/1024/1024 as memory\_used|
|Cassandra/Metrics|Memtable Columns|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_MemtableColumnsCount\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace|
|Cassandra/Metrics|Memtable Data Size (MB)|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_AllMemtablesHeapSize\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace,name \| filter latest\>0 \| eval \_value/1024/1024|
|Cassandra/Metrics|Memtable Live Data Size|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_MemtableLiveDataSize\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace|
|Cassandra/Metrics|Memtable Off Heap Memory Used|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_MemtableOffHeapSize\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace|
|Cassandra/Metrics|Memtable On Heap Memory Used|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_MemtableOnHeapSize\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace|
|Cassandra/Metrics|Memtable Operations Per Sec|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_MemtableSwitchCount\_Count db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra/Logs|Memtable Status|Logs|Cassandra/Logs/Cassandra - Memtable|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "StatusLogger" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg " - (?\<keyspace\>[^.]\*)\\.(?\<table\>[^ ]\*) +(?\<ops\>[0-9]\*),(?\<data\>[0-9]\*)"<br />\|timeslice 1d<br />\|sum(ops) as ops, sum(data) as data by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Metrics|Memtable Switch Count|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_MemtableSwitchCount\_Count db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace|
|Cassandra|Native Clients Connected|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_ClientMetrics\_connectedNativeClients\_Value db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by metric|
|Cassandra/Metrics|Nb Scanned Tombstones  50th Percentile|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_TombstoneScannedHistogram\_50thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Nb Scanned Tombstones  99th Percentile|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_TombstoneScannedHistogram\_99thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Nb Scanned Tombstones  MAX|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_TombstoneScannedHistogram\_Max  db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Nb SSTables per Read  50th Percentile|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_SSTablesPerReadHistogram\_50thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Nb SSTables per Read  99th Percentile|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_SSTablesPerReadHistogram\_99thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Nb SSTables per Read  MAX|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_SSTablesPerReadHistogram\_Max db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Logs|Node Activity|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as \_raw<br />\| parse regex field=\_raw "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| if (message matches "InetAddress \* is now UP",1,0) as UP<br />\| if (message matches "InetAddress \* is now DOWN",1,0) as DOWN<br />\| if (message matches "Node \* has restarted, now UP",1,0) as RESTARTED<br />\| if (message matches "Node \* is now part of the cluster",1,0) as JOINED<br />\| if (message matches "Removing host: \*",1,0) as REMOVING<br />\| if (message matches "Completing removal of \*",1,0) as REMOVED<br />\| timeslice 1d<br />\| sum(UP) as UP, sum(DOWN) as DOWN,  sum(RESTARTED) as RESTARTED, sum(JOINED) as JOINED, sum(REMOVING) as REMOVING,sum(REMOVED) as REMOVED by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Logs|Node Down Events|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "InetAddress" "is now DOWN"\| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "InetAddress /(?\<endpoint\>[^ ]\*) is now DOWN"<br />\| timeslice 100s<br />\| withtime server\_status \| withtime \_messagetime<br />\| most\_recent(server\_status\_withtime) as server\_status, most\_recent(\_messagetime\_withtime) as m\_time by endpoint<br />\| formatDate(fromMillis(m\_time), "MM-dd-yyyy HH:mm:ss:SSS", "UTC") as event\_time<br />\| ((toMillis(now())-m\_time)/(1000\*60)) as since\_mins \| format("%.2f", since\_mins) as since\_minutes<br />\| concat ("Since ", since\_minutes, " minutes") as Remark<br />\| fields - m\_time, since\_mins, since\_minutes <br />\| fields endpoint, event\_time, remark|
|Cassandra/Logs|Node Join Events|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "is now part of the cluster" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Node /(?\<endpoint\>[^ ]\*) is now part of the cluster"<br />\| timeslice 1s<br />\| count by \_timeslice, endpoint<br />\| fields - \_count|
|Cassandra/Logs|Node Up Events|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "InetAddress" "is now UP"\| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "InetAddress /(?\<endpoint\>[^ ]\*) is now UP"<br />\| timeslice 100s<br />\| withtime server\_status \| withtime \_messagetime<br />\| most\_recent(server\_status\_withtime) as server\_status, most\_recent(\_messagetime\_withtime) as m\_time by endpoint<br />\| formatDate(fromMillis(m\_time), "MM-dd-yyyy HH:mm:ss:SSS", "UTC") as event\_time<br />\| ((toMillis(now())-m\_time)/(1000\*60)) as since\_mins \| format("%.2f", since\_mins) as since\_minutes<br />\| concat ("Since ", since\_minutes, " minutes") as Remark<br />\| fields - m\_time, since\_mins, since\_minutes <br />\| fields endpoint, event\_time, remark<br />|
|Cassandra|Nodes Down|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_Net\_FailureDetector\_DownEndpointCount type=failuredetector  db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*   \| sum by metric|
|Cassandra/Logs|Nodes Down|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as \_raw<br />\| parse regex field=\_raw "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| if (message matches "InetAddress \* is now UP",1,0) as UP<br />\| if (message matches "InetAddress \* is now DOWN",1,0) as DOWN<br />\| if (message matches "Node \* has restarted, now UP",1,0) as RESTARTED<br />\| if (message matches "Node \* is now part of the cluster",1,0) as JOINED<br />\| if (message matches "Removing host: \*",1,0) as REMOVING<br />\| if (message matches "Completing removal of \*",1,0) as REMOVED<br />\| timeslice 1d<br />\| sum(DOWN) as DOWN by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Logs|Nodes Joined|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as \_raw<br />\| parse regex field=\_raw "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| if (message matches "InetAddress \* is now UP",1,0) as UP<br />\| if (message matches "InetAddress \* is now DOWN",1,0) as DOWN<br />\| if (message matches "Node \* has restarted, now UP",1,0) as RESTARTED<br />\| if (message matches "Node \* is now part of the cluster",1,0) as JOINED<br />\| if (message matches "Removing host: \*",1,0) as REMOVING<br />\| if (message matches "Completing removal of \*",1,0) as REMOVED<br />\| timeslice 1d<br />\| sum(JOINED) as JOINED by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Logs|Nodes Up|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as \_raw<br />\| parse regex field=\_raw "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| if (message matches "InetAddress \* is now UP",1,0) as UP<br />\| timeslice 1d<br />\| sum(UP) as UP by \_timeslice<br />\| sort by \_timeslice asc|
|Cassandra/Metrics|Non Heap Memory Usage (MB)|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_Memory\_NonHeapMemoryUsage\_used or metric=cassandra\_java\_Memory\_NonHeapMemoryUsage.used db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|Pending Compactions|Metrics|Cassandra/Metrics/Cassandra - Compactions|metric=cassandra\_TableMetrics\_PendingCompactions\_Value name=pendingcompactions db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra|Pending Compactions|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_PendingCompactions\_Value db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| max by metric,db\_cluster,host|
|Cassandra/Metrics|Pending Flushes|Metrics|Cassandra/Metrics/Cassandra - Compactions|metric=cassandra\_TableMetrics\_PendingFlushes\_Count db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra/Metrics|Pending Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value name=pendingtasks  scope=mutationstage  db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Logs|Pending Tasks|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Gossip stage has" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Gossip stage has (?\<pending\_tasks\>[0-9]+) pending tasks; skipping status check \\(no nodes will be marked down\\)"<br />\| timeslice 1d<br />\| sum(pending\_tasks) as pending\_tasks by \_timeslice<br /><br />|
|Cassandra/Metrics|Pending Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value scope=readstage name=PendingTasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host<br /><br />|
|Cassandra/Logs|Pending Tasks|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Gossip stage has" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Gossip stage has (?\<pending\_tasks\>[0-9]+) pending tasks; skipping status check \\(no nodes will be marked down\\)"<br />\| last(pending\_tasks) <br />|
|Cassandra/Metrics|Physical Memory|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_TotalPhysicalMemorySize db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by metric \| eval (\_value / 1024 / 1024 / 1024)|
|Cassandra/Metrics|Physical Memory Used Percentage|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_FreePhysicalMemorySize db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster, host|
|Cassandra/Metrics|Physical Memory Util|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_java\_OperatingSystem\_FreePhysicalMemorySize db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by metric|
|Cassandra|Processors|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_OperatingSystem\_AvailableProcessors db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by metric|
|Cassandra|Range Scan Latencies|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_RangeLatency\_Count name=rangelatency db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster, host,scope|
|Cassandra/Metrics|Read Latency 50th Percentile|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_ReadLatency\_50thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Read Latency 99th Percentile|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_ReadLatency\_99thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Read Latency MAX|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_ReadLatency\_Max db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Read Operations Per Sec|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_ReadLatency\_OneMinuteRate db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace |
|Cassandra|Read Requests Counts|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_ReadLatency\_OneMinuteRate name=readlatency db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,scope|
|Cassandra|Repair Ratio|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_PercentRepaired\_Value db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| avg by metric|
|Cassandra/Metrics|Repair Ratio by Keyspace|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_TableMetrics\_PercentRepaired\_Value name=percentrepaired db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| avg by db\_cluster,host,keyspace|
|Cassandra/Logs|Replication Endpoints Down Events|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "is down and will not receive data for re-replication of"\| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Endpoint /(?\<target\_endpoint\>[^ ]\*) is down and will not receive data for re-replication of /(?\<source\_endpoint\>.\*)"<br />\| timeslice 1s<br />\| count by \_timeslice, target\_endpoint, source\_endpoint<br />\| fields - \_count<br />|
|Cassandra/Metrics|Request (Completed Over 5 min)|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_request\_Value name=completedtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,scope \| timeshift -5m |
|Cassandra/Metrics|Request Blocked|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_request\_Count name=totalblockedtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Metrics|Request Pending|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_request\_Value name=pendingtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Metrics|Row Cache Hit|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_RowCacheHit\_Count db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace \| timeshift -5m \| rate|
|Cassandra/Metrics|Row Cache Miss|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_RowCacheMiss\_Count  db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace \| timeshift -5m \| rate|
|Cassandra/Logs|Silent Client Removed|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  FatClient \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "FatClient /(?\<endpoint\>[^ ]\*) has been silent for 30000ms, removing from gossip"<br />\| count by endpoint|
|Cassandra/Logs|Sleep Events|Logs|Cassandra/Logs/Cassandra - Gossip|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  Sleeping \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Sleeping for 30000ms to ensure /(?\<endpoint\>[^ ]\*) does not change"<br />\| timeslice 1d<br />\| count by \_timeslice, endpoint<br />\| transpose row \_timeslice column endpoint|
|Cassandra/Metrics|SSTables|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_TableMetrics\_LiveSSTableCount\_Value db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra|SSTables Per Read Histogram|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_SSTablesPerReadHistogram\_Count db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| max by metric,db\_cluster,host|
|Cassandra/Logs|Table Init|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Initializing" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "ColumnFamilyStore.java"<br />\| parse regex field=message "Initializing (?\<keyspace\>[^.]\*).(?\<table\>.\*)"<br />\| if (isEmpty(pod),\_sourceHost,pod) as host<br />\|timeslice 1m<br />\|count by \_timeslice,host,keyspace,table<br />\|fields host,keyspace,table|
|Cassandra/Metrics|Thread Blocked Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Count scope=MutationStage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,name|
|Cassandra/Metrics|Thread Blocked Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Count scope=readstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,name|
|Cassandra/Metrics|Thread Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value scope=readstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,name|
|Cassandra/Logs|Threadpool Activity|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "StatusLogger" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg " - (?\<pool\_name\>[A-Za-z\_]+) +(?\<active\>[0-9]+) +(?\<pending\>[0-9]+) +(?\<completed\>[0-9]+) +(?\<blocked\>[0-9]+) +(?\<all\_time\_blocked\>[0-9]+)"<br />\|sum(active) as active,sum(completed) as completed ,sum (blocked) as blocked, sum(pending) as pending<br />\|fields active,pending,completed,blocked|
|Cassandra/Logs|Threadpool Status|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "StatusLogger" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg " - (?\<pool\_name\>[A-Za-z\_]+) +(?\<active\>[0-9]+) +(?\<pending\>[0-9]+) +(?\<completed\>[0-9]+) +(?\<blocked\>[0-9]+) +(?\<all\_time\_blocked\>[0-9]+)"<br />\| if (isEmpty(pod),\_sourceHost,pod) as host<br />\|timeslice 1m<br />\|count by \_timeslice,host,pool\_name,active,pending,completed,blocked,all\_time\_blocked<br />\|fields host,pool\_name,active,pending,completed,blocked,all\_time\_blocked|
|Cassandra/Metrics|Threads Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Value scope=mutationstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,name<br />|
|Cassandra|Timeouts (1 minute rate)|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_ClientMetrics\_RequestDiscarded\_OneMinuteRate db\_cluster={{db\_cluster}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Metrics|Total Blocked Tasks|Metrics|Cassandra/Metrics/Cassandra - Read Path|metric=cassandra\_ThreadPoolMetrics\_request\_Count scope=readstage name=TotalBlockedTasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Metrics|Total Blocked Tasks|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_ThreadPoolMetrics\_request\_Count name=totalblockedtasks scope=mutationstage db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host|
|Cassandra/Logs|Total Cache Capacity|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "Service Thread" and message matches "KeyCache\*"<br />\| parse regex field=message "(?\<cache\_type\>[A-Za-z]\*Cache(?! Type)) \*(?\<size\>[0-9]\*) \*(?\<capacity\>[0-9]\*) \*(?\<keys\_to\_save\>[^ ]\*) \*(?\<provider\>[A-Za-z\_.\$]\*)"<br />\| sum (capacity) as capacity|
|Cassandra/Logs|Total Cache Read|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where source\_file matches "AutoSavingCache\*" and message matches "\*reading saved cache\*"<br />\| parse regex field=message "reading saved cache (?\<cache\_file\>.\*)"<br />\| count by cache\_file|
|Cassandra/Logs|Total Cache Size|Logs|Cassandra/Logs/Cassandra - Cache Stats|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "INFO" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where thread\_name matches "Service Thread" and message matches "KeyCache\*"<br />\| parse regex field=message "(?\<cache\_type\>[A-Za-z]\*Cache(?! Type)) \*(?\<size\>[0-9]\*) \*(?\<capacity\>[0-9]\*) \*(?\<keys\_to\_save\>[^ ]\*) \*(?\<provider\>[A-Za-z\_.\$]\*)"<br />\|sum(size) as size|
|Cassandra/Metrics|Total Disk Space Used (GB) by Keyspace|Metrics|Cassandra/Metrics/Cassandra - Resource Usage|metric=cassandra\_TableMetrics\_TotalDiskSpaceUsed\_Count db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  name=totaldiskspaceused \| sum by db\_cluster, host, keyspace\| eval \_value/1024/1024/1024|
|Cassandra/Logs|Total Heap|Logs|Cassandra/Logs/Cassandra - Resource Usage Logs|db\_system=cassandra db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\*  "Heap size" \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<Date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| parse regex field=message "Heap size: (?\<heap\_used\>[0-9].\*)MiB/(?\<total\_heap\>[0-9].\*)MiB"<br />\| sum(total\_heap) as total\_heap<br />|
|Cassandra|Total Nodes|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_Net\_FailureDetector\_UpEndpointCount type=failuredetector db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by metric|
|Cassandra|Total Physical Memory|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_OperatingSystem\_TotalPhysicalMemorySize db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by metric \| eval (\_value / 1024 / 1024 / 1024)|
|Cassandra|Total Swap Memory|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_OperatingSystem\_TotalSwapSpaceSize db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by metric \| eval (\_value / 1024 / 1024 / 1024) |
|Cassandra/Metrics|Transport (Completed Over 5 min)|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_transport\_Value name=completedtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,scope \| timeshift -5m |
|Cassandra/Metrics|Transport Blocked|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_transport\_Count name=totalblockedtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra/Metrics|Transport Pending|Metrics|Cassandra/Metrics/Cassandra - Thread Pool|metric=cassandra\_ThreadPoolMetrics\_transport\_Value  name=pendingtasks db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\* |
|Cassandra|Used Physical Memory|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_java\_OperatingSystem\_FreePhysicalMemorySize db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by metric|
|Cassandra/Metrics|Waiting for Free Memtable Space|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_WaitingOnFreeMemtableSpace\_Max db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace|
|Cassandra/Logs|Warnings|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("WARN") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*WARN\*"<br />\| count|
|Cassandra/Logs|Warnings Logs by Thread|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("WARN") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*WARN\*"<br />\| count by thread\_name|
|Cassandra|Warnings Logs by Thread|Logs|Cassandra/Cassandra - Overview|db\_system=cassandra ("WARN") db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*WARN\*"<br />\| count by thread\_name|
|Cassandra/Logs|Warnings Summary - Daily|Logs|Cassandra/Logs/Cassandra - Errors and Warnings|db\_system=cassandra ("WARN") db\_cluster={{db\_cluster}} \_sourceCategory = Labs/cassandra\* \| json "log" as \_rawlog nodrop <br />\| if (isEmpty(\_rawlog), \_raw, \_rawlog) as mesg<br />\| parse regex field=mesg "(?\<level\>[A-Z]\*) \*\\[(?\<thread\_name\>[^\\]]\*?)[:\_-]?(?\<thread\_id\>[0-9]\*)\\] (?\<date\>.{10} .{12}) \*(?\<source\_file\>[^:]\*):(?\<source\_line\>[0-9]\*) - (?\<message\>.\*)"<br />\| where level matches "\*WARN\*"<br />\| count by date, thread\_name, source\_file, message<br />\| fields - \_count|
|Cassandra/Metrics|Write Latency 50th Percentile|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_WriteLatency\_50thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Write Latency 99th Percentile|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_WriteLatency\_99thPercentile db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Write Latency MAX|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_WriteLatency\_Max db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*   \| sum by db\_cluster, host, keyspace \| filter max\>0|
|Cassandra/Metrics|Write Operations|Metrics|Cassandra/Metrics/Cassandra - Write Path|metric=cassandra\_TableMetrics\_WriteLatency\_OneMinuteRate db\_cluster={{db\_cluster}} host={{host}} db\_system=cassandra \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host,keyspace \| filter latest\>0|
|Cassandra|Write Request Counts|Metrics|Cassandra/Cassandra - Overview|metric=cassandra\_TableMetrics\_WriteLatency\_OneMinuteRate db\_system=cassandra db\_cluster={{db\_cluster}}  \_sourceCategory = Labs/cassandra\*  \| sum by db\_cluster,host, scope|

