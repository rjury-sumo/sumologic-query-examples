# Global Intelligence for Apache
## Sumo Logic App For: Global Intelligence for Apache
Apache is a web server that can be used as a reverse proxy, load balancer, mail proxy, and HTTP cache. The Global Intelligence for Apache App is a companion to the Apache App and helps DevOps and infrastructure engineers compare server and user activity patterns associated with their Apache servers against other Sumo Logic customerâ€™s servers. Such comparisons can help diagnose potential load, throughput, or error issues in Apache servers and avoid operational incidents arising from sub-optimal configurations of Apache servers.
Docs Link: [Global Intelligence for Apache](https://help.sumologic.com/Global_Intelligence/Global_Intelligence_for_Apache)

## Searches

### Log Searches

- **Bot Connections Percent Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Bot Connections Percent: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Client Errors Per Request Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Client Errors Per Request: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Connections Per Second Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Connections Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Connections Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Connections Per Seconds Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Desktop OS Version: My Company v Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks 
- **GB Per Second Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **GB Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **GB Served Per Request Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **GB Served Per Request Daily AVERAGE: My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **GB Served Per Request: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **GB Served per Request: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **HTTP DELETE Share of Requests Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **HTTP DELETE Share of Requests Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **HTTP DELETE Share of Requests: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **HTTP DELETE Share of Requests: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **HTTP POST Share of Requests Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **HTTP POST Share of Requests Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **HTTP POST Share of Requests: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **HTTP POST Share of Requests: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Latency per Request Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **Latency per Request: Daily Distance from Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **Media Types Served: My Company v Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks 
- **My Company: Visitor Platforms Over Time**: from Dashboard: Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks 
- **Popular Mobile Device Versions: My Company v Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks 
- **Requests Per Connection Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Requests Per Connection: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Requests Per Second Daily AVERAGE:  My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **Requests Per Second Daily AVERAGE:  My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Requests Per Second Daily AVERAGE:  My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **Requests Per Second Daily AVERAGE:  My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Requests Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Requests Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **Requests Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors 
- **Requests Per Second: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors 
- **Server Errors Per Request Daily AVERAGE:   My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Server Errors Per Request Daily AVERAGE: My Server v  Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **Server Errors Per Request: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors 
- **Server Errors Per Request: Daily Distance From Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors 
- **Top 10 Bots Observed: My Company v Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks 
- **Visitor Platforms: My Company v Benchmark**: from Dashboard: Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Global Intelligence for Apache|Bot Connections Percent Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@benchmark\_bots\_conn\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| parse regex field=user\_agent "(?\<bot\_name\>facebook)externalhit?\\W+" nodrop<br />\| parse regex field=user\_agent "Feedfetcher-(?\<bot\_name\>Google?)\\S+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>PaperLiBot?)/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>TweetmemeBot?)/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>msn?)bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Nutch?)-.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Google?)bot\\W" nodrop<br />\| parse regex field=user\_agent "Feedfetcher-(?\<bot\_name\>Google?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Yahoo?)!\\s+Slurp[;/].+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>bing?)bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Bing?)Preview\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Sogou?)\\s+web\\s" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Yandex?)Bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>rogerbot?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>AddThis\\.com?)\\s+robot\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>ShareThis?)Fetcher/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Ahrefs?)Bot/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>MetaURI?)\\s+API/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Showyou?)Bot\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Google?)Producer;" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Ezooms?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Rockmelt?)Embedder\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Sosospider?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Baidu?)spider" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Exabot?)\\W" nodrop<br />\| if (bot\_name="bing","Bing",bot\_name) as bot\_name<br />\| \_sourceHost as server<br />\| if(!isBlank(bot\_name), "bot", "non-bot") as bot\_name<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn by server, bot\_name, \_timeslice<br />\| total conn as totalconn by server, \_timeslice<br />\| conn/totalconn as percentConn<br />\| where bot\_name="bot"<br />\| avg(percentConn) as my\_entity\_avg by server<br />\| "bots\_conn\_per\_hr" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Bot Connections Percent: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@distance\_bots\_conn\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| parse regex field=user\_agent "(?\<bot\_name\>facebook)externalhit?\\W+" nodrop<br />\| parse regex field=user\_agent "Feedfetcher-(?\<bot\_name\>Google?)\\S+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>PaperLiBot?)/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>TweetmemeBot?)/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>msn?)bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Nutch?)-.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Google?)bot\\W" nodrop<br />\| parse regex field=user\_agent "Feedfetcher-(?\<bot\_name\>Google?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Yahoo?)!\\s+Slurp[;/].+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>bing?)bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Bing?)Preview\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Sogou?)\\s+web\\s" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Yandex?)Bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>rogerbot?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>AddThis\\.com?)\\s+robot\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>ShareThis?)Fetcher/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Ahrefs?)Bot/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>MetaURI?)\\s+API/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Showyou?)Bot\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Google?)Producer;" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Ezooms?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Rockmelt?)Embedder\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Sosospider?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Baidu?)spider" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Exabot?)\\W" nodrop<br />\| if (bot\_name="bing","Bing",bot\_name) as bot\_name<br />\| if(!isBlank(bot\_name), "bot", "non-bot") as bot\_name<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn by server, bot\_name, \_timeslice<br />\| total conn as totalconn by server, \_timeslice<br />\| conn/totalconn as percentConn<br />\| avg(percentConn) as my\_entity\_avg by server<br />\| "bots\_conn\_per\_hr" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Client Errors Per Request Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@benchmark\_response\_types\_per\_req\_client<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| if(Status\_Code matches "2\*", "Success",<br />if(Status\_Code matches "3\*", "Redirects",<br />if(status\_code matches "4\*", "Client\_Errors",<br />if(Status\_Code matches "5\*", "Server\_Errors", "")))) as Status<br />\| timeslice 1h<br />\| count by Status, \_timeslice, server<br />\| total \_count by \_timeslice, server<br />\| \_count/\_total \* 100 as percent<br />\| avg(percent) as my\_entity\_avg by Status, server<br />\| where toLowerCase(Status) = "client\_errors"<br />\| concat("response\_types\_per\_req\_per\_hr\_", toLowerCase(Status)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Client Errors Per Request: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@distance\_response\_types\_per\_req\_client<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| if(Status\_Code matches "2\*", "Success",<br />if(Status\_Code matches "3\*", "Redirects",<br />if(status\_code matches "4\*", "Client\_Errors",<br />if(Status\_Code matches "5\*", "Server\_Errors", "")))) as Status<br />\| timeslice 1h<br />\| count by Status, \_timeslice, server<br />\| total \_count by \_timeslice, server<br />\| \_count/\_total \* 100 as percent<br />\| avg(percent) as my\_entity\_avg by Status, server<br />\| where toLowerCase(Status) = "client\_errors"<br />\| concat("response\_types\_per\_req\_per\_hr\_", toLowerCase(Status)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Connections Per Second Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@benchmark\_unique\_connections\_per\_sec<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn by server, \_timeslice<br />\| conn/3600 as conn<br />\| avg(conn) as my\_entity\_avg by server<br />\| "unique\_connections\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Connections Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@distance\_unique\_connections\_per\_sec<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn by server, \_timeslice<br />\| conn/3600 as conn<br />\| avg(conn) as my\_entity\_avg by server<br />\| "unique\_connections\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Connections Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@distance\_unique\_connections\_per\_sec<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn by server, \_timeslice<br />\| conn/3600 as conn<br />\| avg(conn) as my\_entity\_avg by server<br />\| "unique\_connections\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Connections Per Seconds Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@benchmark\_unique\_connections\_per\_sec<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn by server, \_timeslice<br />\| conn/3600 as conn<br />\| avg(conn) as my\_entity\_avg by server<br />\| "unique\_connections\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Desktop OS Version: My Company v Benchmark|Logs|Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks|// id=@user\_desktop\_os\_version<br />\_sourceCategory = Labs/Apache\*<br />("macintosh" OR "mac os" OR "windows" OR "i686" or "PC" or ("Linux" AND !android))<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| parse regex field=user\_agent "(?\<os\>Mac OS) (?\<version\>[^;\\)]+?)(?:;\|\\))" nodrop<br />\| parse regex field=user\_agent "(?\<os\>Windows)(?: NT \| )(?\<version\>[\\d.]+)" nodrop<br />\| parse regex field=user\_agent "(?\<os\>Linux) (?\<version\>\\S+?)(?:\\)\|;)" nodrop<br />\| where os != ""<br />\| replace(version, "\_", ".") as version<br />\| parse regex field=version "(?\<version\>[A-Za-z /]\*\\d{1,3}\\.\\d{1,3})" nodrop<br />\| concat("desktop\_os\_version\_", toLowerCase(os), "\_", toLowerCase(version)) as benchmarkname<br />\| count by benchmarkname<br />\| total(\_count) as total\_count<br />\| \_count/total\_count \* 100 as my\_company\_percent<br />\| infer \_category=gislite \_model=benchmark appname=apache benchmarktype=categorical<br />\| percentage as benchmark\_percent<br />\| substring(benchmarkname, 19) as benchmarkname<br />\| max(my\_company\_percent) as my\_company\_percent, max(benchmark\_percent) as benchmark\_percent by benchmarkname<br />\| sort my\_company\_percent|
|Global Intelligence for Apache|GB Per Second Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@benchmark\_gBytes\_by\_sec<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| (size/(1048576\*1000)) as gbytes<br />\| sum(gbytes) as gbytes by \_timeslice, server<br />\| (gbytes / 3600 ) as my\_company\_gbytesPerSec<br />\| avg(my\_company\_gbytesPerSec) as my\_entity\_avg by server<br />\| "gbytes\_by\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|GB Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@distance\_gBytes\_by\_sec<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| (size/(1048576\*1000)) as gbytes<br />\| sum(gbytes) as gbytes by \_timeslice, server<br />\| (gbytes / 3600 ) as my\_company\_gbytesPerSec<br />\| avg(my\_company\_gbytesPerSec) as my\_entity\_avg by server<br />\| "gbytes\_by\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|GB Served Per Request Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@benchmark\_gBytes\_by\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| (size/(1048576\*1000)) as gbytes<br />\| count as hits, sum(gbytes) as gbytes by \_timeslice, server<br />\| (gbytes / hits ) as my\_company\_gbytesPerHit<br />\| avg(my\_company\_gbytesPerHit) as my\_entity\_avg by server<br />\| "gbytes\_by\_requests\_per\_hr" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|GB Served Per Request Daily AVERAGE: My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@benchmark\_gBytes\_by\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| (size/(1048576\*1000)) as gbytes<br />\| count as hits, sum(gbytes) as gbytes by \_timeslice, server<br />\| (gbytes / hits ) as my\_company\_gbytesPerHit<br />\| avg(my\_company\_gbytesPerHit) as my\_entity\_avg by server<br />\| "gbytes\_by\_requests\_per\_hr" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|GB Served Per Request: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@distance\_gBytes\_by\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| (size/(1048576\*1000)) as gbytes<br />\| count as hits, sum(gbytes) as gbytes by \_timeslice, server<br />\| (gbytes / hits ) as my\_company\_gbytesPerHit<br />\| avg(my\_company\_gbytesPerHit) as my\_entity\_avg by server<br />\| "gbytes\_by\_requests\_per\_hr" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|GB Served per Request: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@distance\_gBytes\_by\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| (size/(1048576\*1000)) as gbytes<br />\| count as hits, sum(gbytes) as gbytes by \_timeslice, server<br />\| (gbytes / hits ) as my\_company\_gbytesPerHit<br />\| avg(my\_company\_gbytesPerHit) as my\_entity\_avg by server<br />\| "gbytes\_by\_requests\_per\_hr" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP DELETE Share of Requests Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@benchmark\_http\_methods\_per\_req\_del<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "delete"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP DELETE Share of Requests Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@benchmark\_http\_methods\_per\_req\_del<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "delete"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP DELETE Share of Requests: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@distance\_http\_methods\_per\_req\_del<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "delete"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP DELETE Share of Requests: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@distance\_http\_methods\_per\_req\_del<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "delete"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP POST Share of Requests Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@benchmark\_http\_methods\_per\_req\_post<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "post"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP POST Share of Requests Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@benchmark\_http\_methods\_per\_req\_post<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "post"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP POST Share of Requests: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@distance\_http\_methods\_per\_req\_post<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "post"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|HTTP POST Share of Requests: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@distance\_http\_methods\_per\_req\_post<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count by Method, server, \_timeslice<br />\| total(\_count) as total\_count by \_timeslice<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| avg(my\_company\_percent) as my\_entity\_avg by Method, server<br />\| where toLowerCase(Method) = "post"<br />\| concat("methods\_per\_req\_", toLowerCase(Method)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Latency per Request Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@benchmark\_latency<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| parse regex " (?\<seconds\>\\d+)/(?\<microseconds\>\\d+)\$"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where microseconds != ""<br />\| toLong(microseconds)/(1000000\*60) as minutes<br />\| timeslice 1h<br />\| sum(minutes) as totalmin, count as totalreq by server, \_timeslice<br />\| totalmin/totalreq as latency<br />\| avg(latency) as my\_entity\_avg by server<br />\| "latency\_minutes\_per\_hour" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Latency per Request: Daily Distance from Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@distance\_latency<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| parse regex " (?\<seconds\>\\d+)/(?\<microseconds\>\\d+)\$"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where microseconds != ""<br />\| toLong(microseconds)/(1000000\*60) as minutes<br />\| timeslice 1h<br />\| sum(minutes) as totalmin, count as totalreq by server, \_timeslice<br />\| totalmin/totalreq as latency<br />\| avg(latency) as my\_entity\_avg by server<br />\| "latency\_minutes\_per\_hour" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Media Types Served: My Company v Benchmark|Logs|Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks|// id=@user\_media\_types\_served<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| parse regex field=url "^/[^\\?]+?\\.(?\<type\>[a-zA-Z]{2,4})\$"<br />\| parse regex field=url "/\\S+?(?\<email\_prefix\>(?:%40\|@)[^.]+?)\\.\\w+" nodrop<br />\| where email\_prefix=""<br />\| count by type<br />\| total(\_count) as total\_count<br />\| \_count/total\_count \* 100 as my\_company\_percent<br />\| concat("media\_types\_served\_", toLowerCase(type)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmark appname=apache benchmarktype=categorical<br />\| percentage as benchmark\_percent<br />\| substring(benchmarkname, 19) as benchmarkname<br />\| max(my\_company\_percent) as my\_company\_percent, max(benchmark\_percent) as benchmark\_percent by benchmarkname<br />\| sort my\_company\_percent|
|Global Intelligence for Apache|My Company: Visitor Platforms Over Time|Logs|Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks|// id=@user\_visitors\_platforms\_over\_time<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| if (user\_agent matches "\*iPad\*" OR user\_agent matches "\*iPhone\*" OR user\_agent matches "\*Android\*" OR user\_agent matches "\*BlackBerry\*" OR user\_agent matches "\*Galaxy\*" OR user\_agent matches "LGE-\*" OR user\_agent matches "SCH-\*" OR user\_agent matches "\*HUAWEI-\*" OR user\_agent matches "\*SAMSUNG\*" OR user\_agent matches "\*samsung\*" OR user\_agent matches "Dalvik/\*" OR user\_agent matches "Nokia\*" OR user\_agent matches "LG-\*" OR user\_agent matches "\*CFNetwork\*"  OR user\_agent matches "\*UP.Browser/\*" OR user\_agent matches "\*QQ\*rowser\*" OR user\_agent matches "\*NetFront/\*" OR user\_agent matches "\*Windows Phone\*" OR user\_agent matches "\*Mobile Safari\*" OR user\_agent matches "\*iemobile\*","Mobile","") as type<br />\| if (user\_agent matches "\*Windows\*" OR user\_agent matches "\*Win64\*" OR user\_agent matches "\*Win32\*" OR user\_agent matches "\*i686\*" OR user\_agent matches "\*x86\*","PC",type) as type<br />\| if (user\_agent matches "\*Macintosh\*" OR user\_agent matches "\*Mac OS\*","Mac",type) as type<br />\| if (type = "","bots/unknown",type) as type<br />\| timeslice 5m<br />\| count by \_timeslice, type<br />\| transpose row \_timeslice column type|
|Global Intelligence for Apache|Popular Mobile Device Versions: My Company v Benchmark|Logs|Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks|// id=@user\_popular\_mobile\_device\_versions<br />\_sourceCategory = Labs/Apache\*<br />(iphone or ipad or android or samsung)<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| parse regex field=apache\_log\_message "\\((?\<device\>iPhone).+? CPU iPhone OS (?\<version\>.+?) like Mac"  nodrop<br />\| parse regex field=apache\_log\_message "\\((?\<device\>iPad).+? CPU OS (?\<version\>.+?) like Mac"  nodrop<br />\| parse regex field=apache\_log\_message " (?\<device\>Android) (?\<version\>[\\d\\.]+)" nodrop<br />\| parse regex field=apache\_log\_message "(?\<device\>SAMSUNG).+?(?\<version\>(?:GT\|SGH\|SPH\|SCH))" nodrop<br />\| where device != ""<br />\| replace(version, "\_", ".") as version<br />\| parse regex field=version "(?\<version\>\\d{1,3}\\.\\d{1,3})"<br />\| concat("popular\_mobile\_device\_versions\_", toLowerCase(device), "\_", toLowerCase(version)) as benchmarkname<br />\| count by benchmarkname<br />\| total(\_count) as total\_count<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| infer \_category=gislite \_model=benchmark appname=apache benchmarktype=categorical<br />\| percentage as benchmark\_percent<br />\| substring(benchmarkname, 31) as benchmarkname<br />\| sort my\_company\_percent<br />\| max(my\_company\_percent) as my\_company\_percent, max(benchmark\_percent) as benchmark\_percent by benchmarkname<br />\| sort my\_company\_percent|
|Global Intelligence for Apache|Requests Per Connection Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@benchmark\_req\_per\_connection\_per\_hour<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn, count as totalreq by server, \_timeslice<br />\| (totalreq/conn) as reqperconn<br />\| avg(reqperconn) as my\_entity\_avg by server<br />\| "req\_per\_connection\_per\_hour" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Connection: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@distance\_req\_per\_connection\_per\_hour<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| timeslice 1h<br />\| count\_distinct(client\_ip) as conn, count as totalreq by server, \_timeslice<br />\| (totalreq/conn) as reqperconn<br />\| avg(reqperconn) as my\_entity\_avg by server<br />\| "req\_per\_connection\_per\_hour" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second Daily AVERAGE:  My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@benchmark\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second Daily AVERAGE:  My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@benchmark\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second Daily AVERAGE:  My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@benchmark\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second Daily AVERAGE:  My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@benchmark\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@distance\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@distance\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 04 Latency Signals and Contributing Factors|// id=@distance\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Requests Per Second: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 01 Load Signals and Contributing Factors|// id=@distance\_requests\_per\_hr<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| where size != "-"<br />\| timeslice 1h<br />\| count as hits by \_timeslice, server<br />\| hits/3600 as my\_company\_requests\_per\_sec<br />\| fields - hits<br />\| avg(my\_company\_requests\_per\_sec) as my\_entity\_avg by server<br />\| "requests\_per\_sec" as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Server Errors Per Request Daily AVERAGE:   My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@benchmark\_response\_types\_per\_req\_server<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| if(Status\_Code matches "2\*", "Success",<br />if(Status\_Code matches "3\*", "Redirects",<br />if(status\_code matches "4\*", "Client\_Errors",<br />if(Status\_Code matches "5\*", "Server\_Errors", "")))) as Status<br />\| timeslice 1h<br />\| count by Status, \_timeslice, server<br />\| total \_count by \_timeslice, server<br />\| \_count/\_total \* 100 as percent<br />\| avg(percent) as my\_entity\_avg by Status, server<br />\| where toLowerCase(Status) = "server\_errors"<br />\| concat("response\_types\_per\_req\_per\_hr\_", toLowerCase(Status)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Server Errors Per Request Daily AVERAGE: My Server v  Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@benchmark\_response\_types\_per\_req\_server<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| if(Status\_Code matches "2\*", "Success",<br />if(Status\_Code matches "3\*", "Redirects",<br />if(status\_code matches "4\*", "Client\_Errors",<br />if(Status\_Code matches "5\*", "Server\_Errors", "")))) as Status<br />\| timeslice 1h<br />\| count by Status, \_timeslice, server<br />\| total \_count by \_timeslice, server<br />\| \_count/\_total \* 100 as percent<br />\| avg(percent) as my\_entity\_avg by Status, server<br />\| where toLowerCase(Status) = "server\_errors"<br />\| concat("response\_types\_per\_req\_per\_hr\_", toLowerCase(Status)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache benchmark\_stat="avg" my\_entity\_stat="avg"<br />\| max(my\_entity\_avg) as my\_entity\_avg, max(benchmark\_avg) as benchmark\_avg by date<br />\| sort by date asc|
|Global Intelligence for Apache|Server Errors Per Request: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 03 Errors and Contributing Factors|// id=@distance\_response\_types\_per\_req\_server<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| if(Status\_Code matches "2\*", "Success",<br />if(Status\_Code matches "3\*", "Redirects",<br />if(status\_code matches "4\*", "Client\_Errors",<br />if(Status\_Code matches "5\*", "Server\_Errors", "")))) as Status<br />\| timeslice 1h<br />\| count by Status, \_timeslice, server<br />\| total \_count by \_timeslice, server<br />\| \_count/\_total \* 100 as percent<br />\| avg(percent) as my\_entity\_avg by Status, server<br />\| where toLowerCase(Status) = "server\_errors"<br />\| concat("response\_types\_per\_req\_per\_hr\_", toLowerCase(Status)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Server Errors Per Request: Daily Distance From Benchmark|Logs|Global Intelligence for Apache/GI Apache 02 Throughput Signals and Contributing Factors|// id=@distance\_response\_types\_per\_req\_server<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| \_sourceHost as server<br />\| if(Status\_Code matches "2\*", "Success",<br />if(Status\_Code matches "3\*", "Redirects",<br />if(status\_code matches "4\*", "Client\_Errors",<br />if(Status\_Code matches "5\*", "Server\_Errors", "")))) as Status<br />\| timeslice 1h<br />\| count by Status, \_timeslice, server<br />\| total \_count by \_timeslice, server<br />\| \_count/\_total \* 100 as percent<br />\| avg(percent) as my\_entity\_avg by Status, server<br />\| where toLowerCase(Status) = "server\_errors"<br />\| concat("response\_types\_per\_req\_per\_hr\_", toLowerCase(Status)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmarktrendline appname=apache distance="true"<br />\| max(distance) as distance by date<br />\| sort by date asc|
|Global Intelligence for Apache|Top 10 Bots Observed: My Company v Benchmark|Logs|Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks|// id=@user\_top10\_bots\_observed<br />\_sourceCategory = Labs/Apache\*<br />("Googlebot" OR "AskJeeves" OR "Digger" OR "Lycos"<br />OR "msnbot" OR "Inktomi Slurp" OR "Yahoo" OR "Nutch" OR "bingbot" OR<br />"BingPreview" OR "Mediapartners-Google" OR "proximic" OR "AhrefsBot" OR<br />"AdsBot-Google" OR "Ezooms" OR "AddThis.com" OR "facebookexternalhit" OR<br />"MetaURI" OR "Feedfetcher-Google" OR "PaperLiBot" OR "TweetmemeBot" OR<br />"Sogou web spider" OR "GoogleProducer" OR "RockmeltEmbedder" OR<br />"ShareThisFetcher" OR "YandexBot" OR "rogerbot-crawler" OR "ShowyouBot" OR "Baiduspider" OR "Sosospider" OR "Exabot")<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| parse regex field=user\_agent "(?\<bot\_name\>facebook)externalhit?\\W+" nodrop<br />\| parse regex field=user\_agent "Feedfetcher-(?\<bot\_name\>Google?)\\S+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>PaperLiBot?)/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>TweetmemeBot?)/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>msn?)bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Nutch?)-.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Google?)bot\\W" nodrop<br />\| parse regex field=user\_agent "Feedfetcher-(?\<bot\_name\>Google?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Yahoo?)!\\s+Slurp[;/].+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>bing?)bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Bing?)Preview\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Sogou?)\\s+web\\s" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Yandex?)Bot\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>rogerbot?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>AddThis\\.com?)\\s+robot\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>ShareThis?)Fetcher/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Ahrefs?)Bot/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>MetaURI?)\\s+API/.+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Showyou?)Bot\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Google?)Producer;" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Rockmelt?)Embedder\\s+" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Sosospider?)\\W" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Baidu?)spider" nodrop<br />\| parse regex field=user\_agent "(?\<bot\_name\>Exabot?)\\W" nodrop<br />\| where bot\_name != ""<br />\| toLowerCase(bot\_name) as bot\_name<br />\| count by bot\_name<br />\| total(\_count) as total\_count<br />\| \_count/total\_count \* 100 as my\_company\_percent<br />\| sort by my\_company\_percent<br />\| limit 10<br />\| concat("top10\_bots\_observed\_", bot\_name) as benchmarkname<br />\| infer \_category=gislite \_model=benchmark appname=apache benchmarktype=categorical<br />\| percentage as benchmark\_percent<br />\| substring(benchmarkname, 20) as benchmarkname<br />\| max(my\_company\_percent) as my\_company\_percent, max(benchmark\_percent) as benchmark\_percent by benchmarkname<br />\| sort my\_company\_percent|
|Global Intelligence for Apache|Visitor Platforms: My Company v Benchmark|Logs|Global Intelligence for Apache/GI Apache 05 Visitor Benchmarks|// id=@user\_visitor\_platforms<br />\_sourceCategory = Labs/Apache\*<br />\| json auto maxdepth 1 nodrop<br />\| if (isEmpty(log), \_raw, log) as apache\_log\_message<br />\| parse regex field=apache\_log\_message "^(?\<Client\_Ip\>\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})"<br />\| parse regex field=apache\_log\_message "(?\<Method\>[A-Za-z]+)\\s(?\<URL\>\\S+)\\sHTTP/[\\d\\.]+\\"\\s(?\<Status\_Code\>\\d+)\\s(?\<Size\>[\\d-]+)\\s\\"(?\<Referrer\>.\*?)\\"\\s\\"(?\<User\_Agent\>.+?)\\".\*"<br />\| where \_sourceHost matches "{{Server}}"<br />\| if (user\_agent matches "\*iPad\*" OR user\_agent matches "\*iPhone\*" OR user\_agent matches "\*Android\*" OR user\_agent matches "\*BlackBerry\*" OR user\_agent matches "\*Galaxy\*" OR user\_agent matches "LGE-\*" OR user\_agent matches "SCH-\*" OR user\_agent matches "\*HUAWEI-\*" OR user\_agent matches "\*SAMSUNG\*" OR user\_agent matches "\*samsung\*" OR user\_agent matches "Dalvik/\*" OR user\_agent matches "Nokia\*" OR user\_agent matches "LG-\*" OR user\_agent matches "\*CFNetwork\*"  OR user\_agent matches "\*UP.Browser/\*" OR user\_agent matches "\*QQ\*rowser\*" OR user\_agent matches "\*NetFront/\*" OR user\_agent matches "\*Windows Phone\*" OR user\_agent matches "\*Mobile Safari\*" OR user\_agent matches "\*iemobile\*","Mobile","") as type<br />\| if (user\_agent matches "\*Windows\*" OR user\_agent matches "\*Win64\*" OR user\_agent matches "\*Win32\*" OR user\_agent matches "\*i686\*" OR user\_agent matches "\*x86\*","PC",type) as type<br />\| if (user\_agent matches "\*Macintosh\*" OR user\_agent matches "\*Mac OS\*","Mac",type) as type<br />\| if (type = "","bots/unknown",type) as type<br />\| count type<br />\| total(\_count) as total\_count<br />\| \_count/total\_count\*100 as my\_company\_percent<br />\| concat("visitor\_platforms\_", toLowerCase(type)) as benchmarkname<br />\| infer \_category=gislite \_model=benchmark appname=apache benchmarktype=categorical<br />\| percentage as benchmark\_percent<br />\| substring(benchmarkname, 18) as benchmarkname<br />\| max(my\_company\_percent) as my\_company\_percent, max(benchmark\_percent) as benchmark\_percent by benchmarkname<br />\| sort my\_company\_percent|

