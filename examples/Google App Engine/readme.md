# Google App Engine
## Sumo Logic App For: Google App Engine
The Sumo Logic App for Google App Engine helps you monitor the activities in your App Engine. The preconfigured dashboards provide insight into the requests, applications, HTTP status codes, latency, and response time in your App Engine.
Docs Link: [Google App Engine](https://help.sumologic.com/?cid=4059)

## Searches

### Log Searches

- **Average Latency**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Average Response Time**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Google App Engine Status Code Statistics**: from Search: Google App Engine/Google App Engine Status Code Statistics 
- **Google App Engine Status Code Statistics**: from Search: Installed Apps/Google App Engine/Google App Engine Status Code Statistics 
- **Google App Engine Version Statistics**: from Search: Installed Apps/Google App Engine/Google App Engine Version Statistics 
- **Google App Engine Version Statistics**: from Search: Google App Engine/Google App Engine Version Statistics 
- **Recent App Activity**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Overview 
- **Request HTTP Methods**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Request Location**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Request Location**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Overview 
- **Response Status Codes**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Runtime Usage**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Activity 
- **Runtime Usage**: from Dashboard: Google App Engine/Google App Engine - Activity - New 
- **Severe Messages**: from Dashboard: Google App Engine/Google App Engine - Activity - New 
- **Severe Messages**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Activity 
- **Status Codes**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Overview 
- **Status Codes Over Time**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Overview 
- **Top 10 Active Request Locations**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Top 10 Projects by Messages**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Activity 
- **Top 10 Projects by Messages**: from Dashboard: Google App Engine/Google App Engine - Activity - New 
- **Top 10 Services**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Overview 
- **Top 10 Services by Messages**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Activity 
- **Top 10 Services by Messages**: from Dashboard: Google App Engine/Google App Engine - Activity - New 
- **Top 10 Versions by Messages**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Activity 
- **Top 10 Versions by Messages**: from Dashboard: Google App Engine/Google App Engine - Activity - New 
- **URL Map Entry Usage Over Time**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Request Activity 
- **Version Activity**: from Dashboard: Installed Apps/Google App Engine/Google App Engine - Activity 
- **Version Activity**: from Dashboard: Google App Engine/Google App Engine - Activity - New

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Google App Engine|Average Latency|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId latency "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload.appId" as labels, app\_id<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| timeslice 1m<br />\| json field=\_raw "message.data.protoPayload.latency" as latency<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\| avg(latency) as average\_latency by \_timeslice<br />\| fillmissing timeslice(1m)|
|Google App Engine|Average Response Time|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId startTime endTime "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload" as labels, payload<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| json field=payload "appId", "startTime", "endTime" as app\_id, start\_str, end\_str<br />\| timeslice 1m<br /><br />\| concat(substring(start\_str, 0, 23), "Z") as start\_substr<br />\| concat(substring(end\_str, 0, 23), "Z") as end\_sbustr<br />\| toMillis(parseDate(start\_substr, "yyyy-MM-dd'T'HH:mm:ss.SSS'Z'")) as start\_millis<br />\| toMillis(parseDate(end\_sbustr, "yyyy-MM-dd'T'HH:mm:ss.SSS'Z'")) as end\_millis<br /><br />\| end\_millis - start\_millis as response\_time<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\|avg(response\_time) as avg\_response\_time\_ms by \_timeslice<br />\| fillmissing timeslice(1m)|
|Google App Engine|Google App Engine Status Code Statistics|Logs|Google App Engine/Google App Engine Status Code Statistics|\_sourceCategory = Labs/GCP/appengine logName resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "gae\_app" \| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "version\_id", "zone", "project\_id" as version, zone, project<br />\| json "message.data.protoPayload.appId", "message.data.protoPayload.status" as app\_id, status\_code<br /><br />\| if(status\_code matches "20\*", 1, 0) as resp\_200<br />\| if(status\_code matches "30\*", 1, 0) as resp\_300<br />\| if(status\_code matches "40\*", 1, 0) as resp\_400<br />\| if(status\_code matches "50\*", 1, 0) as resp\_500<br />\| if(!(status\_code matches "20\*" or status\_code matches "30\*" or status\_code matches "40\*" or status\_code matches "50\*"), 1, 0) as resp\_others<br /><br />\| sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by version, zone, project<br />\| tot\_200 + tot\_300 + tot\_400 + tot\_500 + tot\_others as total\_traffic<br />\| fields project, zone, version, total\_traffic, tot\_200, tot\_300, tot\_400, tot\_500<br />\| sort by total\_traffic|
|Google App Engine|Google App Engine Status Code Statistics|Logs|Installed Apps/Google App Engine/Google App Engine Status Code Statistics|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "gae\_app" \| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "version\_id", "zone", "project\_id" as version, zone, project<br />\| json "message.data.protoPayload.appId", "message.data.protoPayload.status" as app\_id, status\_code<br /><br />\| if(status\_code matches "20\*", 1, 0) as resp\_200<br />\| if(status\_code matches "30\*", 1, 0) as resp\_300<br />\| if(status\_code matches "40\*", 1, 0) as resp\_400<br />\| if(status\_code matches "50\*", 1, 0) as resp\_500<br />\| if(!(status\_code matches "20\*" or status\_code matches "30\*" or status\_code matches "40\*" or status\_code matches "50\*"), 1, 0) as resp\_others<br /><br />\| sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by version, zone, project<br />\| tot\_200 + tot\_300 + tot\_400 + tot\_500 + tot\_others as total\_traffic<br />\| fields project, zone, version, total\_traffic, tot\_200, tot\_300, tot\_400, tot\_500<br />\| sort by total\_traffic|
|Google App Engine|Google App Engine Version Statistics|Logs|Installed Apps/Google App Engine/Google App Engine Version Statistics|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type <br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "gae\_app" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.protoPayload.resourceName" as resourceName<br />\| parse regex field=resourceName "apps\\/(?\<project\>.\*)\\/services\\/(?\<service\>.\*)\\/versions\\/(?\<version\>.\*)"<br />\| if (version contains ("instances"),"",version) as version<br />\| where !isEmpty(version)<br />\| json "message.data.protoPayload.methodName", "message.data.severity" as method, severity<br />\| if (method matches "\*UpdateVersion", 1, 0) as updte<br />\| if (method matches "\*CreateVersion", 1, 0) as create<br />\| if (method matches "\*DeleteVersion", 1, 0) as delete<br />\| if (severity matches "WARNING", 1, 0) as warning<br />\| if (severity matches "ERROR", 1, 0) as error<br />\| if (severity matches "CRITICAL", 1, 0) as critical<br />\| if (severity matches "ALERT", 1, 0) as alert<br />\| if (severity matches "EMERGENCY", 1, 0) as emergency<br />\| sum(updte) as updates, sum(delete) as deletes, sum(create) as creates, sum(warning) as warnings, sum(error) as errors, sum(critical) as criticals, sum(alert) as alerts, sum(emergency) as emergencies by version, service, project<br />\| updates+deletes+creates as total\_activity<br />\| warnings+errors+criticals+alerts+emergencies as total\_severity<br />\| fields project, service, version, total\_activity, creates, updates, deletes, total\_severity, emergencies, alerts, criticals, errors, warnings<br />\| sort by total\_activity|
|Google App Engine|Google App Engine Version Statistics|Logs|Google App Engine/Google App Engine Version Statistics|\_sourceCategory = Labs/GCP/appengine logName resource timestamp<br />\| json "message.data.resource.type" as type <br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "gae\_app" and log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| parse regex "\\s+\\"resourceName\\":\\"apps/(?\<project\>\\S+)/services/(?\<service\>\\S+)/versions/(?\<version\>\\S+)\\""<br />\| json "message.data.protoPayload.methodName", "message.data.severity" as method, severity<br /><br />\| if (method matches "\*UpdateVersion", 1, 0) as updte<br />\| if (method matches "\*CreateVersion", 1, 0) as create<br />\| if (method matches "\*DeleteVersion", 1, 0) as delete<br />\| if (severity matches "WARNING", 1, 0) as warning<br />\| if (severity matches "ERROR", 1, 0) as error<br />\| if (severity matches "CRITICAL", 1, 0) as critical<br />\| if (severity matches "ALERT", 1, 0) as alert<br />\| if (severity matches "EMERGENCY", 1, 0) as emergency<br /><br />\| sum(updte) as updates, sum(delete) as deletes, sum(create) as creates, sum(warning) as warnings, sum(error) as errors, sum(critical) as criticals, sum(alert) as alerts, sum(emergency) as emergencies by version, service, project<br />\| updates+deletes+creates as total\_activity<br />\| warnings+errors+criticals+alerts+emergencies as total\_severity<br />\| fields project, service, version, total\_activity, creates, updates, deletes, total\_severity, emergencies, alerts, criticals, errors, warnings<br />\| sort by total\_activity|
|Google App Engine|Recent App Activity|Logs|Installed Apps/Google App Engine/Google App Engine - Overview|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\""<br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" and type = "gae\_app"<br />\| json "message.data.resource.labels", "message.data.timestamp" as labels, timestamp<br />\| json field=labels "module\_id", "version\_id", "zone", "project\_id" as service, version, zone, project<br />\| json "message.data.protoPayload" as payload<br />\| json field=payload "latency", "method", "status" as latency, method, status<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as requests by timestamp, service, project, zone, method, status, latency<br />\| fields timestamp, service, project, zone, method, status, latency<br />\| sort by timestamp|
|Google App Engine|Request HTTP Methods|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId method "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload" as labels, payload<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| json field=payload "appId", "method" as app\_id, method<br />\| timeslice 15m<br /><br />\| if (method = "GET", 1, 0) as get\_requests<br />\| if (method = "POST", 1, 0) as post\_requests<br />\| if (method = "PUT", 1, 0) as put\_requests<br />\| if (method = "DELETE", 1, 0) as delete\_requests<br />\| if (method = "PATCH", 1, 0) as patch\_requests<br />\| if (!(method = "GET" or method = "POST" or method = "PUT" or method = "DELETE" or method = "PATCH"), 1, 0) as other\_requests<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\|sum(get\_requests) as tot\_get, sum(post\_requests) as tot\_post, sum(put\_requests) as tot\_put, sum(delete\_requests) as tot\_delete, sum(patch\_requests) as tot\_patch, sum(other\_requests) as to\_other by \_timeslice<br />\| fillmissing timeslice(15m)|
|Google App Engine|Request Location|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId ip "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload" as labels, payload<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| json field=payload "appId", "ip" as app\_id, request\_ip<br />\| lookup latitude, longitude from geo://location on ip=request\_ip<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\|count by latitude, longitude<br />\| sort \_count|
|Google App Engine|Request Location|Logs|Installed Apps/Google App Engine/Google App Engine - Overview|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\""<br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" and type = "gae\_app"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "version\_id", "zone", "project\_id" as service, version, zone, project<br />\| json "message.data.protoPayload.ip" as ip\_address<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = ip\_address<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code<br />\| sort \_count|
|Google App Engine|Response Status Codes|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId status "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload" as labels, payload<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| json field=payload "appId", "status" as app\_id, status\_code<br />\| timeslice 15m<br /><br />\| if(status\_code matches "20\*", 1, 0) as resp\_200<br />\| if(status\_code matches "30\*", 1, 0) as resp\_300<br />\| if(status\_code matches "40\*", 1, 0) as resp\_400<br />\| if(status\_code matches "50\*", 1, 0) as resp\_500<br />\| if(!(status\_code matches "20\*" or status\_code matches "30\*" or status\_code matches "40\*" or status\_code matches "50\*"), 1, 0) as resp\_others<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\|sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by \_timeslice<br />\| fillmissing timeslice(15m)|
|Google App Engine|Runtime Usage|Logs|Installed Apps/Google App Engine/Google App Engine - Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload serviceData createVersion request version runtime "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels", "message.data.protoPayload.serviceData.createVersion.request.version.runtime" as labels, runtime<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone nodrop<br />\| timeslice 1d<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count by \_timeslice, runtime<br />\| transpose row \_timeslice column runtime as \*|
|Google App Engine|Runtime Usage|Logs|Google App Engine/Google App Engine - Activity - New|\_sourceCategory = Labs/GCP/appengine logName resource protoPayload serviceData createVersion request version runtime "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels", "message.data.protoPayload.serviceData.createVersion.request.version.runtime" as labels, runtime<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| timeslice 1d<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{UserLabels}}" = "\*", true, labels matches "{{UserLabels}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count by \_timeslice, runtime<br />\| transpose row \_timeslice column runtime as \*|
|Google App Engine|Severe Messages|Logs|Google App Engine/Google App Engine - Activity - New|\_sourceCategory = Labs/GCP/appengine logName resource severity "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels", "message.data.severity" as labels, severity<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| timeslice 1m<br />\| where severity in ("ERROR", "WARNING", "CRITICAL", "EMERGENCY", "ALERT")<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{UserLabels}}" = "\*", true, labels matches "{{UserLabels}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count by \_timeslice, severity<br />\| fillmissing timeslice(1m), values("ERROR", "WARNING", "CRITICAL", "EMERGENCY", "ALERT") in severity<br />\| transpose row \_timeslice column severity as \*|
|Google App Engine|Severe Messages|Logs|Installed Apps/Google App Engine/Google App Engine - Activity|\_sourceCategory={{Logsdatasource}}  resource severity "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels", "message.data.severity" as labels, severity<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| timeslice 1m<br />\| where severity in ("ERROR", "WARNING", "CRITICAL", "EMERGENCY", "ALERT")<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count by \_timeslice, severity<br />\| fillmissing timeslice(1m), values("ERROR", "WARNING", "CRITICAL", "EMERGENCY", "ALERT") in severity<br />\| transpose row \_timeslice column severity as \*|
|Google App Engine|Status Codes|Logs|Installed Apps/Google App Engine/Google App Engine - Overview|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "gae\_app" \| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "version\_id", "zone", "project\_id" as service, version, zone, project<br />\| json "message.data.protoPayload.appId", "message.data.protoPayload.status" as app\_id, status\_code<br /><br />\| if(status\_code matches "20\*", 1, 0) as resp\_200<br />\| if(status\_code matches "30\*", 1, 0) as resp\_300<br />\| if(status\_code matches "40\*", 1, 0) as resp\_400<br />\| if(status\_code matches "50\*", 1, 0) as resp\_500<br />\| if(!(status\_code matches "20\*" or status\_code matches "30\*" or status\_code matches "40\*" or status\_code matches "50\*"), 1, 0) as resp\_others<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others|
|Google App Engine|Status Codes Over Time|Logs|Installed Apps/Google App Engine/Google App Engine - Overview|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where type = "gae\_app" \| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "version\_id", "zone", "project\_id" as service, version, zone, project<br />\| json "message.data.protoPayload.appId", "message.data.protoPayload.status" as app\_id, status\_code<br />\| timeslice 30m<br /><br />\| if(status\_code matches "20\*", 1, 0) as resp\_200<br />\| if(status\_code matches "30\*", 1, 0) as resp\_300<br />\| if(status\_code matches "40\*", 1, 0) as resp\_400<br />\| if(status\_code matches "50\*", 1, 0) as resp\_500<br />\| if(!(status\_code matches "20\*" or status\_code matches "30\*" or status\_code matches "40\*" or status\_code matches "50\*"), 1, 0) as resp\_others<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|sum(resp\_200) as tot\_200, sum(resp\_300) as tot\_300, sum(resp\_400) as tot\_400, sum(resp\_500) as tot\_500, sum(resp\_others) as tot\_others by \_timeslice|
|Google App Engine|Top 10 Active Request Locations|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId ip "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload" as labels, payload<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| json field=payload "appId", "ip" as app\_id, request\_ip<br />\| lookup country\_name, region, city from geo://location on ip=request\_ip<br /><br />\| if (isNull(country\_name), "unknown", country\_name) as country\_name<br />\| if (isNull(region), "unknown", region) as region<br />\| if (isNull(city), "unknown", city) as city<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\|count as requests by country\_name, region, city \| top 10 country\_name, region, city by requests|
|Google App Engine|Top 10 Projects by Messages|Logs|Installed Apps/Google App Engine/Google App Engine - Activity|\_sourceCategory={{Logsdatasource}}  resource "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as messages project \| top 10 project by messages|
|Google App Engine|Top 10 Projects by Messages|Logs|Google App Engine/Google App Engine - Activity - New|\_sourceCategory = Labs/GCP/appengine logName resource "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{UserLabels}}" = "\*", true, labels matches "{{UserLabels}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as messages project \| top 10 project by messages|
|Google App Engine|Top 10 Services|Logs|Installed Apps/Google App Engine/Google App Engine - Overview|\_sourceCategory={{Logsdatasource}}  resource timestamp<br />\| json "message.data.resource.type" as type<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\""<br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" and type = "gae\_app"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "version\_id", "zone", "project\_id" as service, version, zone, project<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as requests by service, version, project, zone<br />\| fields service, version, project, zone, requests<br />\| sort by requests<br />\| limit 10|
|Google App Engine|Top 10 Services by Messages|Logs|Installed Apps/Google App Engine/Google App Engine - Activity|\_sourceCategory={{Logsdatasource}}  resource "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as messages by service, project \| top 10 service, project by messages|
|Google App Engine|Top 10 Services by Messages|Logs|Google App Engine/Google App Engine - Activity - New|\_sourceCategory = Labs/GCP/appengine logName resource "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{UserLabels}}" = "\*", true, labels matches "{{UserLabels}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as messages by service, project \| top 10 service, project by messages|
|Google App Engine|Top 10 Versions by Messages|Logs|Installed Apps/Google App Engine/Google App Engine - Activity|\_sourceCategory={{Logsdatasource}}  resource "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as messages version, service, project \| top 10 version, service, project by messages|
|Google App Engine|Top 10 Versions by Messages|Logs|Google App Engine/Google App Engine - Activity - New|\_sourceCategory = Labs/GCP/appengine logName resource "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log" or log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels" as labels<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{UserLabels}}" = "\*", true, labels matches "{{UserLabels}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|count as messages version, service, project \| top 10 version, service, project by messages|
|Google App Engine|URL Map Entry Usage Over Time|Logs|Installed Apps/Google App Engine/Google App Engine - Request Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload appId urlMapEntry "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/appengine.googleapis.com%2Frequest\_log"<br />\| json "message.data.resource.labels", "message.data.protoPayload" as labels, payload<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| json field=payload "appId", "urlMapEntry" as app\_id, url\_map\_entry<br />\| timeslice 15m<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}") AND if ("{{Application Id}}" = "\*", true, app\_id matches "{{Application Id}}")<br />\|count as requests by \_timeslice, project, url\_map\_entry<br />\| transpose row \_timeslice column url\_map\_entry, project|
|Google App Engine|Version Activity|Logs|Installed Apps/Google App Engine/Google App Engine - Activity|\_sourceCategory={{Logsdatasource}}  resource protoPayload methodName "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels", "message.data.protoPayload.methodName" as labels, method<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone nodrop<br />\| timeslice 1m<br /><br />\| if (method matches "\*UpdateVersion", 1, 0) as updates<br />\| if (method matches "\*CreateVersion", 1, 0) as creates<br />\| if (method matches "\*DeleteVersion", 1, 0) as deletes<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|sum(updates) as tot\_updates, sum(creates) as tot\_creates, sum(deletes) as tot\_deletes by \_timeslice|
|Google App Engine|Version Activity|Logs|Google App Engine/Google App Engine - Activity - New|\_sourceCategory = Labs/GCP/appengine logName resource protoPayload methodName "\\"type\\":\\"gae\_app\\""<br />\| parse regex "\\"logName\\":\\"(?\<log\_name\>[^\\"]+)\\"" <br />\| where log\_name matches "projects/\*/logs/cloudaudit.googleapis.com%2Factivity"<br />\| json "message.data.resource.labels", "message.data.protoPayload.methodName" as labels, method<br />\| json field=labels "module\_id", "project\_id", "version\_id", "zone" as service, project, version, zone<br />\| timeslice 1m<br /><br />\| if (method matches "\*UpdateVersion", 1, 0) as updates<br />\| if (method matches "\*CreateVersion", 1, 0) as creates<br />\| if (method matches "\*DeleteVersion", 1, 0) as deletes<br />\|where if ("{{Service}}" = "\*", true, service matches "{{Service}}") AND if ("{{Project}}" = "\*", true, project matches "{{Project}}") AND if ("{{UserLabels}}" = "\*", true, labels matches "{{UserLabels}}") AND if ("{{Version}}" = "\*", true, version matches "{{Version}}") AND if ("{{Zone}}" = "\*", true, zone matches "{{Zone}}")<br />\|sum(updates) as tot\_updates, sum(creates) as tot\_creates, sum(deletes) as tot\_deletes by \_timeslice|

