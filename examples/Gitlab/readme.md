# Gitlab
## Sumo Logic App For: Gitlab
The Sumo Logic App for GitLab provides you a complete overview of your GitLab builds, deployments, pipelines, issues, merge requests, and commits. The integration listens for GitLab events and uses the event data to populate the pre-configured Dashboards
Docs Link: [Gitlab](https://help.sumologic.com/?cid=2069)

## Searches

### Log Searches

- **10 Sowest Pipeline  Jobs**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Added Files**: from Dashboard: Gitlab/Gitlab - Commits 
- **Average Build Duration**: from Dashboard: Gitlab/Gitlab - Builds 
- **Average Build Duration (seconds) by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Average Pipelines Duration**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Avg Duration to Merge Merge Requests by Project**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Avg Duration to Merge Merge Requests by Repository**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Avg Job Duration (in sec) by Project**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Avg Pipleline Duration (in sec ) by Project**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Avg Pipleline Duration (in sec) by Project**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Avg Time to Close Issues by Project**: from Dashboard: Gitlab/Gitlab - Issues 
- **Avg Time to Close Issues by Repository**: from Dashboard: Gitlab/Gitlab - Issues 
- **Avg Time to Merge Merge Requests by Assignees**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Avg. Pipelines Duration (sec) Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Avg. Time (hrs) Taken to Close Issue by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Build Duration (in sec)  by Build Name**: from Dashboard: Gitlab/Gitlab - Builds 
- **Build Duration (in sec)  by Project**: from Dashboard: Gitlab/Gitlab - Builds 
- **Build Duration (in sec)  by Stage Name**: from Dashboard: Gitlab/Gitlab - Builds 
- **Build Duration (in sec) by Repository**: from Dashboard: Gitlab/Gitlab - Builds 
- **Build Duration (in seconds)**: from Dashboard: Gitlab/Gitlab - Builds 
- **Builds  By Status**: from Dashboard: Gitlab/Gitlab - Builds 
- **Builds Failed**: from Dashboard: Gitlab/Gitlab - Builds 
- **Builds Failed**: from Dashboard: Gitlab/Gitlab - Overview 
- **Builds Over Time**: from Dashboard: Gitlab/Gitlab - Builds 
- **Builds Status by Repository**: from Dashboard: Gitlab/Gitlab - Builds 
- **Builds Successful**: from Dashboard: Gitlab/Gitlab - Builds 
- **Builds Successful**: from Dashboard: Gitlab/Gitlab - Overview 
- **Closed Merge Requests by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Commits Summary**: from Dashboard: Gitlab/Gitlab - Commits 
- **Deployments by state**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Deployments Failed**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Deployments Failed**: from Dashboard: Gitlab/Gitlab - Overview 
- **Deployments Over Time**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Deployments Status by Project**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Deployments Successful**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Deployments Successful**: from Dashboard: Gitlab/Gitlab - Overview 
- **Failed Builds by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Failed Deployments  by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Failed Deployments by Environment**: from Dashboard: Gitlab/Gitlab - Overview 
- **Failed Jobs by Stages**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Failed Pipelines by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Issues by Label**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues by Label Over Time**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues by Severity**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues by Severity Over Time**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues by State**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues Closed**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues Closed**: from Dashboard: Gitlab/Gitlab - Overview 
- **Issues Opened**: from Dashboard: Gitlab/Gitlab - Overview 
- **Issues Opened**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues Opened Vs Closed**: from Dashboard: Gitlab/Gitlab - Issues 
- **Issues Reopened**: from Dashboard: Gitlab/Gitlab - Overview 
- **Issues Reopened**: from Dashboard: Gitlab/Gitlab - Issues 
- **Last 10 Closed Merge Requests**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Last 10 Failed Pipeline  Jobs**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Last 10 Failed Pipelines**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Last 10 Open Merge Requests**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Last 10 Opened and Unassigned Merge Requests**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Last 10 ReOpened Merge Requests**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Last 10 Review Comments on Merge Requests**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Last 15 Failed Builds**: from Dashboard: Gitlab/Gitlab - Builds 
- **‎Last 15 Failed Deployments**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Last 15 Opened and Unassigned Issues**: from Dashboard: Gitlab/Gitlab - Issues 
- **Last 15 Opened Issues**: from Dashboard: Gitlab/Gitlab - Issues 
- **Last 15 Reopened Issues**: from Dashboard: Gitlab/Gitlab - Issues 
- **Last 15 Successful Builds**: from Dashboard: Gitlab/Gitlab - Builds 
- **‎Last 15 Successful Deployments**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Last 20 Builds Summary**: from Dashboard: Gitlab/Gitlab - Builds 
- **‎Last 20 Deployments‎ Summary**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Last 20 Issues Summary**: from Dashboard: Gitlab/Gitlab - Issues 
- **Last 20 Merge Requests Summary**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Last 20 Pipeline Summary**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Merge Requests by Source Branch to Target Branch**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests by State**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests by State**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests by Target Branch**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests Closed**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests Merged**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests Merged**: from Dashboard: Gitlab/Gitlab - Overview 
- **Merge Requests Opened**: from Dashboard: Gitlab/Gitlab - Overview 
- **Merge Requests Opened**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merge Requests Opened and Merged by Repository**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Merged Merge Requests by Assignee Name**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Modified Files**: from Dashboard: Gitlab/Gitlab - Commits 
- **One Day Comparison**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Open Issues by Assignee**: from Dashboard: Gitlab/Gitlab - Issues 
- **Open Issues by Project**: from Dashboard: Gitlab/Gitlab - Issues 
- **Open Issues by Repository**: from Dashboard: Gitlab/Gitlab - Issues 
- **Open Merge Requests by Project**: from Dashboard: Gitlab/Gitlab - Overview 
- **Opened Merge Requests by Creators**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Opened Merge Requests by Project**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Opened Merge Requests by Repository**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Outlier of Failed Deployments**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Outlier on Failed Builds**: from Dashboard: Gitlab/Gitlab - Builds 
- **Outlier on Failed Pipelines**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Pipeline  by Status**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Pipelines  Over Time**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Pipelines Failed**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Pipelines Failed**: from Dashboard: Gitlab/Gitlab - Overview 
- **Pipelines Successful**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Pipelines Successful**: from Dashboard: Gitlab/Gitlab - Overview 
- **Pipleline Duration (in sec)**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Projects with Environment  by Failed Deployments**: from Dashboard: Gitlab/Gitlab - Deployments 
- **Removed Files**: from Dashboard: Gitlab/Gitlab - Commits 
- **Top 10 Merge Requests by Time taken to Merge (in hrs)**: from Dashboard: Gitlab/Gitlab - Merge Requests 
- **Top 10 Sowest Pipeline**: from Dashboard: Gitlab/Gitlab - Pipeline 
- **Top 15 Issues by Time taken to Close**: from Dashboard: Gitlab/Gitlab - Issues 
- **Top Slowest Build Stages**: from Dashboard: Gitlab/Gitlab - Builds 
- **Total number of Commits by branch**: from Dashboard: Gitlab/Gitlab - Commits 
- **Total number of Commits by Project**: from Dashboard: Gitlab/Gitlab - Commits 
- **Total number of Commits by Repository**: from Dashboard: Gitlab/Gitlab - Commits 
- **Total number of Commits by User**: from Dashboard: Gitlab/Gitlab - Commits

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Gitlab|10 Sowest Pipeline  Jobs|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("failed","success")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name<br />,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| parse regex field = jobs "(?\<json\_added\_blob\>\\{.\*?(environment\\"\\:null}\|\\}\\}))" multi<br />\| json field= json\_added\_blob "id","stage","name","status","created\_at","started\_at","finished\_at","duration","environment.name" as job\_id,job\_stage<br />,job\_name,job\_status <br />,job\_created\_at,job\_started\_at,job\_finished\_at,job\_duration,job\_enviroment nodrop<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| where !isEmpty(job\_duration)<br />\| count by created\_date\_time,job\_name,job\_duration,job\_id,pipeline\_id,job\_status,commit\_id,project,user<br />\|fields - \_count<br />\| sort by job\_duration desc<br />\| limit 10<br />|
|Gitlab|Added Files|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,group nodrop<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\| parse regex field=added "\\"(?\<added\_files\>[^\\"]+)\\"" multi <br />\| tourl(commit\_url,head\_commit) as head\_commit<br />\|count by head\_commit,added\_files,repo\_name,branch,user,commits\_count<br />\|fields -\_count|
|Gitlab|Average Build Duration|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| avg(build\_duration) as  Avg\_Duration<br />\| fields Avg\_Duration|
|Gitlab|Average Build Duration (seconds) by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_duration","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_duration,project nodrop<br />\| avg(build\_duration) as avg\_build\_duration by  project<br />\| sort by avg\_build\_duration|
|Gitlab|Average Pipelines Duration|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("success", "failed")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| avg(duration\_in\_sec) as  avg\_duration\_in\_sec<br />\| fields avg\_duration\_in\_sec|
|Gitlab|Avg Duration to Merge Merge Requests by Project|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="merged"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"    as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" and group matches "{{group}}"<br />\| parseDate(created\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(updated\_time, "yyyy-MM-dd HH:mm:ss") as merged\_timestamp<br />\| merged\_timestamp - created\_timestamp as ms\_to\_merge<br />\| ms\_to\_merge/1h as hours\_to\_merge<br />\| avg (hours\_to\_merge) as avg\_hrs\_to\_merge by  project<br />\| fields avg\_hrs\_to\_merge,project<br />\| sort by avg\_hrs\_to\_merge<br />|
|Gitlab|Avg Duration to Merge Merge Requests by Repository|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="merged"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" and group matches "{{group}}"<br />\| parseDate(created\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(updated\_time, "yyyy-MM-dd HH:mm:ss") as merged\_timestamp<br />\| merged\_timestamp - created\_timestamp as ms\_to\_merge<br />\| ms\_to\_merge/1h as hours\_to\_merge<br />\| avg (hours\_to\_merge) as avg\_hrs\_to\_merge by  repo\_name<br />\| fields avg\_hrs\_to\_merge,repo\_name<br />\| sort by avg\_hrs\_to\_merge<br />|
|Gitlab|Avg Job Duration (in sec) by Project|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("failed","success")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| parse regex field = builds "(?\<json\_added\_blob\>\\{.\*?(environment\\"\\:null}\|\\}\\}))" multi<br />\| json field= json\_added\_blob "id","stage","name","status","created\_at","started\_at","finished\_at","duration","environment.name" as job\_id,job\_stage,job\_name,job\_status,job\_created\_at,job\_started\_at,job\_finished\_at,job\_duration,job\_enviroment<br />\| where job\_status in ("failed","success")<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br /><br />\| where job\_duration!=null<br />\| avg(job\_duration) as avg\_job\_duration\_in\_sec by project<br />\| fields project, avg\_job\_duration\_in\_sec<br />\| sort by avg\_job\_duration\_in\_sec <br />|
|Gitlab|Avg Pipleline Duration (in sec ) by Project|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("success", "failed")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,pipeline\_duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| where pipeline\_duration\_in\_sec!=null<br />\| avg(pipeline\_duration\_in\_sec) as avg\_pipeline\_duration\_in\_sec by project<br />\| fields project, avg\_pipeline\_duration\_in\_sec<br />\| sort by avg\_pipeline\_duration\_in\_sec desc<br />|
|Gitlab|Avg Pipleline Duration (in sec) by Project|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in("failed","success")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,pipeline\_duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| where pipeline\_duration\_in\_sec!=null<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| avg(pipeline\_duration\_in\_sec) as avg  ,min(pipeline\_duration\_in\_sec) as min,max(pipeline\_duration\_in\_sec) as max<br />,pct(pipeline\_duration\_in\_sec,50) as median by  project<br />\| fields project,avg,min,max,median<br />\| sort by avg desc<br />|
|Gitlab|Avg Time to Close Issues by Project|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="closed"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","object\_attributes.closed\_at","project.path\_with\_namespace"  as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,closed\_date\_time,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| parseDate(created\_date\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(closed\_date\_time, "yyyy-MM-dd HH:mm:ss") as closed\_timestamp<br />\| closed\_timestamp - created\_timestamp as ms\_to\_close<br />\| ms\_to\_close/1d as avg\_hours\_to\_close<br />\| format( "%.2f",avg\_hours\_to\_close) as avg\_hours\_to\_close <br />\| avg(avg\_hours\_to\_close) as avg\_hours\_to\_close by project<br />\| fields project, avg\_hours\_to\_close<br />\| sort by avg\_hours\_to\_close <br />|
|Gitlab|Avg Time to Close Issues by Repository|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="closed"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","object\_attributes.closed\_at","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,closed\_date\_time,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| parseDate(created\_date\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(closed\_date\_time, "yyyy-MM-dd HH:mm:ss") as closed\_timestamp<br />\| closed\_timestamp - created\_timestamp as ms\_to\_close<br />\| ms\_to\_close/1d as avg\_hours\_to\_close<br />\| format( "%.2f",avg\_hours\_to\_close) as avg\_hours\_to\_close <br />\| avg(avg\_hours\_to\_close) as avg\_hours\_to\_close by repo\_name<br />\| fields repo\_name, avg\_hours\_to\_close<br />\| sort by avg\_hours\_to\_close <br />|
|Gitlab|Avg Time to Merge Merge Requests by Assignees|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="merged"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","project.path\_with\_namespace" as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,assignees\_name,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" and group matches "{{group}}"<br />\| parseDate(created\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(updated\_time, "yyyy-MM-dd HH:mm:ss") as merged\_timestamp<br />\| merged\_timestamp - created\_timestamp as ms\_to\_merge<br />\| ms\_to\_merge/1h as hours\_to\_merge<br />\| parse regex field=assignees\_name "\\"(?\<assignee\_name\>[^\\"]+)\\"" multi<br />\| avg (hours\_to\_merge) as avg\_hrs\_to\_merge by  assignee\_name<br />\| fields avg\_hrs\_to\_merge,assignee\_name<br />\| sort by avg\_hrs\_to\_merge<br />|
|Gitlab|Avg. Pipelines Duration (sec) Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.status","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds" as pipeline\_id,branch,commit\_id,pipeline\_status,pipeline\_stages,created\_date\_time,finished\_date\_time,duration,user,project,builds\_stage,builds\_name,builds\_status,builds nodrop<br />\| where duration!=null<br />\| avg(duration) as avg by  project<br />\| sort by avg desc|
|Gitlab|Avg. Time (hrs) Taken to Close Issue by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="closed"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","object\_attributes.closed\_at" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,closed\_date\_time nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\| parseDate(created\_date\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(closed\_date\_time, "yyyy-MM-dd HH:mm:ss") as closed\_timestamp<br />\| closed\_timestamp - created\_timestamp as ms\_to\_close<br />\| ms\_to\_close/1d as avg\_hours\_to\_close<br />\| format( "%.2f",avg\_hours\_to\_close) as avg\_hours\_to\_close <br />\| avg(avg\_hours\_to\_close) as avg\_hours\_to\_close by project<br />\| fields project, avg\_hours\_to\_close<br />\| sort by avg\_hours\_to\_close <br />|
|Gitlab|Build Duration (in sec)  by Build Name|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| avg(build\_duration) as avg ,min(build\_duration) as min,max(build\_duration) as max,pct(build\_duration,50) as med by  build\_name<br />\| fields build\_name,avg,min,max,med<br />\| sort by avg desc<br />|
|Gitlab|Build Duration (in sec)  by Project|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| avg(build\_duration) as avg,min(build\_duration) as min,max(build\_duration) as max,pct(build\_duration,50) as med by  project<br />\| fields project,avg,min,max,med<br />\| sort by avg desc<br />|
|Gitlab|Build Duration (in sec)  by Stage Name|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| where build\_status in ("success", "failed")<br />\| avg(build\_duration) as avg ,min(build\_duration) as min,max(build\_duration) as max,pct(build\_duration,50) as med by  build\_stage<br />\| fields build\_stage,avg,min,max,med<br />\| sort by avg desc|
|Gitlab|Build Duration (in sec) by Repository|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| avg(build\_duration) as avg ,min(build\_duration) as min,max(build\_duration) as max,pct(build\_duration,50) as med by  repo\_name<br />\| fields repo\_name,avg,min,max,med<br />\| sort by avg desc<br />|
|Gitlab|Build Duration (in seconds)|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\|timeslice 1h<br />\| avg(build\_duration) as avg ,min(build\_duration) as min,max(build\_duration) as max,pct(build\_duration,50) as med by \_timeslice<br /><br />|
|Gitlab|Builds  By Status|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| count by build\_status|
|Gitlab|Builds Failed|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="failed"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name" as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group <br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}"  and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| count<br /><br />|
|Gitlab|Builds Failed|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="failed"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,project<br />\| count|
|Gitlab|Builds Over Time|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| timeslice 1d<br />\| count by \_timeslice , build\_status<br />\| transpose row \_timeslice column build\_status<br />\| fillmissing timeslice(1h)|
|Gitlab|Builds Status by Repository|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab  and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| timeslice 1d<br />\| count by  repo\_name, build\_status<br />\| transpose row repo\_name column build\_status<br />|
|Gitlab|Builds Successful|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="success"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| count|
|Gitlab|Builds Successful|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="success"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,project<br />\| count|
|Gitlab|Closed Merge Requests by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"\|<br />json "object\_attributes.action","object\_attributes.state" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id"   as action,state, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id nodrop<br />\| withtime state<br />\| most\_recent(state\_withtime) as current\_state by  id,created\_time, title, project, current\_state<br />\| where current\_state matches "closed"<br />\|count as count by project<br />\| sort by count  desc|
|Gitlab|Commits Summary|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,group nodrop<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\| tourl(commit\_url,head\_commit) as head\_commit<br />\|count by head\_commit,repo\_name,branch,user,commits\_count<br />\|fields -\_count|
|Gitlab|Deployments by state|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status in ("failed", "success") <br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace"  as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| count by deployment\_status|
|Gitlab|Deployments Failed|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace"  as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployment\_id) as deployable\_id<br />\| count|
|Gitlab|Deployments Failed|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title nodrop<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| count|
|Gitlab|Deployments Over Time|Logs|Gitlab/Gitlab - Deployments|<br />\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status in ("failed", "success") <br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, "commit\_url") as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| timeslice 1h<br />\| count\_distinct (deployable\_id) by deployment\_status, \_timeslice<br />\| transpose row \_timeslice column deployment\_status<br />\| fillmissing timeslice(1h)<br />|
|Gitlab|Deployments Status by Project|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status in ("failed", "success") <br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| timeslice 1d<br />\| count by  project, deployment\_status<br />\| transpose row project column deployment\_status|
|Gitlab|Deployments Successful|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="success"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| count|
|Gitlab|Deployments Successful|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="success"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title nodrop<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| count|
|Gitlab|Failed Builds by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="failed"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project<br />\| count as count by project<br />\| sort by count|
|Gitlab|Failed Deployments  by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title nodrop<br />\| count as count by project<br />\| sort by count|
|Gitlab|Failed Deployments by Environment|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title nodrop<br />\| count as count by environment, project<br />\| transpose row project column environment|
|Gitlab|Failed Jobs by Stages|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| parse regex field = builds "(?\<json\_added\_blob\>\\{.\*?(environment\\"\\:null}\|\\}\\}))" multi<br />\| json field= json\_added\_blob "id","stage","name","status","created\_at","started\_at","finished\_at","duration","environment.name" as job\_id,job\_stage,job\_name,job\_status,job\_created\_at,job\_started\_at,job\_finished\_at,job\_duration,job\_enviroment<br />\| where job\_status="failed"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\|count by job\_stage|
|Gitlab|Failed Pipelines by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\| json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration,user,project\_name,builds\_stage,builds\_name,builds\_status,builds,web\_url<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| count as count by project\_name<br />\| sort by count desc|
|Gitlab|Issues by Label|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}" <br />\| parse regex field=labels "\\"(?\<label\>[^\\"]+)\\"" multi nodrop<br />\| withtime label<br />\| most\_recent(label\_withtime) as current\_label by  issue\_id<br />\| if(isEmpty(current\_label),"none",current\_label) as current\_label<br />\|count by current\_label|
|Gitlab|Issues by Label Over Time|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| parse regex field=labels "\\"(?\<label\>[^\\"]+)\\"" multi nodrop<br />\| if (isEmpty(label), "none", label) as label<br />\| timeslice 1h<br />\| count\_distinct (issue\_id) by label, \_timeslice<br />\| transpose row \_timeslice column label<br />\| fillmissing timeslice(1h)<br />|
|Gitlab|Issues by Severity|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state <br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}"  and group matches "{{group}}" <br />\| withtime severity<br />\| most\_recent(severity\_withtime) as current\_severity by  issue\_id<br />\|count by current\_severity|
|Gitlab|Issues by Severity Over Time|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace"  as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| parse regex field=labels "\\"(?\<label\>[^\\"]+)\\"" multi nodrop<br />\| if (isEmpty(label), "none", label) as label<br />\| timeslice 1h<br />\| count\_distinct (issue\_id) by severity, \_timeslice<br />\| transpose row \_timeslice column severity<br />\| fillmissing timeslice(1h)<br />|
|Gitlab|Issues by State|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group  nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| withtime issue\_state <br />\| most\_recent(issue\_state\_withtime) as current\_state by  issue\_id<br />\|count by current\_state|
|Gitlab|Issues Closed|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="closed"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state <br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}"  and group matches "{{group}}"<br />\|count|
|Gitlab|Issues Closed|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.state","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,state,severity,action,repo\_name,assignees,issue\_id nodrop<br />\| where state matches "closed" <br />\|count|
|Gitlab|Issues Opened|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.state","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,state,severity,action,repo\_name,assignees,issue\_id nodrop<br />\| where state matches "opened" and action matches "open" or action matches "reopen"<br />\|count|
|Gitlab|Issues Opened|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}"  and issue\_state matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| where  action in ("open" ,"reopen")<br />\|count|
|Gitlab|Issues Opened Vs Closed|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state in ("closed","opened")<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| timeslice 1h<br />\| count\_distinct (issue\_id) by issue\_state, \_timeslice<br />\| transpose row \_timeslice column issue\_state<br />\| fillmissing timeslice(1h)<br /><br />|
|Gitlab|Issues Reopened|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.state","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,state,severity,action,repo\_name,assignees,issue\_id nodrop<br /><br />\| withtime state<br />\| most\_recent(state\_withtime) as current\_state by  created\_date\_time,issue\_id, title, repo\_name, current\_state,action,user<br />\| where action matches "reopen" <br />\|count<br /><br /><br />|
|Gitlab|Issues Reopened|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| where  action= "reopen"<br />\|count<br /><br />|
|Gitlab|Last 10 Closed Merge Requests|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds"<br />,"object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","object\_attributes.last\_commit.id","project.path\_with\_namespace"  as action, title, created\_time , updated\_time,user,repository,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,<br />assignees\_name,commit\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| tourl(url,merge\_request\_id) as merge\_request\_id <br />\| tourl(url,title) as title <br />\| if(isEmpty(commit\_id),"n/a",tourl (url,commit\_id) )  as commit\_id<br />\| withtime merge\_request\_state<br />\| most\_recent(merge\_request\_state\_withtime) as current\_state by  merge\_request\_id,commit\_id,created\_time, title, repository, current\_state,project,user <br />\| where current\_state matches "closed"<br />\| sort created\_time desc<br />\| fields created\_time,merge\_request\_id,commit\_id, title,current\_state,project, repository,user<br />\| limit 10|
|Gitlab|Last 10 Failed Pipeline  Jobs|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| parse regex field = jobs "(?\<json\_added\_blob\>\\{.\*?(environment\\"\\:null}\|\\}\\}))" multi<br />\| json field= json\_added\_blob "id","stage","name","status","created\_at","started\_at","finished\_at","duration","environment.name" as job\_id,job\_stage,job\_name,job\_status<br />,job\_created\_at,job\_started\_at,job\_finished\_at,job\_duration,job\_enviroment nodrop<br />\| where job\_status="failed"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| count by created\_date\_time,job\_name,job\_duration,job\_id,pipeline\_id,commit\_id,project,user<br />\|fields - \_count<br />\| sort by created\_date\_time desc<br />\| limit 10<br />|
|Gitlab|Last 10 Failed Pipelines|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,pipeline\_duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| count by created\_date\_time,pipeline\_id,pipeline\_duration\_in\_sec,commit\_id,project,user<br />\|fields - \_count<br />\| sort by created\_date\_time desc<br />\| limit 10<br />|
|Gitlab|Last 10 Open Merge Requests|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds"<br />,"object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","object\_attributes.last\_commit.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repository,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,<br />assignees\_name,commit\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| tourl(url,merge\_request\_id) as merge\_request\_id <br />\| tourl(url,title) as title <br />\| if(isEmpty(commit\_id),"n/a",tourl (url,commit\_id) )  as commit\_id<br />\| withtime merge\_request\_state<br />\| most\_recent(merge\_request\_state\_withtime) as current\_state by  merge\_request\_id,commit\_id,created\_time, title, repository, current\_state,project,user <br />\| where current\_state matches "opened"<br />\| sort created\_time desc<br />\| fields created\_time,merge\_request\_id,commit\_id, title,current\_state,project, repository,user<br />\| limit 10|
|Gitlab|Last 10 Opened and Unassigned Merge Requests|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds"<br />,"object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","object\_attributes.last\_commit.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repository,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,<br />assignees\_name,commit\_id,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| tourl(url,merge\_request\_id) as merge\_request\_id <br />\| tourl(url,title) as title <br />\| if(isEmpty(commit\_id),"n/a",tourl (url,commit\_id) )  as commit\_id<br />\| withtime merge\_request\_state<br />\| most\_recent(merge\_request\_state\_withtime) as current\_state by created\_time, merge\_request\_id,commit\_id, title, repository, current\_state,project,user,assignees\_name<br />\| where current\_state matches "opened" and  isEmpty(assignees\_name)<br />\| fields - assignees\_name<br />\| sort by created\_time<br />\| limit 10<br />|
|Gitlab|Last 10 ReOpened Merge Requests|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds"<br />,"object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","object\_attributes.last\_commit.id","project.path\_with\_namespace"  as action, title, created\_time , updated\_time,user,repository,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,<br />assignees\_name,commit\_id,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| tourl(url,merge\_request\_id) as merge\_request\_id <br />\| tourl(url,title) as title <br />\| if(isEmpty(commit\_id),"n/a",tourl (url,commit\_id) )  as commit\_id<br />\|if(isEmpty(assignees\_name),"[\\"Unassigned\\"]",assignees\_name) as assignees\_name<br />\| parse regex field=assignees\_name "\\"(?\<assignee\_name\>[^\\"]+)\\"" multi<br />\| withtime merge\_request\_state<br />\| most\_recent(merge\_request\_state\_withtime) as current\_state by  created\_time,merge\_request\_id,commit\_id, title, repository, current\_state ,action,project,target\_branch,assignee\_name,user<br />\| where  action matches "reopen"<br />\| fields created\_time,merge\_request\_id,commit\_id, title, repository, current\_state,project,target\_branch,assignee\_name,user<br />\| order created\_time <br />\| limit 10<br /><br />|
|Gitlab|Last 10 Review Comments on Merge Requests|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Note Hook"\|<br />json"merge\_request.id","object\_attributes.description","merge\_request.state","object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","merge\_request.url" ,"merge\_request.title" ,"project.name","project.path\_with\_namespace" as  merge\_request\_id,comment,merge\_request\_state,created\_date\_time,updated\_time,user,repository, review\_url <br />,title,project,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| where !isNull(review\_url) <br />\| tourl(review\_url,merge\_request\_id) as merge\_request\_id<br />\| tourl(review\_url,title) as title <br />\| count created\_date\_time,merge\_request\_id, title, repository ,project<br />\| fields - \_count<br />\| sort by created\_date\_time<br />\|limit 10|
|Gitlab|Last 15 Failed Builds|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="failed"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| count by  build\_date\_time , files\_commited,deployable\_url,user,build\_failure\_reason,project,repo\_name<br />\| sort by build\_date\_time<br />\| limit 15<br />\| fields - \_count|
|Gitlab|‎Last 15 Failed Deployments|Logs|Gitlab/Gitlab - Deployments|<br />\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status ="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| deployment\_status\_changed\_at as date\_time<br />\| count by  date\_time , deployment\_status,environment, files\_commited,deployable\_id,user,project<br />\| sort by date\_time desc<br />\| limit 15<br />\| fields - \_count|
|Gitlab|Last 15 Opened and Unassigned Issues|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state <br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| tourl(issue\_url,issue\_id) as issue\_id <br />\| tourl(issue\_url,title) as title <br />\| where  isEmpty(assignees)<br />\| withtime issue\_state<br />\| most\_recent(issue\_state\_withtime) as current\_state by created\_date\_time, issue\_id,title,issue\_type, repo\_name,project, current\_state,severity,user <br />\| where current\_state matches "opened" <br />\| sort by created\_date\_time<br />\| limit 15<br />|
|Gitlab|Last 15 Opened Issues|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| tourl(issue\_url,issue\_id) as issue\_id <br />\| tourl(issue\_url,title) as title <br />\| withtime issue\_state<br />\| most\_recent(issue\_state\_withtime) as current\_state by  issue\_id,created\_date\_time, title, repo\_name,project, current\_state,user,issue\_type<br />\| where current\_state matches "opened" <br />\| order created\_date\_time asc<br />\| fields created\_date\_time,issue\_id, title,issue\_type ,repo\_name,project, current\_state,user<br />\| sort by created\_date\_time<br />\| limit 15<br />|
|Gitlab|Last 15 Reopened Issues|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state","object\_attributes.action" as issue\_state,action<br />\| where issue\_state="opened" and action ="reopen"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| tourl(issue\_url,issue\_id) as issue\_id <br />\| tourl(issue\_url,title) as title <br />\|count by  created\_date\_time,issue\_id,title,issue\_type, repo\_name, issue\_state,user<br />\| order created\_date\_time desc<br />\| fields - \_count<br /><br />|
|Gitlab|Last 15 Successful Builds|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="success"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| count by  build\_date\_time , files\_commited,deployable\_url,user,project,repo\_name<br />\| sort by build\_date\_time<br />\| limit 15<br />\| fields - \_count|
|Gitlab|‎Last 15 Successful Deployments|Logs|Gitlab/Gitlab - Deployments|<br />\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status ="success"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| deployment\_status\_changed\_at as date\_time<br />\| count by  date\_time , deployment\_status,environment, files\_commited,deployable\_id,user,project<br />\| sort by date\_time desc<br />\| limit 15<br />\| fields - \_count|
|Gitlab|Last 20 Builds Summary|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| count by  build\_date\_time , files\_commited,deployable\_url,build\_status,user,build\_failure\_reason,project,repo\_name<br />\| sort by build\_date\_time<br />\| limit 15<br />\| fields - \_count|
|Gitlab|‎Last 20 Deployments‎ Summary|Logs|Gitlab/Gitlab - Deployments|<br />\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status in ("failed", "success") <br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| deployment\_status\_changed\_at as date\_time<br />\| count by  date\_time , deployment\_status,environment, files\_commited,deployable\_id,user,project<br />\| sort by date\_time desc<br />\| limit 20<br />\| fields - \_count|
|Gitlab|Last 20 Issues Summary|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| tourl(issue\_url,issue\_id) as issue\_id <br />\| tourl(issue\_url,title) as title <br />\| replace(assignees, "[","") as assignees\_name<br />\| replace(assignees, "]","") as assignees\_name<br />\| count by created\_date\_time,issue\_id,title,severity,issue\_state,repo\_name,project,user<br />\| sort by created\_date\_time desc<br />\| fields - \_count<br />\| limit 20<br /><br />|
|Gitlab|Last 20 Merge Requests Summary|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds"<br />,"object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","object\_attributes.last\_commit.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repository,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,<br />assignees\_name,commit\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| tourl(url,merge\_request\_id) as merge\_request\_id <br />\| tourl(url,title) as title <br />\| if(isEmpty(commit\_id),"n/a",tourl (url,commit\_id) )  as commit\_id<br />\|if(isEmpty(assignees\_name),"[\\"Unassigned\\"]",assignees\_name) as assignees\_name<br />\| parse regex field=assignees\_name "\\"(?\<assignee\_name\>[^\\"]+)\\"" multi<br />\| sort by created\_time <br />\| count by  created\_time,merge\_request\_id,commit\_id ,title, merge\_request\_state,action,project,repository,target\_branch,assignee\_name<br />\| fields - \_count<br />\| limit 20|
|Gitlab|Last 20 Pipeline Summary|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("success", "failed")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,pipeline\_duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| count by created\_date\_time,pipeline\_id,pipeline\_status,pipeline\_duration\_in\_sec,commit\_id,project,user<br />\|fields - \_count<br />\| sort by created\_date\_time desc<br />\| limit 20|
|Gitlab|Merge Requests by Source Branch to Target Branch|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| count by source\_branch,target\_branch <br />\| transpose row source\_branch column target\_branch<br />|
|Gitlab|Merge Requests by State|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace" as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| timeslice 1h<br />\| count\_distinct (merge\_request\_id) by merge\_request\_state, \_timeslice<br />\| transpose row \_timeslice column merge\_request\_state<br />\| fillmissing timeslice(1h)|
|Gitlab|Merge Requests by State|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"  as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| withtime merge\_request\_state<br />\| most\_recent(merge\_request\_state\_withtime) as current\_state by  merge\_request\_id<br />\|count by current\_state<br />|
|Gitlab|Merge Requests by Target Branch|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"  as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| count by target\_branch |
|Gitlab|Merge Requests Closed|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="closed"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace" as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| count|
|Gitlab|Merge Requests Merged|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace" as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| withtime merge\_request\_state<br />\| most\_recent(merge\_request\_state\_withtime) as current\_state by  merge\_request\_id,created\_time, title, repo\_name, current\_state<br />\| where current\_state matches "merged"<br />\|count<br />|
|Gitlab|Merge Requests Merged|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"\|<br />json "object\_attributes.action","object\_attributes.state" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id"   as action,state, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id nodrop<br />\| where user matches "\*" and repo\_name matches "\*" and project matches "\*" and merge\_request\_id matches "\*" and state matches "\*"<br />\| withtime state<br />\| most\_recent(state\_withtime) as current\_state by  id,created\_time, title, repo\_name, current\_state<br />\| where current\_state matches "merged"<br />\|count<br />|
|Gitlab|Merge Requests Opened|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"\|<br />json "object\_attributes.action","object\_attributes.state" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id"   as action,state, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id nodrop<br />\| where state matches "opened" and action matches "open" or action matches "reopen"<br />\| count|
|Gitlab|Merge Requests Opened|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="opened"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| where action matches "open" or action matches "reopen"<br />\| count<br />|
|Gitlab|Merge Requests Opened and Merged by Repository|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state in ("opened","merged")<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| where action in ("open","reopen","merge")<br />\| count by repo\_name,merge\_request\_state<br />\| transpose row repo\_name column merge\_request\_state|
|Gitlab|Merged Merge Requests by Assignee Name|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="merged"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,assignees\_name,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| parse regex field=assignees\_name "\\"(?\<assignee\_name\>[^\\"]+)\\"" multi<br />\| count by assignee\_name<br />|
|Gitlab|Modified Files|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,project,group<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\| parse regex field=modified "\\"(?\<modified\_files\>[^\\"]+)\\"" multi <br />\| tourl(commit\_url,head\_commit) as head\_commit<br />\|count by head\_commit,modified\_files,repo\_name,branch,user,commits\_count<br />\|fields -\_count|
|Gitlab|One Day Comparison|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status in ("failed", "success") <br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace"  as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| count by deployment\_status<br />\| compare with timeshift 1d<br />|
|Gitlab|Open Issues by Assignee|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="opened"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\|if(isEmpty(assignees),"[\\"Unassigned\\"]",assignees) as assignees<br />\| parse regex field=assignees"\\"(?\<assignee\_name\>[^\\"]+)\\"" multi <br />\| where action matches "open"<br />\|count by assignee\_name,issue\_state<br />\| transpose row assignee\_name column issue\_state<br />|
|Gitlab|Open Issues by Project|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace"  as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state <br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| withtime issue\_state<br />\| most\_recent(issue\_state\_withtime) as current\_state by  issue\_id,project<br />\| where current\_state matches "opened" <br />\|count by project,current\_state<br />\| transpose row project column current\_state<br />|
|Gitlab|Open Issues by Repository|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","project.path\_with\_namespace"  as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| withtime issue\_state<br />\| most\_recent(issue\_state\_withtime) as current\_state by  issue\_id,repo\_name<br />\| where current\_state matches "opened" <br />\|count by repo\_name,current\_state<br />\| transpose row repo\_name column current\_state<br />|
|Gitlab|Open Merge Requests by Project|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"\|<br />json "object\_attributes.action","object\_attributes.state" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id"   as action,state, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id nodrop<br />\| withtime state<br />\| most\_recent(state\_withtime) as current\_state by  merge\_request\_id, project<br />\| where current\_state="opened"<br />\|count as count by project<br />\| sort by count desc<br />|
|Gitlab|Opened Merge Requests by Creators|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="opened"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"   as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| where action in ("open","reopen")<br />\| count by user<br />\| sort by \_count<br />|
|Gitlab|Opened Merge Requests by Project|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="opened"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace"  as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| where action in ("open","reopen")<br />\| count by project<br />\| sort by \_count<br />|
|Gitlab|Opened Merge Requests by Repository|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="opened"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds","object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","project.path\_with\_namespace" as action, title, created\_time , updated\_time,user,repo\_name,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| where action in ("open","reopen")<br />\| count by repo\_name<br />\| sort by \_count<br />|
|Gitlab|Outlier of Failed Deployments|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\| timeslice 6h<br />\| count(deployment\_status) as deployment\_status\_count by \_timeslice<br />\| outlier deployment\_status\_count<br /><br />|
|Gitlab|Outlier on Failed Builds|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status="failed"<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","build\_duration","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,build\_duration,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| timeslice 1h<br />\| count(build\_status) as build\_status\_count by \_timeslice<br />\| outlier build\_status\_count|
|Gitlab|Outlier on Failed Pipelines|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\|timeslice 6h<br />\| count (pipeline\_status) as pipeline\_status\_count by \_timeslice<br />\| outlier pipeline\_status\_count|
|Gitlab|Pipeline  by Status|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("success", "failed")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| count by pipeline\_status|
|Gitlab|Pipelines  Over Time|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("failed","success")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage<br />,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| timeslice 1h<br />\| count\_distinct (pipeline\_id) by pipeline\_status, \_timeslice<br />\| transpose row \_timeslice column pipeline\_status<br />\| fillmissing timeslice(1h)|
|Gitlab|Pipelines Failed|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+"<br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| count |
|Gitlab|Pipelines Failed|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\| json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "failed"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration,user,project\_name,builds\_stage,builds\_name,builds\_status,builds,web\_url<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| count |
|Gitlab|Pipelines Successful|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status="success"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace"  as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| count |
|Gitlab|Pipelines Successful|Logs|Gitlab/Gitlab - Overview|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\| json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status = "success"<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,duration,user,project\_name,builds\_stage,builds\_name,builds\_status,builds,web\_url<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| count |
|Gitlab|Pipleline Duration (in sec)|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("failed","success")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,pipeline\_duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| where pipeline\_duration\_in\_sec!=null<br />\|timeslice 1m<br />\| avg(pipeline\_duration\_in\_sec) as avg,min(pipeline\_duration\_in\_sec) as min,max(pipeline\_duration\_in\_sec) as max,pct(pipeline\_duration\_in\_sec,50) as med by  \_timeslice |
|Gitlab|Projects with Environment  by Failed Deployments|Logs|Gitlab/Gitlab - Deployments|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Deployment Hook" <br />\| json "status" as deployment\_status<br />\| where deployment\_status ="failed"<br />\| json "deployable\_id","status\_changed\_at","environment","deployable\_url","user.name","commit\_url","project.name" ,"commit\_title","project.path\_with\_namespace" as deployable\_id,deployment\_status\_changed\_at,environment,deployable\_url,user ,commit\_link,project,commit\_title,group nodrop<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where   project matches "{{project}}" and environment matches "{{environment}}" and user matches "{{user}}" and deployment\_status matches "{{deployment\_status}}" and deployable\_id matches "{{deployable\_id}}" and group matches "{{group}}"<br />\| tourl (commit\_link, commit\_title) as files\_commited<br />\| tourl (deployable\_url, deployable\_id) as deployable\_id<br />\|count by project,environment<br />\| transpose row project column environment<br />|
|Gitlab|Removed Files|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,group nodrop<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}"  and group matches "{{group}}"<br />\| parse regex field=removed "\\"(?\<removed\_files\>[^\\"]+)\\"" multi <br />\| tourl(commit\_url,head\_commit) as head\_commit<br />\|count by head\_commit,removed\_files,repo\_name,branch,user,commits\_count<br />\|fields -\_count|
|Gitlab|Top 10 Merge Requests by Time taken to Merge (in hrs)|Logs|Gitlab/Gitlab - Merge Requests|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Merge Request Hook"<br />\|json "object\_attributes.state" as merge\_request\_state<br />\| where merge\_request\_state="merged"<br />\|json "object\_attributes.action" ,"object\_attributes.title", "object\_attributes.created\_at","object\_attributes.updated\_at","user.name","repository.name","object\_attributes.merge\_when\_pipeline\_succeeds"<br />,"object\_attributes.url","object\_attributes.source\_branch","object\_attributes.target\_branch","project.name","object\_attributes.id","assignees[\*].name","object\_attributes.last\_commit.id","project.path\_with\_namespace" as action, title, created\_time , updated\_time,user,repository,branch\_deleted, url,source\_branch,target\_branch,project,merge\_request\_id,<br />assignees\_name,commit\_id,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repository matches "{{repository}}" and project matches "{{project}}" and merge\_request\_id matches "{{merge\_request\_id}}" <br />and merge\_request\_state matches "{{merge\_request\_state}}" and group matches "{{group}}"<br />\| tourl(url,merge\_request\_id) as merge\_request\_id <br />\| tourl(url,title) as title <br />\| if(isEmpty(commit\_id),"n/a",tourl (url,commit\_id) )  as commit\_id<br />\| parseDate(created\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(updated\_time, "yyyy-MM-dd HH:mm:ss") as merged\_timestamp<br />\| merged\_timestamp - created\_timestamp as ms\_to\_merge<br />\| ms\_to\_merge/1h as hours\_to\_merge<br />\| format( "%.2f",hours\_to\_merge) as hours\_to\_merge<br />\| count created\_time,hours\_to\_merge,merge\_request\_id,title ,source\_branch,target\_branch,repository,project,user<br />\| order by created\_time desc<br />\| fields - \_count<br />\| limit 10<br />|
|Gitlab|Top 10 Sowest Pipeline|Logs|Gitlab/Gitlab - Pipeline|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Pipeline Hook" <br />\|json "object\_attributes.status" as pipeline\_status<br />\| where pipeline\_status in ("failed","success")<br />\| json "object\_attributes.id","object\_attributes.ref","object\_attributes.sha","object\_attributes.stages","object\_attributes.created\_at","object\_attributes.finished\_at","object\_attributes.duration","user.name","project.name","builds[\*].stage","builds[\*].name","builds[\*].status","builds","project.web\_url","commit.url","project.path\_with\_namespace" as pipeline\_id,branch,commit\_id,pipeline\_stages,created\_date\_time,finished\_date\_time,pipeline\_duration\_in\_sec,user,project,jobs\_stage,jobs\_name,jobs\_status,jobs,web\_url,commit\_url,group nodrop<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and project matches "{{project}}" and pipeline\_id matches "{{pipeline\_id}}" and pipeline\_status matches "{{pipeline\_status}}" and group matches "{{group}}"<br />\| concat(web\_url,"/-/pipelines/",pipeline\_id) as pipeline\_url<br />\| tourl(pipeline\_url,pipeline\_id) as pipeline\_id<br />\| tourl(commit\_url,commit\_id) as commit\_id<br />\| where !isEmpty(pipeline\_duration\_in\_sec)<br />\| count by created\_date\_time,pipeline\_id,pipeline\_status,pipeline\_duration\_in\_sec,commit\_id,project,user<br />\|fields - \_count<br />\| sort by pipeline\_duration\_in\_sec desc<br />\| limit 10<br />|
|Gitlab|Top 15 Issues by Time taken to Close|Logs|Gitlab/Gitlab - Issues|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Issue Hook" <br />\| json "object\_attributes.state" as issue\_state<br />\| where issue\_state="closed"<br />\| json "user.name","project.id","project.name","projec.web\_url","object\_attributes.created\_at","object\_attributes.title","object\_attributes.url","labels[\*].title","object\_attributes.severity","object\_attributes.action","repository.name","assignees[\*].name","object\_attributes.id","object\_attributes.closed\_at","project.path\_with\_namespace" as user,project\_id,project,project\_url,created\_date\_time,title,issue\_url,labels,severity,action,repo\_name,assignees,issue\_id,closed\_date\_time,group nodrop<br />\| if (labels contains "incident","incident","issue") as issue\_type<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where repo\_name matches "{{repository}}" and user matches "{{user}}" and project matches "{{project}}" and issue\_id matches "{{issue\_id}}" and issue\_state<br /> matches "{{issue\_state}}" and severity matches "{{severity}}" and issue\_type matches "{{issue\_type}}" and group matches "{{group}}"<br />\| tourl(issue\_url,issue\_id) as issue\_id <br />\| tourl(issue\_url,title) as title <br />\| parseDate(created\_date\_time, "yyyy-MM-dd HH:mm:ss") as created\_timestamp<br />\| parseDate(closed\_date\_time, "yyyy-MM-dd HH:mm:ss") as closed\_timestamp<br />\| closed\_timestamp - created\_timestamp as ms\_to\_close<br />\| ms\_to\_close/1h as hours\_to\_close<br />\| format( "%.2f",hours\_to\_close) as hours\_to\_close<br />\| count by created\_date\_time,hours\_to\_close,issue\_id,title,issue\_state,repo\_name,project,user<br />\| sort by hours\_to\_close<br />\| fields - \_count<br />\| limit 15|
|Gitlab|Top Slowest Build Stages|Logs|Gitlab/Gitlab - Builds|\_sourceCategory = Labs/gitlab   and %"x-gitlab-event"="Job Hook" <br />\| json "build\_status" as build\_status<br />\| where build\_status in ("success", "failed")<br />\| json "build\_created\_at","build\_id","build\_name","build\_status" ,"build\_stage","user.name","repository.name","commit.message" , "repository.homepage","commit.sha","build\_failure\_reason","project\_name"as build\_date\_time,build\_id , build\_name ,build\_status,build\_stage,user, repo\_name,build\_commit\_message , homepage,commit\_id,build\_failure\_reason,project nodrop<br />\| split homepage delim='/' extract 4 as group<br />\| where repo\_name matches "{{repository}}" and project matches "{{project}}" and build\_id matches "{{build\_id}}" and build\_status matches "{{build\_status}}" and user matches "{{user}}" and build\_stage matches "{{build\_stage}}" and group matches "{{group}}"<br />\| concat(homepage,"/-/commit/",commit\_id) as commit\_url<br />\| concat(homepage,"/-/jobs/",build\_id) as deployable\_url<br />\| tourl (commit\_url, commit\_id) as files\_commited<br />\| tourl (deployable\_url, build\_id) as deployable\_url<br />\| avg(build\_duration) as %"Build Stage Duration in seconds" by build\_stage<br />\| sort by %"Build Stage Duration in seconds"<br />\| limit 5|
|Gitlab|Total number of Commits by branch|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,project,group<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\| sum(commits\_count) as total\_commits by branch<br />\| fields total\_commits,branch<br />\| sort by total\_commits<br /><br />|
|Gitlab|Total number of Commits by Project|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,project,group<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\|sum(commits\_count) as total\_commits  by project<br />\| fields total\_commits,project<br />\| sort by total\_commits<br />|
|Gitlab|Total number of Commits by Repository|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,project,group<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\|  parse regex field=group "(?\<group\>.+)\\/.+" <br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\| sum(commits\_count) as total\_commits  by repo\_name<br />\| fields total\_commits,repo\_name<br />\| sort by total\_commits<br />|
|Gitlab|Total number of Commits by User|Logs|Gitlab/Gitlab - Commits|\_sourceCategory = Labs/gitlab   %"x-gitlab-event"="Push Hook"  \| <br /> json  "repository.name" ,"ref", "total\_commits\_count" , "commits.[\*].id" , "commits.[\*].title","commits.[\*].timestamp", "repository.homepage","commits.[\*].author.name","commits.[\*].added","commits.[\*].modified","commits.[\*].removed","checkout\_sha","user\_name","project.name","project.path\_with\_namespace" as repo\_name,branch\_path,commits\_count,commit\_id,commit\_title,commit\_timestamp,homepage ,author,added,modified,removed,head\_commit,user,project,group<br />\| concat(homepage,"/-/commit/",head\_commit) as commit\_url<br />\| parse regex field=group "(?\<group\>.+)\\/.+" <br />\| parse regex field=branch\_path ".\*?\\/.\*?\\/(?\<branch\>.\*)"<br />\| where user matches "{{user}}" and repo\_name matches "{{repository}}" and branch matches "{{branch}}" and project matches "{{project}}" and head\_commit matches "{{head\_commit}}" and group matches "{{group}}"<br />\| sum(commits\_count) as total\_commits by user<br />\| fields total\_commits,user<br />\| sort by total\_commits<br />|

