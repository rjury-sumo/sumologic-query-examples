# Amazon SQS
## Sumo Logic App For: Amazon SQS
The Sumo Logic App for Amazon SQS provides operational insights into your Amazon SQS utilization. The App's preconfigured dashboards help you monitor the key metrics, view the SQS events for queue activities, and help you plan the capacity of your SQS service utilization
Docs Link: [Amazon SQS](https://help.sumologic.com/?cid=4051)

## Searches

### Log Searches

- **Events**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Events by User**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Events Details**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Events Location**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Events Location**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Events Trend**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Events Trend**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Top Queues**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Top Users**: from Dashboard: Amazon SQS/Amazon SQS - CloudTrail Events - New 
- **Top Users**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New

### Metric Searches

- **Approximate Age Of Oldest Message (Seconds)**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Approximate Age Of Oldest Message (Seconds)**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Approximate Age Of Oldest Message (Seconds)**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Approximate Number Of Messages Delayed**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Approximate Number Of Messages Delayed**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Approximate Number Of Messages Delayed**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Approximate Number Of Messages Not Visible**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Approximate Number Of Messages Not Visible**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Approximate Number Of Messages Visible**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Approximate Number Of Messages Visible**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Approximate Number Of Messages Visible and Not Visible**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Lag (Sent - Deleted)**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Lag (Sent - Deleted)**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Number Of Empty Receives**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Number Of Empty Receives**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Number Of Empty Receives**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Number Of Messages Deleted**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Number Of Messages Deleted**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Number Of Messages Received**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Number Of Messages Received**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Number Of Messages Received**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Number Of Messages Sent**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Number Of Messages Sent**: from Dashboard: Amazon SQS/Amazon SQS by Region - New 
- **Number Of Messages Sent and Deleted**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Sent Message Size**: from Dashboard: Amazon SQS/Amazon SQS by QueueName - New 
- **Sent Message Size**: from Dashboard: Amazon SQS/Amazon SQS - Overview - New 
- **Sent Message Size**: from Dashboard: Amazon SQS/Amazon SQS by Region - New

## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Amazon SQS|Approximate Age Of Oldest Message (Seconds)|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=ApproximateAgeOfOldestMessage Statistic=Average QueueName=\* Region=\*|
|Amazon SQS|Approximate Age Of Oldest Message (Seconds)|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=ApproximateAgeOfOldestMessage Statistic=Average \| avg by Region|
|Amazon SQS|Approximate Age Of Oldest Message (Seconds)|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=ApproximateAgeOfOldestMessage Statistic=Average \| avg by Region|
|Amazon SQS|Approximate Number Of Messages Delayed|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=ApproximateNumberOfMessagesDelayed Statistic=Average  QueueName=\* Region=\*|
|Amazon SQS|Approximate Number Of Messages Delayed|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=ApproximateNumberOfMessagesDelayed Statistic=Average \| avg by Region|
|Amazon SQS|Approximate Number Of Messages Delayed|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=ApproximateNumberOfMessagesDelayed Statistic=Average \| avg by Region|
|Amazon SQS|Approximate Number Of Messages Not Visible|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=ApproximateNumberOfMessagesNotVisible Statistic=Sum  QueueName=\* Region=\*|
|Amazon SQS|Approximate Number Of Messages Not Visible|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=ApproximateNumberOfMessagesNotVisible Statistic=Sum \| sum by Region|
|Amazon SQS|Approximate Number Of Messages Visible|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=ApproximateNumberOfMessagesVisible Statistic=Sum \| sum by Region|
|Amazon SQS|Approximate Number Of Messages Visible|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=ApproximateNumberOfMessagesVisible Statistic=Sum QueueName=\* Region=\*|
|Amazon SQS|Approximate Number Of Messages Visible and Not Visible|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=ApproximateNumberOfMessagesNotVisible Statistic=Sum \| sum by Region|
|Amazon SQS|Events|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventName" nodrop \| json "eventSource" nodrop \| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by eventName<br />\| sort by eventCount|
|Amazon SQS|Events by User|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| json "requestParameters.queueName" as queueName nodrop<br />\| json "requestParameters.queueUrl" as queueUrl nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1d<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by user, eventName<br />\| transpose row user column eventName|
|Amazon SQS|Events Details|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| json "requestParameters.queueName" as queueName nodrop<br />\| json "requestParameters.queueUrl" as queueUrl nodrop<br />\| sourceIPAddress as src\_ip<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1s<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by \_timeslice, eventName, queueName, queueUrl, type, user, accountId, awsRegion, src\_ip<br />\| sort by \_timeslice|
|Amazon SQS|Events Location|Logs|Amazon SQS/Amazon SQS - Overview - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "sourceIPAddress" as src\_ip \| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count by src\_ip, eventName<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = src\_ip<br />\| sort \_count|
|Amazon SQS|Events Location|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "sourceIPAddress" as src\_ip \| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count by src\_ip, eventName<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = src\_ip<br />\| sort \_count|
|Amazon SQS|Events Trend|Logs|Amazon SQS/Amazon SQS - Overview - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userIdentity.accountId" as accountId nodrop \| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1d<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by \_timeslice, eventName<br />\| transpose row \_timeslice column eventName|
|Amazon SQS|Events Trend|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\| timeslice 1d<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by \_timeslice, eventName<br />\| transpose row \_timeslice column eventName|
|Amazon SQS|Lag (Sent - Deleted)|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=NumberOfMessagesSent Statistic=Sum \| Sum by Region |
|Amazon SQS|Lag (Sent - Deleted)|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=NumberOfMessagesSent Statistic=Sum \| Sum by Region |
|Amazon SQS|Number Of Empty Receives|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=NumberOfEmptyReceives Statistic=Sum \| sum by Region|
|Amazon SQS|Number Of Empty Receives|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=NumberOfEmptyReceives Statistic=Sum QueueName=\* Region=\*|
|Amazon SQS|Number Of Empty Receives|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=NumberOfEmptyReceives Statistic=Sum \| sum by Region|
|Amazon SQS|Number Of Messages Deleted|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=NumberOfMessagesDeleted Statistic=Sum \| Sum by Region|
|Amazon SQS|Number Of Messages Deleted|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=NumberOfMessagesDeleted Statistic=Sum QueueName=\* Region=\*|
|Amazon SQS|Number Of Messages Received|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=NumberOfMessagesReceived Statistic=Sum QueueName=\* Region=\*|
|Amazon SQS|Number Of Messages Received|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=NumberOfMessagesReceived Statistic=Sum \| Sum by Region|
|Amazon SQS|Number Of Messages Received|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=NumberOfMessagesReceived Statistic=Sum \| Sum by Region|
|Amazon SQS|Number Of Messages Sent|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=NumberOfMessagesSent Statistic=Sum QueueName=\* Region=\*|
|Amazon SQS|Number Of Messages Sent|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=NumberOfMessagesSent Statistic=Sum \| sum by Region|
|Amazon SQS|Number Of Messages Sent and Deleted|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=NumberOfMessagesDeleted Statistic=Sum \| Sum by Region|
|Amazon SQS|Sent Message Size|Metrics|Amazon SQS/Amazon SQS by QueueName - New|queuename={{queuename}} region={{region}}  Namespace=AWS/SQS metric=SentMessageSize Statistic=Average QueueName=\* Region=\*|
|Amazon SQS|Sent Message Size|Metrics|Amazon SQS/Amazon SQS - Overview - New| Namespace=AWS/SQS metric=SentMessageSize Statistic=Average \| avg by Region|
|Amazon SQS|Sent Message Size|Metrics|Amazon SQS/Amazon SQS by Region - New| Namespace=AWS/SQS metric=SentMessageSize Statistic=Average \| avg by Region|
|Amazon SQS|Top Queues|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "awsRegion" nodrop \| json "sourceIPAddress" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| json "requestParameters.queueName" as queueName nodrop<br />\| json "requestParameters.queueUrl" as queueUrl nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(queueName), queueUrl, queueName) as queueName<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by queueName<br />\| top 10 queueName by eventCount|
|Amazon SQS|Top Users|Logs|Amazon SQS/Amazon SQS - Overview - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop\| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by user<br />\| top 10 user by eventCount|
|Amazon SQS|Top Users|Logs|Amazon SQS/Amazon SQS - CloudTrail Events - New|\_sourceCategory = Labs/AWS/CloudTrail\* "\\"eventsource\\":\\"sqs.amazonaws.com\\""<br />\| json "eventSource" nodrop \| json "userIdentity.type" as type nodrop \| json "userIdentity.arn" as arn nodrop \| json "userName" nodrop \| json "eventName" nodrop \| json "requestParameters.queueName" as queueName nodrop \| json "requestParameters.queueUrl" as queueUrl nodrop \| json "userIdentity.accountId" as accountId nodrop<br />\| where eventSource="sqs.amazonaws.com"<br />\| parse field=arn ":assumed-role/\*" as user<br />\| if (isEmpty(userName), user, userName) as user<br />\|where if ("{{eventname}}" = "\*", true, eventname matches "{{eventname}}") AND if ("{{accountid}}" = "\*", true, accountid matches "{{accountid}}") AND if ("{{src\_ip}}" = "\*", true, src\_ip matches "{{src\_ip}}") AND if ("{{user}}" = "\*", true, user matches "{{user}}") AND if ("{{queuename}}" = "\*", true, queuename matches "{{queuename}}")<br />\|count as eventCount by user<br />\| top 10 user by eventCount|

