# Docker
## Sumo Logic App For: Docker
The Sumo Logic App for Docker provides operational insight into your Docker environment. The App includes Dashboards that allow you to view your Container performance statistics for CPU, memory, and the network. It also provides visibility into Container events such as start, stop, and other important commands.
Docs Link: [Docker](https://help.sumologic.com/?cid=1056)

## Searches

### Log Searches

- **Container Actions**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Containers Created/Started**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Containers Stopped/Paused**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **CPU Total Usage (Jiffy) per Minute by Container**: from Dashboard: Installed Apps/Docker/Docker - CPU Performance 
- **Docker Hosts**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Kernel CPU Usage (%) by Container**: from Dashboard: Installed Apps/Docker/Docker - CPU Performance 
- **Major Fault Total Count by Container**: from Dashboard: Installed Apps/Docker/Docker - Memory Performance 
- **Page Fault Increment per Minute by Container**: from Dashboard: Installed Apps/Docker/Docker - Memory Performance 
- **Receive Errors by Container**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Received Packets by Container**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Received Traffic (MB) by Container**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Running Containers Detected**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Send Errors by Container**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Sent Packets by Container**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Sent Traffic (MB) by Container**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Swap Size by Container**: from Dashboard: Installed Apps/Docker/Docker - Memory Performance 
- **Throttled Time (Second) by Container**: from Dashboard: Installed Apps/Docker/Docker - CPU Performance 
- **Top 10 Containers by Avg Resident Memory Consumption (KB)**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Top 10 Containers by CPU Consumption (%)**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Top 10 Containers by Traffic Sent and Received (MB)**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Top Containers by RSS Memory (KB) Over Time**: from Dashboard: Installed Apps/Docker/Docker - Memory Performance 
- **Total CPU Consumption (%) Over Time by Container**: from Dashboard: Installed Apps/Docker/Docker - CPU Performance 
- **Total Network Error Count**: from Dashboard: Installed Apps/Docker/Docker - Network Performance 
- **Total Network Error Count**: from Dashboard: Installed Apps/Docker/Docker - Overview 
- **Total Page Fault Increment**: from Dashboard: Installed Apps/Docker/Docker - Memory Performance 
- **Unevictable Memory Increment by Container**: from Dashboard: Installed Apps/Docker/Docker - Memory Performance 
- **User CPU Usage (%) by Container**: from Dashboard: Installed Apps/Docker/Docker - CPU Performance

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Docker|Container Actions|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}  status id from<br />\| parse "\\"status\\":\\"\*\\"" as status, "\\"id\\":\\"\*\\"" as container\_id, "\\"from\\":\\"\*\\"" as image<br />\| timeslice 1h<br />\| count by status, \_timeslice <br />\| transpose row \_timeslice column status<br />|
|Docker|Containers Created/Started|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}   ("\\"status\\":\\"create\\"" or "\\"status\\":\\"start\\"")  id from<br />\| parse "\\"status\\":\\"\*\\"" as status, "\\"id\\":\\"\*\\"" as container\_id, "\\"from\\":\\"\*\\"" as image<br />\| count\_distinct(container\_id)<br />|
|Docker|Containers Stopped/Paused|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}   ("\\"status\\":\\"stop\\"" or "\\"status\\":\\"pause\\"")  id from<br />\| parse "\\"status\\":\\"\*\\"" as status, "\\"id\\":\\"\*\\"" as container\_id, "\\"from\\":\\"\*\\"" as image<br />\| count\_distinct(container\_id)<br />|
|Docker|CPU Total Usage (Jiffy) per Minute by Container|Logs|Installed Apps/Docker/Docker - CPU Performance|\_sourceCategory={{Logsdatasource}}  "cpu\_stats" <br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json "cpu\_stats.cpu\_usage.total\_usage" as cpu\_total\_usage <br />\| cpu\_total\_usage/10000000 as cpu\_total\_usage<br />\| timeslice 1m<br />\| max(cpu\_total\_usage) by container\_name,\_timeslice<br />\| sort by \_timeslice <br />// count the number of jiffies per minute from the total count.<br />\| diff \_max by container\_name <br />\| fields -\_max<br />\| transpose row \_timeslice column container\_name <br />|
|Docker|Docker Hosts|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}   <br />\| count\_distinct(\_sourcehost)<br />|
|Docker|Kernel CPU Usage (%) by Container|Logs|Installed Apps/Docker/Docker - CPU Performance|\_sourceCategory={{Logsdatasource}}  cpu <br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json  "cpu\_stats.system\_cpu\_usage","cpu\_stats.cpu\_usage.usage\_in\_kernelmode" as  system\_cpu\_usage,cpu\_kernel\_usage <br />\| (cpu\_kernel\_usage/10000000) as cpu\_kernel\_usage \| (system\_cpu\_usage/10000000) as system\_cpu\_usage<br />// translate raw jiffy counts to CPU usage percentage<br />\| timeslice 1m<br />\| max(cpu\_kernel\_usage) as max\_cpu\_kernel\_usage, max(system\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name,\_timeslice<br />\| sum(max\_cpu\_kernel\_usage) as cpu\_usage, max(max\_sys\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name, \_timeslice<br />\| diff cpu\_usage as diff\_usage by container\_name \| diff max\_sys\_cpu\_usage as diff\_sys\_usage  by container\_name<br />\| where !(isNull(diff\_sys\_usage))<br />\| (diff\_usage\*100/diff\_sys\_usage) as cpu\_pct<br />// beautify the data <br />\| fields cpu\_pct,\_timeslice, container\_name<br />\| transpose row \_timeslice column container\_name \| sort by \_timeslice|
|Docker|Major Fault Total Count by Container|Logs|Installed Apps/Docker/Docker - Memory Performance|\_sourceCategory={{Logsdatasource}}  cpu memory  stats total pgmajfault <br />\| \_sourceName as container\_name<br />\| where container\_name matches "{{container\_name}}"<br />\| json  "memory\_stats.stats.total\_pgmajfault" as total\_pgmajfault nodrop<br />\| max(total\_pgmajfault) as \_max, min(total\_pgmajfault) as \_min by container\_name<br />\| (\_max-\_min) as total\_pgmajfault  <br />\| sort by -total\_pgmajfault<br />\| fields -\_max,\_min <br />|
|Docker|Page Fault Increment per Minute by Container|Logs|Installed Apps/Docker/Docker - Memory Performance|\_sourceCategory={{Logsdatasource}}  cpu memory stats total pgfault <br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json "memory\_stats.stats.total\_pgfault" as total\_pgfault<br />\| timeslice 1m<br />\| max(total\_pgfault) as total\_pgfault by container\_name,\_timeslice <br />\| sort by \_timeslice<br />\| diff total\_pgfault as diff\_total\_pgfault by container\_name <br />\| fields -total\_pgfault <br />\| transpose row \_timeslice column container\_name  \| sort by \_timeslice<br />|
|Docker|Receive Errors by Container|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}   networks<br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "rx\_errors" as recv\_errors<br />\| timeslice 1m<br />\| max(recv\_errors) by container\_name,ni,\_timeslice<br />\| transpose row \_timeslice column container\_name,ni <br />|
|Docker|Received Packets by Container|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}  "cpu\_stats"  <br />\| \_sourceName as container\_name<br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "rx\_packets" as rcv\_packets<br />\| timeslice 1m<br />\| max(rcv\_packets) by container\_name,ni,\_timeslice<br />\| transpose row \_timeslice column container\_name,ni<br />|
|Docker|Received Traffic (MB) by Container|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}  networks <br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "rx\_bytes" as rcv\_bytes <br />\| timeslice 1m<br />\| max(rcv\_bytes) as Recv by container\_name,ni,\_timeslice \| (Recv/(1024\*1024)) as Recv<br />\| transpose row \_timeslice column container\_name,ni<br />|
|Docker|Running Containers Detected|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}  cpu <br />\| \_sourceName as container\_name <br />\| format("%s:%s",\_source,container\_name) as container\_id\_combo<br />\| timeslice 5m <br />\| count\_distinct(container\_id\_combo) by \_timeslice <br /><br />|
|Docker|Send Errors by Container|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}   networks<br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "tx\_errors" as sent\_errors<br />\| timeslice 1m<br />\| max(sent\_errors) by container\_name,ni,\_timeslice<br />\| transpose row \_timeslice column container\_name,ni |
|Docker|Sent Packets by Container|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}  networks <br />\| \_sourceName as container\_name<br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "tx\_packets" as sent\_packets<br />\| timeslice 1m<br />\| max(sent\_packets) by container\_name,ni,\_timeslice<br />\| transpose row \_timeslice column container\_name,ni <br />|
|Docker|Sent Traffic (MB) by Container|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}  "cpu\_stats" <br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "tx\_bytes" as sent\_bytes <br />\| timeslice 1m<br />\| max(sent\_bytes) by container\_name,ni,\_timeslice \|(\_max/(1024\*1024)) as SentMBytes <br />\| fields -\_max<br />\| transpose row \_timeslice column container\_name,ni <br />|
|Docker|Swap Size by Container|Logs|Installed Apps/Docker/Docker - Memory Performance|\_sourceCategory={{Logsdatasource}}  memory stats swap <br />\| \_sourceName as container\_name<br />\| where container\_name matches "{{container\_name}}"<br />\| json  "memory\_stats.stats.swap" as swap nodrop<br />\| timeslice 1m<br />\| max(swap) as swap by container\_name,\_timeslice<br />\| transpose row \_timeslice column container\_name |
|Docker|Throttled Time (Second) by Container|Logs|Installed Apps/Docker/Docker - CPU Performance|\_sourceCategory={{Logsdatasource}}  "cpu\_stats" <br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json "cpu\_stats.throttling\_data.throttled\_time" as  throttled\_time <br />\| (throttled\_time/1000000000) as throttled\_time<br />\| timeslice 1m<br />\| max(throttled\_time) as throttled\_time by container\_name,\_timeslice \| sort by \_timeslice<br />\| diff throttled\_time as diff\_throttled\_time by container\_name <br />\| transpose row \_timeslice column container\_name \| sort by \_timeslice|
|Docker|Top 10 Containers by Avg Resident Memory Consumption (KB)|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}  cpu <br />\| \_sourceName as container\_name <br />\| json "memory\_stats.stats.rss" as rss nodrop<br />\| where !isNull(rss)<br />\| rss/1024 as rss<br />\| avg(rss) as RSS\_Kbytes by container\_name,\_sourceHost<br />\| top 10 container\_name,\_sourceHost by RSS\_Kbytes |
|Docker|Top 10 Containers by CPU Consumption (%)|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}  "cpu\_stats" <br />\| \_sourceName as container\_name<br />\| json "cpu\_stats.system\_cpu\_usage","cpu\_stats.cpu\_usage.usage\_in\_usermode","cpu\_stats.cpu\_usage.usage\_in\_kernelmode" as  system\_cpu\_usage,cpu\_user\_usage,cpu\_kernel\_usage nodrop<br />\| where !(isNull(cpu\_user\_usage)) and !(isNull(cpu\_kernel\_usage))<br />\| (cpu\_user\_usage+cpu\_kernel\_usage) as cpu\_total\_usage<br />\| (cpu\_total\_usage/10000000) as cpu\_total\_usage \| (system\_cpu\_usage/10000000) as system\_cpu\_usage<br />// translate raw jiffy counts to CPU usage percentage<br />\| timeslice 1m<br />\| max(cpu\_total\_usage) as max\_cpu\_total\_usage, max(system\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name,\_sourceHost,\_timeslice<br />\| sort by \_timeslice<br />\| diff max\_cpu\_total\_usage as diff\_usage by container\_name,\_sourceHost \| diff max\_sys\_cpu\_usage as diff\_sys\_usage  by container\_name, \_sourceHost<br />\| where !(isNull(diff\_sys\_usage))<br />\| (diff\_usage\*100/diff\_sys\_usage) as cpu\_pct<br /> //return the top 10 containers per timeslice<br />\| sort by cpu\_pct<br />\| 1 as dummy \| accum dummy as rank by \_timeslice \| where rank \<11 \| sort by \_timeslice<br />// beautify the data <br />\| fields cpu\_pct,\_timeslice, container\_name,\_sourceHost <br />\| transpose row \_timeslice column container\_name,\_sourceHost \| sort by \_timeslice|
|Docker|Top 10 Containers by Traffic Sent and Received (MB)|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}  networks<br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| json field=metrics "tx\_bytes" ,"rx\_bytes"  as sent\_bytes,recv\_bytes <br />\| (sent\_bytes +recv\_bytes) as total\_bytes<br />\| max(total\_bytes) by container\_name,ni \| (\_max/(1024\*1024)) as total\_Mbytes<br />\| top 10 container\_name,ni by total\_Mbytes|
|Docker|Top Containers by RSS Memory (KB) Over Time|Logs|Installed Apps/Docker/Docker - Memory Performance|\_sourceCategory={{Logsdatasource}}  cpu  memory stats rss<br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json "memory\_stats.stats.rss" as rss nodrop \| rss/1024 as rss <br />\| timeslice 1m<br />\| avg(rss) as RSS\_Kbytes by container\_name,\_sourceHost, \_timeslice <br />// get top 10 containers per timeslice<br />\| sort by RSS\_KBytes<br />\| 1 as dummy \| accum dummy as rank by \_timeslice \| where rank \<11 \| fields -dummy,rank  <br />\| transpose row \_timeslice column container\_name, \_sourceHost <br />\| sort by \_timeslice|
|Docker|Total CPU Consumption (%) Over Time by Container|Logs|Installed Apps/Docker/Docker - CPU Performance|\_sourceCategory={{Logsdatasource}}  "cpu\_stats" <br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json "cpu\_stats.system\_cpu\_usage","cpu\_stats.cpu\_usage.usage\_in\_usermode","cpu\_stats.cpu\_usage.usage\_in\_kernelmode" as  system\_cpu\_usage,cpu\_user\_usage,cpu\_kernel\_usage <br />\| (cpu\_user\_usage+cpu\_kernel\_usage) as cpu\_total\_usage<br />\| (cpu\_total\_usage/10000000) as cpu\_total\_usage \| (system\_cpu\_usage/10000000) as system\_cpu\_usage<br />// translate raw jiffy counts to CPU usage percentage<br />\| timeslice 1m<br />\| max(cpu\_total\_usage) as max\_cpu\_total\_usage, max(system\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name,\_timeslice<br />\| sum(max\_cpu\_total\_usage) as cpu\_usage, max(max\_sys\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name, \_timeslice<br />\| diff cpu\_usage as diff\_usage by container\_name \| diff max\_sys\_cpu\_usage as diff\_sys\_usage  by container\_name<br />//\| count by diff\_sys\_usage<br />\| where !(isNull(diff\_sys\_usage))<br />\| (diff\_usage\*100/diff\_sys\_usage) as cpu\_pct<br />// beautify the data <br />\| fields cpu\_pct,\_timeslice, container\_name<br />\| transpose row \_timeslice column container\_name \| sort by \_timeslice|
|Docker|Total Network Error Count|Logs|Installed Apps/Docker/Docker - Network Performance|\_sourceCategory={{Logsdatasource}}  networks<br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| where ni matches "{{network\_interface}}" and container\_name matches "{{container\_name}}"<br />\| json field=metrics "tx\_errors", "rx\_errors" as sent\_errors,recv\_errors<br />\| (sent\_errors+recv\_errors) as total\_errors <br />\| timeslice 1m  \| max(total\_errors) by \_timeslice<br />|
|Docker|Total Network Error Count|Logs|Installed Apps/Docker/Docker - Overview|\_sourceCategory={{Logsdatasource}}  "cpu\_stats" <br />\| \_sourceName as container\_name <br />\| json "networks"<br />\| parse regex field=networks "(?\<ni\>\\w+)\\":(?\<metrics\>\\{[^\\}]\*?\\}),?" multi<br />\| json field=metrics "tx\_errors", "rx\_errors" as sent\_errors,recv\_errors<br />\| (sent\_errors+recv\_errors) as total\_errors <br />\| timeslice 1m  <br />\| max(total\_errors) by \_timeslice<br />|
|Docker|Total Page Fault Increment|Logs|Installed Apps/Docker/Docker - Memory Performance|\_sourceCategory={{Logsdatasource}}  cpu memory stats total pgfault <br />\| \_sourceName as container\_name<br />\| where container\_name matches "{{container\_name}}"<br />\| json "memory\_stats.stats.total\_pgfault" as total\_pgfault nodrop<br />\| max(total\_pgfault) as \_max, min(total\_pgfault) as \_min by container\_name<br />// now compute the number of total page fault within the query window<br />\| (\_max-\_min) as total\_pgfault  \| fields -\_max,\_min \| sort by total\_pgfault|
|Docker|Unevictable Memory Increment by Container|Logs|Installed Apps/Docker/Docker - Memory Performance|\_sourceCategory={{Logsdatasource}}  memory  stats total unevictable <br />\| \_sourceName as container\_name<br />\| where container\_name matches "{{container\_name}}"<br />\| json "memory\_stats.stats.total\_unevictable" as total\_unevictable <br />\| max(total\_unevictable) as \_max, min(total\_unevictable) as \_min by container\_name<br />// compute the total\_unevictable increment within the query window<br />\| (\_max-\_min) as total\_unevictable \| sort by total\_unevictable<br />\| fields -\_max,\_min <br />|
|Docker|User CPU Usage (%) by Container|Logs|Installed Apps/Docker/Docker - CPU Performance|\_sourceCategory={{Logsdatasource}}  cpu <br />\| \_sourceName as container\_name <br />\| where container\_name matches "{{container\_name}}"<br />\| json "cpu\_stats.system\_cpu\_usage","cpu\_stats.cpu\_usage.usage\_in\_usermode" as  system\_cpu\_usage,cpu\_user\_usage <br />\| (cpu\_user\_usage/10000000) as cpu\_user\_usage \| (system\_cpu\_usage/10000000) as system\_cpu\_usage<br />// translate raw jiffy counts to CPU usage percentage<br />\| timeslice 1m<br />\| max(cpu\_user\_usage) as max\_cpu\_user\_usage, max(system\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name,\_timeslice<br />\| sum(max\_cpu\_user\_usage) as cpu\_usage, max(max\_sys\_cpu\_usage) as max\_sys\_cpu\_usage by container\_name, \_timeslice<br />\| diff cpu\_usage as diff\_usage by container\_name \| diff max\_sys\_cpu\_usage as diff\_sys\_usage  by container\_name<br />\| where !(isNull(diff\_sys\_usage))<br />\| (diff\_usage\*100/diff\_sys\_usage) as cpu\_pct<br />// beautify the data <br />\| fields cpu\_pct,\_timeslice, container\_name<br />\| transpose row \_timeslice column container\_name \| sort by \_timeslice|

