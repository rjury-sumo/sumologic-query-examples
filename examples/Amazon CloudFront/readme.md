# Amazon CloudFront
## Sumo Logic App For: Amazon CloudFront
Amazon CloudFront is a content delivery network (CDN) that allows easy way for companies to distribute content to end-users with low latency and high data transfer speeds. The Sumo Logic Application for CloudFront provides analytics on visitor information, rates and statistics, content being served, and other metrics.
Docs Link: [Amazon CloudFront](https://help.sumologic.com/?cid=5067)

## Searches

### Log Searches

- **90th 95th 99th Pct Time_taken Trend**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **90th 95th 99th Pct Time_taken Trend**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Average Latency Time by CloudFront Edge**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Average Latency Time by CloudFront Edge**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Average Latency Time in Seconds  by Region**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Average Latency Time in Seconds  by Region**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Cache Hit and Miss**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview 
- **Cache Hit and Miss**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Overview 
- **Cache Hit and Miss Over Time**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Cache Hit and Miss Over Time**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Client and Server Errors Over Time**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Client and Server Errors Over Time**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Client Geo Distribution**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Client Geo Distribution**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Overview 
- **Client Geo Distribution**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Client Geo Distribution**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview 
- **Edge Result**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Edge Result**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Global Latency Time in Seconds**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Global Latency Time in Seconds**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **HTTP Response Classes**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Web Operations 
- **HTTP Response Classes**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations 
- **HTTP Status Codes Over Time**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview 
- **HTTP Status Codes Over Time**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations 
- **HTTP Status Codes Over Time**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Web Operations 
- **HTTP Status Codes Over Time**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Overview 
- **Longest Latency by GeoLocation**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Longest Latency by GeoLocation**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Number of Unique Visitors**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview 
- **Number of Unique Visitors**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Overview 
- **Outlier - Average Latency Time**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Outlier - Average Latency Time**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Outlier - Average Latency Time by Edge Location**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Outlier - Average Latency Time by Edge Location**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Latency Monitoring 
- **Requests Served by Edge Location**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Requests Served by Edge Location**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Overview 
- **Requests Served by Edge Location**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Requests Served by Edge Location**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview 
- **Traffic and Megabytes Served**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Traffic and Megabytes Served**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Web Operations 
- **Unique Visitors Over Time**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Unique Visitors Over Time**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Visitor Access Platforms**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview 
- **Visitor Access Platforms**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Overview 
- **Visitor Access Platforms**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Visitor Access Platforms**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Visitor Browsers and Devices**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Visitor Browsers and Devices**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Visitor Session Duration Distribution Histogram**: from Dashboard: Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics 
- **Visitor Session Duration Distribution Histogram**: from Dashboard: Amazon CloudFront/Amazon CloudFront - Visitor Statistics

### Metric Searches


## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Amazon CloudFront|90th 95th 99th Pct Time\_taken Trend|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 5m<br />\| fillmissing timeslice(5m)<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|pct(time\_taken, 90, 95, 99) by \_timeslice|
|Amazon CloudFront|90th 95th 99th Pct Time\_taken Trend|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 5m<br />\| fillmissing timeslice(5m)<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|pct(time\_taken, 90, 95, 99) by \_timeslice|
|Amazon CloudFront|Average Latency Time by CloudFront Edge|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 5m<br />\| fillmissing timeslice(5m)<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice, edgeloc<br />\| transpose row \_timeslice column edgeloc|
|Amazon CloudFront|Average Latency Time by CloudFront Edge|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 5m<br />\| fillmissing timeslice(5m)<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice, edgeloc<br />\| transpose row \_timeslice column edgeloc|
|Amazon CloudFront|Average Latency Time in Seconds  by Region|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| if ( edgeloc matches "\*IAD\*" or edgeloc matches "\*DFW\*" or edgeloc matches "\*JAX\*" or edgeloc matches "\*LAX\*" or edgeloc matches "\*MIA\*" or edgeloc matches "\*JFK\*" or edgeloc matches "\*EWR\*" or edgeloc matches "\*SFO\*" or edgeloc matches "\*SEA\*" or edgeloc matches "\*IND\*" or edgeloc matches "\*STL\*" or edgeloc matches "\*ATL\*" or edgeloc matches "\*ORD\*", "USA", "") as region<br />\| if ( edgeloc matches "\*AMS\*" or edgeloc matches "\*DUB\*" or edgeloc matches "\*FRA\*" or edgeloc matches "\*LHR\*" or edgeloc matches "\*MXP\*" or edgeloc matches "\*CDG\*" or edgeloc matches "\*ARN\*" or  edgeloc matches "\*MUC\*", "EUROPE", region) as region<br />\| if ( edgeloc matches "\*HGK\*" or edgeloc matches "\*NRT\*" or edgeloc matches "\*SIN\*", "Asia", region) as region<br />\| if ( edgeloc matches "\*GRU\*", "South America", region) as region<br />\| if (region == "","Other",region) as region<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by region|
|Amazon CloudFront|Average Latency Time in Seconds  by Region|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| if ( edgeloc matches "\*IAD\*" or edgeloc matches "\*DFW\*" or edgeloc matches "\*JAX\*" or edgeloc matches "\*LAX\*" or edgeloc matches "\*MIA\*" or edgeloc matches "\*JFK\*" or edgeloc matches "\*EWR\*" or edgeloc matches "\*SFO\*" or edgeloc matches "\*SEA\*" or edgeloc matches "\*IND\*" or edgeloc matches "\*STL\*" or edgeloc matches "\*ATL\*" or edgeloc matches "\*ORD\*", "USA", "") as region<br />\| if ( edgeloc matches "\*AMS\*" or edgeloc matches "\*DUB\*" or edgeloc matches "\*FRA\*" or edgeloc matches "\*LHR\*" or edgeloc matches "\*MXP\*" or edgeloc matches "\*CDG\*" or edgeloc matches "\*ARN\*" or  edgeloc matches "\*MUC\*", "EUROPE", region) as region<br />\| if ( edgeloc matches "\*HGK\*" or edgeloc matches "\*NRT\*" or edgeloc matches "\*SIN\*", "Asia", region) as region<br />\| if ( edgeloc matches "\*GRU\*", "South America", region) as region<br />\| if (region == "","Other",region) as region<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by region|
|Amazon CloudFront|Cache Hit and Miss|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  ("hit" or "miss" or "RefreshHit")<br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeresult|
|Amazon CloudFront|Cache Hit and Miss|Logs|Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  ("hit" or "miss" or "RefreshHit")<br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeresult|
|Amazon CloudFront|Cache Hit and Miss Over Time|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  ("hit" or "miss" or "RefreshHit")<br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeresult,\_timeslice<br />\| transpose row \_timeslice column edgeresult|
|Amazon CloudFront|Cache Hit and Miss Over Time|Logs|Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  ("hit" or "miss" or "RefreshHit")<br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeresult,\_timeslice<br />\| transpose row \_timeslice column edgeresult|
|Amazon CloudFront|Client and Server Errors Over Time|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice by 5m \| where status matches "4\*" or status matches "5\*"<br />\| if(status matches "5\*", "server\_error", if(status matches "4\*", "client\_error", "other\_error")) as type <br />\| timeslice by 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by type, \_timeslice \| transpose row \_timeslice column type|
|Amazon CloudFront|Client and Server Errors Over Time|Logs|Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice by 5m \| where status matches "4\*" or status matches "5\*"<br />\| if(status matches "5\*", "server\_error", if(status matches "4\*", "client\_error", "other\_error")) as type <br />\| timeslice by 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by type, \_timeslice \| transpose row \_timeslice column type|
|Amazon CloudFront|Client Geo Distribution|Logs|Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| lookup   country\_name, city from geo://location on ip = c\_ip<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by   city,country\_name|
|Amazon CloudFront|Client Geo Distribution|Logs|Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}} <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = c\_ip<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code|
|Amazon CloudFront|Client Geo Distribution|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| lookup   country\_name, city from geo://location on ip = c\_ip<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by   city,country\_name|
|Amazon CloudFront|Client Geo Distribution|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}} <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = c\_ip<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code|
|Amazon CloudFront|Edge Result|Logs|Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeresult \| sort by \_count|
|Amazon CloudFront|Edge Result|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeresult \| sort by \_count|
|Amazon CloudFront|Global Latency Time in Seconds|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 1h<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice|
|Amazon CloudFront|Global Latency Time in Seconds|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 1h<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice|
|Amazon CloudFront|HTTP Response Classes|Logs|Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status\_code,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| if(status\_code matches "2\*", 1, 0) as successes \| if(status\_code matches "3\*", 1, 0) as redirects \| if(status\_code matches "4\*", 1, 0) as client\_errors \| if(status\_code matches "5\*", 1, 0) as server\_errors \| timeslice by 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|sum(successes) as successes, sum(client\_errors) as client\_errors,  sum(redirects) as redirects, sum(server\_errors) as server\_errors by \_timeslice<br />\| fillmissing timeslice(5m) <br />\| sort by \_timeslice asc|
|Amazon CloudFront|HTTP Response Classes|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status\_code,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| if(status\_code matches "2\*", 1, 0) as successes \| if(status\_code matches "3\*", 1, 0) as redirects \| if(status\_code matches "4\*", 1, 0) as client\_errors \| if(status\_code matches "5\*", 1, 0) as server\_errors \| timeslice by 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|sum(successes) as successes, sum(client\_errors) as client\_errors,  sum(redirects) as redirects, sum(server\_errors) as server\_errors by \_timeslice<br />\| fillmissing timeslice(5m) <br />\| sort by \_timeslice asc|
|Amazon CloudFront|HTTP Status Codes Over Time|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count as count by status<br />\| sort by count|
|Amazon CloudFront|HTTP Status Codes Over Time|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice by 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by status, \_timeslice <br />\| transpose row \_timeslice column status<br />\| fillmissing timeslice(5m)|
|Amazon CloudFront|HTTP Status Codes Over Time|Logs|Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice by 5m<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by status, \_timeslice <br />\| transpose row \_timeslice column status<br />\| fillmissing timeslice(5m)|
|Amazon CloudFront|HTTP Status Codes Over Time|Logs|Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count as count by status<br />\| sort by count|
|Amazon CloudFront|Longest Latency by GeoLocation|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = c\_ip<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code, time\_taken<br />\| sort by time\_taken<br />\| limit 100|
|Amazon CloudFront|Longest Latency by GeoLocation|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| lookup latitude, longitude, country\_code, country\_name, region, city, postal\_code from geo://location on ip = c\_ip<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by latitude, longitude, country\_code, country\_name, region, city, postal\_code, time\_taken<br />\| sort by time\_taken<br />\| limit 100|
|Amazon CloudFront|Number of Unique Visitors|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count\_distinct(c\_ip) as UniqueVisitors|
|Amazon CloudFront|Number of Unique Visitors|Logs|Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count\_distinct(c\_ip) as UniqueVisitors|
|Amazon CloudFront|Outlier - Average Latency Time|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 5m<br />\| fillmissing timeslice(5m)<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice<br />\| outlier avg\_time\_taken threshold=5, window=12, direction=+|
|Amazon CloudFront|Outlier - Average Latency Time|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 5m<br />\| fillmissing timeslice(5m)<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice<br />\| outlier avg\_time\_taken threshold=5, window=12, direction=+|
|Amazon CloudFront|Outlier - Average Latency Time by Edge Location|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 1h<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice, edgeloc<br />\| outlier avg\_time\_taken by edgeloc  threshold=5, window=12 , direction =+<br />\| where avg\_time\_taken\_violation = 1|
|Amazon CloudFront|Outlier - Average Latency Time by Edge Location|Logs|Amazon CloudFront/Amazon CloudFront - Latency Monitoring|\_sourceCategory={{AccessLogsdatasource}}   <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\| parse regex field = requestid "(?\<time\_taken\>\\d{1,3}\\.\\d\\d\\d)\\t"<br />\| timeslice 1h<br />\|where cs\_host matches "{{cs\_host}}" AND user\_agent matches "{{user\_agent}}" AND time\_taken matches "{{time\_taken}}" AND edgeresult matches "{{edgeresult}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|avg(time\_taken) as avg\_time\_taken by \_timeslice, edgeloc<br />\| outlier avg\_time\_taken by edgeloc  threshold=5, window=12 , direction =+<br />\| where avg\_time\_taken\_violation = 1|
|Amazon CloudFront|Requests Served by Edge Location|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeloc<br />\| sort by \_count|
|Amazon CloudFront|Requests Served by Edge Location|Logs|Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeloc<br />\| sort by \_count|
|Amazon CloudFront|Requests Served by Edge Location|Logs|Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeloc<br />\| sort by \_count|
|Amazon CloudFront|Requests Served by Edge Location|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count by edgeloc<br />\| sort by \_count|
|Amazon CloudFront|Traffic and Megabytes Served|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice by 1h<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count as hits, sum(scbytes) as sum\_bytes\_served by \_timeslice<br />\| sum\_bytes\_served/(1048576) as mb\_served \| round(mb\_served)<br />\| fields - sum\_bytes\_served|
|Amazon CloudFront|Traffic and Megabytes Served|Logs|Amazon CloudFront/Amazon CloudFront - Web Operations|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice by 1h<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND status matches "{{status}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count as hits, sum(scbytes) as sum\_bytes\_served by \_timeslice<br />\| sum\_bytes\_served/(1048576) as mb\_served \| round(mb\_served)<br />\| fields - sum\_bytes\_served|
|Amazon CloudFront|Unique Visitors Over Time|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice 5m<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count\_distinct(c\_ip) as UniqueVisitors by \_timeslice, \_sourcecategory<br />\| transpose row \_timeslice column \_sourcecategory|
|Amazon CloudFront|Unique Visitors Over Time|Logs|Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| timeslice 5m<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count\_distinct(c\_ip) as UniqueVisitors by \_timeslice, \_sourcecategory<br />\| transpose row \_timeslice column \_sourcecategory|
|Amazon CloudFront|Visitor Access Platforms|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| urldecode(user\_agent) as agent<br />\| if (agent matches "\*iPad\*" OR agent matches "\*iPhone\*" OR agent matches "\*BlackBerry\*" OR agent matches "\*Galaxy\*" OR agent matches "LGE-\*" OR agent matches "SCH-\*" OR agent matches "\*HUAWEI-\*" OR agent matches "\*SAMSUNG\*" OR agent matches "\*samsung\*" OR agent matches "Dalvik/\*" OR agent matches "Nokia\*" OR agent matches "LG-\*" OR agent matches "\*CFNetwork\*"  OR agent matches "\*UP.Browser/\*" OR agent matches "\*QQ\*rowser\*" OR agent matches "\*NetFront/\*" OR agent matches "\*Windows Phone\*" OR agent matches "\*iemobile\*","mobile","") as type<br />\| if (agent matches "\*Windows NT\*" OR agent matches "\*i686\*" OR agent matches "\*x86\*","PC",type) as type<br />\| if (agent matches "\*Macintosh\*","Mac",type) as type<br />\| if (type = "","unknown",type) as type<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count type|
|Amazon CloudFront|Visitor Access Platforms|Logs|Amazon CloudFront/Amazon CloudFront - Overview|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| urldecode(user\_agent) as agent<br />\| if (agent matches "\*iPad\*" OR agent matches "\*iPhone\*" OR agent matches "\*BlackBerry\*" OR agent matches "\*Galaxy\*" OR agent matches "LGE-\*" OR agent matches "SCH-\*" OR agent matches "\*HUAWEI-\*" OR agent matches "\*SAMSUNG\*" OR agent matches "\*samsung\*" OR agent matches "Dalvik/\*" OR agent matches "Nokia\*" OR agent matches "LG-\*" OR agent matches "\*CFNetwork\*"  OR agent matches "\*UP.Browser/\*" OR agent matches "\*QQ\*rowser\*" OR agent matches "\*NetFront/\*" OR agent matches "\*Windows Phone\*" OR agent matches "\*iemobile\*","mobile","") as type<br />\| if (agent matches "\*Windows NT\*" OR agent matches "\*i686\*" OR agent matches "\*x86\*","PC",type) as type<br />\| if (agent matches "\*Macintosh\*","Mac",type) as type<br />\| if (type = "","unknown",type) as type<br />\|where cs\_host matches "{{cs\_host}}" AND method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count type|
|Amazon CloudFront|Visitor Access Platforms|Logs|Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| urldecode(user\_agent) as agent<br />\| if (agent matches "\*iPad\*" OR agent matches "\*iPhone\*" OR agent matches "\*BlackBerry\*" OR agent matches "\*Galaxy\*" OR agent matches "LGE-\*" OR agent matches "SCH-\*" OR agent matches "\*HUAWEI-\*" OR agent matches "\*SAMSUNG\*" OR agent matches "\*samsung\*" OR agent matches "Dalvik/\*" OR agent matches "Nokia\*" OR agent matches "LG-\*" OR agent matches "\*CFNetwork\*"  OR agent matches "\*UP.Browser/\*" OR agent matches "\*QQ\*rowser\*" OR agent matches "\*NetFront/\*" OR agent matches "\*Windows Phone\*" OR agent matches "\*iemobile\*","mobile","") as type<br />\| if (agent matches "\*Windows NT\*" OR agent matches "\*i686\*" OR agent matches "\*x86\*","PC",type) as type<br />\| if (agent matches "\*Macintosh\*","Mac",type) as type<br />\| if (type = "","unknown",type) as type<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count type|
|Amazon CloudFront|Visitor Access Platforms|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}}  <br />\| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| urldecode(user\_agent) as agent<br />\| if (agent matches "\*iPad\*" OR agent matches "\*iPhone\*" OR agent matches "\*BlackBerry\*" OR agent matches "\*Galaxy\*" OR agent matches "LGE-\*" OR agent matches "SCH-\*" OR agent matches "\*HUAWEI-\*" OR agent matches "\*SAMSUNG\*" OR agent matches "\*samsung\*" OR agent matches "Dalvik/\*" OR agent matches "Nokia\*" OR agent matches "LG-\*" OR agent matches "\*CFNetwork\*"  OR agent matches "\*UP.Browser/\*" OR agent matches "\*QQ\*rowser\*" OR agent matches "\*NetFront/\*" OR agent matches "\*Windows Phone\*" OR agent matches "\*iemobile\*","mobile","") as type<br />\| if (agent matches "\*Windows NT\*" OR agent matches "\*i686\*" OR agent matches "\*x86\*","PC",type) as type<br />\| if (agent matches "\*Macintosh\*","Mac",type) as type<br />\| if (type = "","unknown",type) as type<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count type|
|Amazon CloudFront|Visitor Browsers and Devices|Logs|Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| urldecode(user\_agent) as agent<br />\| if (agent matches "\*Windows NT\*","Windows","") as OS \|<br />if (agent matches "\*Macintosh\*","MacOS","") as OS \|<br />if (agent matches "\*iPad\*","iPad","") as OS \|<br />if (agent matches "\*iPhone\*","iPhone","") as OS \|<br />if (agent matches "\*Android\*","Android","") as OS \|<br />if (OS == "","Other","") as OS \|<br />if (agent matches "\*MSIE\*","Internet Explorer","") as Browser \|<br />if (agent matches "\*Firefox\*","Firefox","") as Browser \|<br />if (agent matches "\*Safari\*","Safari","") as Browser \| <br />if (agent matches "\*Chrome\*","Chrome","") as Browser \|<br />if (Browser == "","Other","") as Browser<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count(agent) by OS,Browser <br />\| transpose row os column browser as \*|
|Amazon CloudFront|Visitor Browsers and Devices|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,time,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| urldecode(user\_agent) as agent<br />\| if (agent matches "\*Windows NT\*","Windows","") as OS \|<br />if (agent matches "\*Macintosh\*","MacOS","") as OS \|<br />if (agent matches "\*iPad\*","iPad","") as OS \|<br />if (agent matches "\*iPhone\*","iPhone","") as OS \|<br />if (agent matches "\*Android\*","Android","") as OS \|<br />if (OS == "","Other","") as OS \|<br />if (agent matches "\*MSIE\*","Internet Explorer","") as Browser \|<br />if (agent matches "\*Firefox\*","Firefox","") as Browser \|<br />if (agent matches "\*Safari\*","Safari","") as Browser \| <br />if (agent matches "\*Chrome\*","Chrome","") as Browser \|<br />if (Browser == "","Other","") as Browser<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|count(agent) by OS,Browser <br />\| transpose row os column browser as \*|
|Amazon CloudFront|Visitor Session Duration Distribution Histogram|Logs|Installed Apps/Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| \_messagetime as mt<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|min(mt) as start, max(mt) as stop by c\_ip<br />\| (stop - start)/60000 as durationInMin<br />\| (ceil(durationInMin/5))\*5 as bucketSize<br />\| count by c\_ip,bucketSize \| count by bucketSize \| sort by +bucketSize|
|Amazon CloudFront|Visitor Session Duration Distribution Histogram|Logs|Amazon CloudFront/Amazon CloudFront - Visitor Statistics|\_sourceCategory={{AccessLogsdatasource}} \| parse "\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*\\t\*" as \_filedate,\_ftime,edgeloc, scbytes, c\_ip,method,cs\_host,uri\_stem,status,referer,user\_agent,uri\_query,cookie,edgeresult,requestid <br />\| \_messagetime as mt<br />\|where method matches "{{method}}" AND user\_agent matches "{{user\_agent}}" AND edgeresult matches "{{edgeresult}}" AND uri\_query matches "{{uri\_query}}" AND edgeloc matches "{{edgeloc}}" AND c\_ip matches "{{c\_ip}}"<br />\|min(mt) as start, max(mt) as stop by c\_ip<br />\| (stop - start)/60000 as durationInMin<br />\| (ceil(durationInMin/5))\*5 as bucketSize<br />\| count by c\_ip,bucketSize \| count by bucketSize \| sort by +bucketSize|

