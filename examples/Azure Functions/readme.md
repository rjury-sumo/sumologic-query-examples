# Azure Functions

## Searches

### Log Searches

- **Distribution  by Operation Type (Read, Write and Delete)**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Administrative Operations 
- **Distribution  by Operation Type (Read, Write and Delete)**: from Dashboard: Azure Functions/Azure Functions - Administrative Operations 
- **Distribution by Operations**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Administrative Operations 
- **Distribution by Operations**: from Dashboard: Azure Functions/Azure Functions - Administrative Operations 
- **Events by Recommendation Category**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Events by Recommendation Category**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Failed Policy Events**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Failed Policy Events**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Functions by Error Details**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Functions by Error Details**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Functions by Errors**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Functions by Errors**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **High Impact Recommendations**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **High Impact Recommendations**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Policy Events by Severity Level**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Policy Events by Severity Level**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Policy Events With Warning or Error**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Policy Events With Warning or Error**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Delete Operations**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Administrative Operations 
- **Recent Delete Operations**: from Dashboard: Azure Functions/Azure Functions - Administrative Operations 
- **Recent Failed Policy Events**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Failed Policy Events**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Policy Events With Warning or Error**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Policy Events With Warning or Error**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Recommendation Events**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Recommendation Events**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Recent Resource Health Incidents**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Health 
- **Recent Resource Health Incidents**: from Dashboard: Azure Functions/Azure Functions - Health 
- **Recent Service Health Incidents**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Health 
- **Recent Service Health Incidents**: from Dashboard: Azure Functions/Azure Functions - Health 
- **Recent Write Operations**: from Dashboard: Azure Functions/Azure Functions - Administrative Operations 
- **Recent Write Operations**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Administrative Operations 
- **Recommendations by Impact**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Recommendations by Impact**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Resource Health by  Status**: from Dashboard: Azure Functions/Azure Functions - Health 
- **Resource Health by  Status**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Health 
- **Service Health by Incident Type**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Health 
- **Service Health by Incident Type**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Health 
- **Service Health by Incident Type**: from Dashboard: Azure Functions/Azure Functions - Health 
- **Service Health by Incident Type**: from Dashboard: Azure Functions/Azure Functions - Health 
- **Top 10 operations that caused the most errors**: from Dashboard: Azure Functions/Azure Functions - Administrative Operations 
- **Top 10 operations that caused the most errors**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Administrative Operations 
- **Total Recommendations**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations 
- **Total Recommendations**: from Dashboard: Azure Functions/Azure Functions - Policy and Recommendations 
- **Users / Applications by Operation type**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Administrative Operations 
- **Users / Applications by Operation type**: from Dashboard: Azure Functions/Azure Functions - Administrative Operations 
- **Write and Delete Operations**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Write and Delete Operations**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview

### Metric Searches

- **Average Memory Working Set**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Average Memory Working Set**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Azure Functions**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Azure Functions**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Current Assemblies**: from Dashboard: Azure Functions/Azure Functions - OS Statistics 
- **Current Assemblies**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - OS Statistics 
- **Current Assemblies**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - OS Statistics 
- **Current Assemblies**: from Dashboard: Azure Functions/Azure Functions - OS Statistics 
- **Data In**: from Dashboard: Azure Functions/Azure Functions - Network 
- **Data In**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Data In**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Data In**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Network 
- **Data Out**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Network 
- **Data Out**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Data Out**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Data Out**: from Dashboard: Azure Functions/Azure Functions - Network 
- **Error by Function App**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Error by Function App**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Error Percentage**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Error Percentage**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Errors**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Errors**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Errors Trend - Today vs Yesterday**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Errors Trend - Today vs Yesterday**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Function App Statistics**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Function App Statistics**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Function App Statistics**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Function App Statistics**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Function Execution Count**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Function Execution Count**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Function Execution Units**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Function Execution Units**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Function Execution Units**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Function Execution Units**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Functions App Operations Statistics**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **Functions App Operations Statistics**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **Functions Executions**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Functions Executions**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Gen0 Garbage Collections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Gen0 Garbage Collections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Gen0 Garbage Collections**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Gen0 Garbage Collections**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Gen1 Garbage Collections**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Gen1 Garbage Collections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Gen1 Garbage Collections**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Gen1 Garbage Collections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Gen2 Garbage Collections**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Gen2 Garbage Collections**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Gen2 Garbage Collections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Gen2 Garbage Collections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Handles**: from Dashboard: Azure Functions/Azure Functions - OS Statistics 
- **Handles**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - OS Statistics 
- **Handles**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - OS Statistics 
- **Handles**: from Dashboard: Azure Functions/Azure Functions - OS Statistics 
- **Health Check Status**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Health 
- **Health Check Status**: from Dashboard: Azure Functions/Azure Functions - Health 
- **Http 2xx**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Http 2xx**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Http 3xx**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Http 3xx**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Http 4xx**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Http 4xx**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Http 5xx**: from Dashboard: Azure Functions/Azure Functions - Error 
- **Http 5xx**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Error 
- **Http Response Time**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Http Response Time**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Instance Count**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Instance Count**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Instance Count**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Instance Count**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **IO Other Bytes/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **IO Other Bytes/ Second**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **IO Other Operations/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **IO Other Operations/ Second**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **IO Read Bytes/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **IO Read Bytes/ Second**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **IO Read Operations/ Second**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **IO Read Operations/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **IO Write Bytes/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **IO Write Bytes/ Second**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **IO Write Operations/ Second**: from Dashboard: Azure Functions/Azure Functions - Operations 
- **IO Write Operations/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Operations 
- **Maximum App  Connections**: from Dashboard: Azure Functions/Azure Functions - Network 
- **Maximum App  Connections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Network 
- **Memory Working Set**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Memory Working Set**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Private Bytes in MB**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Private Bytes in MB**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Requests**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Requests**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Threads**: from Dashboard: Azure Functions/Azure Functions - OS Statistics 
- **Threads**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - OS Statistics 
- **Threads**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - OS Statistics 
- **Threads**: from Dashboard: Azure Functions/Azure Functions - Performance 
- **Threads**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Performance 
- **Threads**: from Dashboard: Azure Functions/Azure Functions - OS Statistics 
- **Top 10 Functions - Data In**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Network 
- **Top 10 Functions - Data In**: from Dashboard: Azure Functions/Azure Functions - Network 
- **Top 10 Functions - Data Out**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Network 
- **Top 10 Functions - Data Out**: from Dashboard: Azure Functions/Azure Functions - Network 
- **Top 10 Functions - IO Read Bytes/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Top 10 Functions - IO Read Bytes/ Second**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Top 10 Functions - IO Write Bytes/ Second**: from Dashboard: Azure Functions/Azure Functions - Overview 
- **Top 10 Functions - IO Write Bytes/ Second**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Overview 
- **Top 10 Functions - Maximum Connections**: from Dashboard: Azure Functions/Azure Functions - Network 
- **Top 10 Functions - Maximum Connections**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Network 
- **Top 10 Functions by Function Execution Units**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Top 10 Functions by Function Execution Units**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Top 10 Functions by Max Private Bytes [MB]**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Top 10 Functions by Max Private Bytes [MB]**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Top 10 Functions by Max Working Set Memory [MB]**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Memory 
- **Top 10 Functions by Max Working Set Memory [MB]**: from Dashboard: Azure Functions/Azure Functions - Memory 
- **Top 10 Functions Executions**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Top 10 Functions Executions**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Total Executions**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Total Executions**: from Dashboard: Azure Functions/Azure Functions - Cost 
- **Weekly Forecast of Function Execution Units**: from Dashboard: Installed Apps/Azure Functions/Azure Functions - Cost 
- **Weekly Forecast of Function Execution Units**: from Dashboard: Azure Functions/Azure Functions - Cost

## Search Table

|app\_topic|search\_name|type|origin|search|
|:--|:--|:--|:--|:--|
|Azure Functions|Average Memory Working Set|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=MemoryWorkingSet statistic=average \| sum by resource\_name|
|Azure Functions|Average Memory Working Set|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=MemoryWorkingSet statistic=average |
|Azure Functions|Azure Functions|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| count by resource\_name \| count|
|Azure Functions|Azure Functions|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| count by resource\_name \| count|
|Azure Functions|Current Assemblies|Metrics|Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=CurrentAssemblies statistic=average|
|Azure Functions|Current Assemblies|Metrics|Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=CurrentAssemblies statistic=average  \| avg|
|Azure Functions|Current Assemblies|Metrics|Installed Apps/Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=CurrentAssemblies statistic=average \| sum by resource\_name|
|Azure Functions|Current Assemblies|Metrics|Installed Apps/Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=CurrentAssemblies statistic=average  \| avg|
|Azure Functions|Data In|Metrics|Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesReceived statistic=total \| quantize using sum|
|Azure Functions|Data In|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesReceived statistic=total \| quantize using sum \| sum by resource\_name|
|Azure Functions|Data In|Metrics|Installed Apps/Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesReceived statistic=total \| quantize using sum \| sum by resource\_name|
|Azure Functions|Data In|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesReceived statistic=total \| quantize using sum|
|Azure Functions|Data Out|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesSent statistic=total  \| quantize using sum \| sum by resource\_name|
|Azure Functions|Data Out|Metrics|Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesSent statistic=total  \| quantize using sum|
|Azure Functions|Data Out|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesSent statistic=total  \| quantize using sum|
|Azure Functions|Data Out|Metrics|Installed Apps/Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesSent statistic=total  \| quantize using sum \| sum by resource\_name|
|Azure Functions|Distribution  by Operation Type (Read, Write and Delete)|Logs|Installed Apps/Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}} <br /> provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category", "operationName", "resourceId" as resultType, category, operationName, resourceid<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative"<br />\| "OTHERS" as operationType<br />\| if (toUppercase(operationName) matches /WRITE/, "WRITE", operationType) as operationType <br />\| if (toUppercase(operationName) matches /READ/, "READ", operationType) as operationType <br />\| if (toUppercase(operationName) matches /DELETE/, "DELETE", operationType) as operationType <br />\| count by operationType<br />\| sort by \_count|
|Azure Functions|Distribution  by Operation Type (Read, Write and Delete)|Logs|Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}} <br /> provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category", "operationName", "resourceId" as resultType, category, operationName, resourceid<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative"<br />\| "OTHERS" as operationType<br />\| if (toUppercase(operationName) matches /WRITE/, "WRITE", operationType) as operationType <br />\| if (toUppercase(operationName) matches /READ/, "READ", operationType) as operationType <br />\| if (toUppercase(operationName) matches /DELETE/, "DELETE", operationType) as operationType <br />\| count by operationType<br />\| sort by \_count|
|Azure Functions|Distribution by Operations|Logs|Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category", "operationName", "resourceId" as resultType, category, operationName, resourceid<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative" <br />\| count by operationName<br />\| order by \_count|
|Azure Functions|Distribution by Operations|Logs|Installed Apps/Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| json "resultType", "category", "operationName", "resourceId" as resultType, category, operationName, resourceid<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative" <br />\| count by operationName<br />\| order by \_count|
|Azure Functions|Error by Function App|Metrics|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (metric=Http4xx or metric=Http5xx) statistic=total  \| quantize using sum|
|Azure Functions|Error by Function App|Metrics|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (metric=Http4xx or metric=Http5xx) statistic=total  \| quantize using sum \| sum by resource\_name|
|Azure Functions|Error Percentage|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (metric=Http4xx or metric=Http5xx) statistic=total \| quantize using sum|
|Azure Functions|Error Percentage|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (metric=Http4xx or metric=Http5xx) statistic=total \| quantize using sum \| sum by resource\_name|
|Azure Functions|Errors|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  (metric=Http5xx or metric=Http401 or metric=Http403 or metric=Http404 or metric=Http406) statistic=total  \| quantize using sum \| sum by metric, resource\_group, resource\_name|
|Azure Functions|Errors|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  (metric=Http5xx or metric=Http401 or metric=Http403 or metric=Http404 or metric=Http406) statistic=total  \| quantize using sum \| sum by metric, resource\_group, resource\_name|
|Azure Functions|Errors Trend - Today vs Yesterday|Metrics|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (metric=Http4xx or metric=Http5xx) statistic=total \| quantize using sum \| sum \| timeshift 1d|
|Azure Functions|Errors Trend - Today vs Yesterday|Metrics|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (metric=Http4xx or metric=Http5xx) statistic=total \| quantize using sum \| sum \| timeshift 1d|
|Azure Functions|Events by Recommendation Category|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" <br />\| count by recommendationCategory<br />\| sort by \_count|
|Azure Functions|Events by Recommendation Category|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" <br />\| count by recommendationCategory<br />\| sort by \_count|
|Azure Functions|Failed Policy Events|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.resourceLocation", "properties.entity" as category, resultType, level, location, entity nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Failure"<br />\| count |
|Azure Functions|Failed Policy Events|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.resourceLocation", "properties.entity" as category, resultType, level, location, entity nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Failure"<br />\| count |
|Azure Functions|Function App Statistics|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| sum by resource\_name|
|Azure Functions|Function App Statistics|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| sum by resource\_name|
|Azure Functions|Function App Statistics|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| sum by resource\_name|
|Azure Functions|Function App Statistics|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| sum by resource\_name|
|Azure Functions|Function Execution Count|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total  \| quantize using sum|
|Azure Functions|Function Execution Count|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total  \| quantize using sum \| sum by resource\_name|
|Azure Functions|Function Execution Units|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total  \| quantize using sum \| sum|
|Azure Functions|Function Execution Units|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total  \| quantize using sum |
|Azure Functions|Function Execution Units|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total  \| quantize using sum \| sum|
|Azure Functions|Function Execution Units|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total  \| quantize using sum \| sum by resource\_name|
|Azure Functions|Functions App Operations Statistics|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoOtherBytesPerSecond statistic=total \| avg by resource\_group, resource\_name|
|Azure Functions|Functions App Operations Statistics|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoOtherBytesPerSecond statistic=total \| avg by resource\_group, resource\_name|
|Azure Functions|Functions by Error Details|Logs|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (error or exception or fail or warn)<br />// extracting records array<br />\| replace(\_raw, "'", "\\"") as \_raw<br />\| json "records" nodrop<br />\| parse regex field=records "(?\<event\_record\>\\{.+?\\}\\}(?=,\|\\]))" multi nodrop<br />\| if (isBlank(event\_record), \_raw, event\_record) as event\_record<br />\| parse regex field=event\_record "(?:\\"\|')appName(?:\\"\|'):(?:\\"\|')(?\<appName\>[^\\"']+)(?:\\"\|')" nodrop<br />// extracting resourceId for each event record<br />\| json field=event\_record "resourceId" nodrop<br />\| parse field=event\_record "/SUBSCRIPTIONS/\*/RESOURCEGROUPS/\*/PROVIDERS/\*/\*/" as subscription\_id\_extracted, resource\_group\_extracted , provider\_name\_extracted, resource\_type\_extracted<br />\| if (isBlank(subscription\_id\_extracted), subscription\_id, subscription\_id\_extracted) as subscription\_id<br />\| if (isBlank(resource\_group\_extracted), resource\_group, resource\_group\_extracted) as resource\_group<br />\| if (isBlank(resource\_type\_extracted), provider\_name, resource\_type\_extracted) as provider\_name<br />\| if (isBlank(provider\_name\_extracted), resource\_type, provider\_name\_extracted) as resource\_type<br />\| where event\_record matches /error\|exception\|fail\|warn/<br />\| parse regex field=event\_record "message\\":\\"(?\<error\_message\>[^\\"]+)\\"" nodrop<br />\| count by resource\_name, error\_message<br />\| topk(2, \_count) by resource\_name|
|Azure Functions|Functions by Error Details|Logs|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} (error or exception or fail or warn)<br />// extracting records array<br />\| replace(\_raw, "'", "\\"") as \_raw<br />\| json "records" nodrop<br />\| parse regex field=records "(?\<event\_record\>\\{.+?\\}\\}(?=,\|\\]))" multi nodrop<br />\| if (isBlank(event\_record), \_raw, event\_record) as event\_record<br />\| parse regex field=event\_record "(?:\\"\|')appName(?:\\"\|'):(?:\\"\|')(?\<appName\>[^\\"']+)(?:\\"\|')" nodrop<br />// extracting resourceId for each event record<br />\| json field=event\_record "resourceId" nodrop<br />\| parse field=event\_record "/SUBSCRIPTIONS/\*/RESOURCEGROUPS/\*/PROVIDERS/\*/\*/" as subscription\_id\_extracted, resource\_group\_extracted , provider\_name\_extracted, resource\_type\_extracted<br />\| if (isBlank(subscription\_id\_extracted), subscription\_id, subscription\_id\_extracted) as subscription\_id<br />\| if (isBlank(resource\_group\_extracted), resource\_group, resource\_group\_extracted) as resource\_group<br />\| if (isBlank(resource\_type\_extracted), provider\_name, resource\_type\_extracted) as provider\_name<br />\| if (isBlank(provider\_name\_extracted), resource\_type, provider\_name\_extracted) as resource\_type<br />\| where event\_record matches /error\|exception\|fail\|warn/<br />\| parse regex field=event\_record "message\\":\\"(?\<error\_message\>[^\\"]+)\\"" nodrop<br />\| count by resource\_name, error\_message<br />\| topk(2, \_count) by resource\_name|
|Azure Functions|Functions by Errors|Logs|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}<br />// extracting records array<br />\| replace(\_raw, "'", "\\"") as \_raw<br />\| json "records" nodrop<br />\| parse regex field=records "(?\<event\_record\>\\{.+?\\}\\}(?=,\|\\]))" multi nodrop<br />\| if (isBlank(event\_record), \_raw, event\_record) as event\_record<br />\| parse regex field=event\_record "(?:\\"\|')appName(?:\\"\|'):(?:\\"\|')(?\<appName\>[^\\"']+)(?:\\"\|')" nodrop<br />// extracting resourceId for each event record<br />\| json field=event\_record "resourceId" nodrop<br />\| parse field=event\_record "/SUBSCRIPTIONS/\*/RESOURCEGROUPS/\*/PROVIDERS/\*/\*/" as subscription\_id\_extracted, resource\_group\_extracted , provider\_name\_extracted, resource\_type\_extracted<br />\| if (isBlank(subscription\_id\_extracted), subscription\_id, subscription\_id\_extracted) as subscription\_id<br />\| if (isBlank(resource\_group\_extracted), resource\_group, resource\_group\_extracted) as resource\_group<br />\| if (isBlank(resource\_type\_extracted), provider\_name, resource\_type\_extracted) as provider\_name<br />\| if (isBlank(provider\_name\_extracted), resource\_type, provider\_name\_extracted) as resource\_type<br />\| where event\_record matches /error\|exception\|fail\|warn/<br />\| count as total\_errors by subscription\_id, resource\_group, resource\_name, location<br />\| sort by total\_errors desc|
|Azure Functions|Functions by Errors|Logs|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}<br />// extracting records array<br />\| replace(\_raw, "'", "\\"") as \_raw<br />\| json "records" nodrop<br />\| parse regex field=records "(?\<event\_record\>\\{.+?\\}\\}(?=,\|\\]))" multi nodrop<br />\| if (isBlank(event\_record), \_raw, event\_record) as event\_record<br />\| parse regex field=event\_record "(?:\\"\|')appName(?:\\"\|'):(?:\\"\|')(?\<appName\>[^\\"']+)(?:\\"\|')" nodrop<br />// extracting resourceId for each event record<br />\| json field=event\_record "resourceId" nodrop<br />\| parse field=event\_record "/SUBSCRIPTIONS/\*/RESOURCEGROUPS/\*/PROVIDERS/\*/\*/" as subscription\_id\_extracted, resource\_group\_extracted , provider\_name\_extracted, resource\_type\_extracted<br />\| if (isBlank(subscription\_id\_extracted), subscription\_id, subscription\_id\_extracted) as subscription\_id<br />\| if (isBlank(resource\_group\_extracted), resource\_group, resource\_group\_extracted) as resource\_group<br />\| if (isBlank(resource\_type\_extracted), provider\_name, resource\_type\_extracted) as provider\_name<br />\| if (isBlank(provider\_name\_extracted), resource\_type, provider\_name\_extracted) as resource\_type<br />\| where event\_record matches /error\|exception\|fail\|warn/<br />\| count as total\_errors by subscription\_id, resource\_group, resource\_name, location<br />\| sort by total\_errors desc|
|Azure Functions|Functions Executions|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionCount statistic=total<br />\| quantize using sum \| sum by resource\_name|
|Azure Functions|Functions Executions|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionCount statistic=total<br />\| quantize using sum|
|Azure Functions|Gen0 Garbage Collections|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen0Collections statistic=total \| quantize using sum \| sum|
|Azure Functions|Gen0 Garbage Collections|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen0Collections statistic=total \| quantize using sum \| sum|
|Azure Functions|Gen0 Garbage Collections|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen0Collections statistic=total \| quantize using sum |
|Azure Functions|Gen0 Garbage Collections|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen0Collections statistic=total \| quantize using sum \| sum by resource\_name|
|Azure Functions|Gen1 Garbage Collections|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen1Collections statistic=total \| quantize using sum \| sum by resource\_name|
|Azure Functions|Gen1 Garbage Collections|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen1Collections statistic=total \| quantize using sum \| sum|
|Azure Functions|Gen1 Garbage Collections|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen1Collections statistic=total \| quantize using sum \| sum|
|Azure Functions|Gen1 Garbage Collections|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen1Collections statistic=total \| quantize using sum |
|Azure Functions|Gen2 Garbage Collections|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen2Collections statistic=total \| quantize using sum |
|Azure Functions|Gen2 Garbage Collections|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen2Collections statistic=total \| quantize using sum \| sum by resource\_name|
|Azure Functions|Gen2 Garbage Collections|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen2Collections statistic=total \| quantize using sum \| sum|
|Azure Functions|Gen2 Garbage Collections|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Gen2Collections statistic=total \| quantize using sum \| sum|
|Azure Functions|Handles|Metrics|Installed Apps/Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Handles statistic=average \| sum by resource\_name|
|Azure Functions|Handles|Metrics|Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Handles statistic=average \| avg|
|Azure Functions|Handles|Metrics|Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Handles statistic=average |
|Azure Functions|Handles|Metrics|Installed Apps/Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Handles statistic=average \| avg|
|Azure Functions|Health Check Status|Metrics|Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=HealthCheckStatus statistic=average   \| avg by resource\_name, resource\_group|
|Azure Functions|Health Check Status|Metrics|Installed Apps/Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=HealthCheckStatus statistic=average   \| avg by resource\_name, resource\_group|
|Azure Functions|High Impact Recommendations|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" and recommendationImpact = "High"<br />\| count|
|Azure Functions|High Impact Recommendations|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" and recommendationImpact = "High"<br />\| count|
|Azure Functions|Http 2xx|Metrics|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http2xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 2xx|Metrics|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http2xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 3xx|Metrics|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http3xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 3xx|Metrics|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http3xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 4xx|Metrics|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http4xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 4xx|Metrics|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http4xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 5xx|Metrics|Installed Apps/Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http5xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http 5xx|Metrics|Azure Functions/Azure Functions - Error|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=Http5xx statistic=total  \| quantize using sum \| sum|
|Azure Functions|Http Response Time|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=HttpResponseTime   statistic=total \| sum by resource\_name|
|Azure Functions|Http Response Time|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=HttpResponseTime   statistic=total|
|Azure Functions|Instance Count|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=InstanceCount statistic =total \| quantize using max \|  sum by resource\_name, resource\_group|
|Azure Functions|Instance Count|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=InstanceCount statistic =total \| quantize using max |
|Azure Functions|Instance Count|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=InstanceCount statistic =total \| quantize using max \|  sum by resource\_name, resource\_group|
|Azure Functions|Instance Count|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=InstanceCount statistic =total \| quantize using max  \| sum by resource\_name|
|Azure Functions|IO Other Bytes/ Second|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoOtherBytesPerSecond statistic=total|
|Azure Functions|IO Other Bytes/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoOtherBytesPerSecond statistic=total \| sum by resource\_name|
|Azure Functions|IO Other Operations/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoOtherOperationsPerSecond statistic=total \| sum by resource\_name|
|Azure Functions|IO Other Operations/ Second|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoOtherOperationsPerSecond statistic=total|
|Azure Functions|IO Read Bytes/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoReadBytesPerSecond statistic=total \| sum by resource\_name|
|Azure Functions|IO Read Bytes/ Second|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoReadBytesPerSecond statistic=total|
|Azure Functions|IO Read Operations/ Second|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoReadOperationsPerSecond statistic=total  |
|Azure Functions|IO Read Operations/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoReadOperationsPerSecond statistic=total  \| sum by resource\_name|
|Azure Functions|IO Write Bytes/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoWriteBytesPerSecond statistic =total \| sum by resource\_name|
|Azure Functions|IO Write Bytes/ Second|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoWriteBytesPerSecond statistic =total|
|Azure Functions|IO Write Operations/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoWriteOperationsPerSecond statistic = total \| sum by resource\_name|
|Azure Functions|IO Write Operations/ Second|Metrics|Azure Functions/Azure Functions - Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoWriteOperationsPerSecond statistic = total|
|Azure Functions|Maximum App  Connections|Metrics|Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=AppConnections statistic=maximum \| quantize using max|
|Azure Functions|Maximum App  Connections|Metrics|Installed Apps/Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=AppConnections statistic=maximum \| quantize using max \| sum by resource\_name|
|Azure Functions|Memory Working Set|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=MemoryWorkingSet statistic=maximum \| sum by resource\_name|
|Azure Functions|Memory Working Set|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=MemoryWorkingSet statistic=maximum|
|Azure Functions|Policy Events by Severity Level|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name={{provider\_name}} resource\_type={{resource\_type}} resource\_name={{resource\_name}} Policy <br />\| JSON "category", "resultType", "level", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, level, message, location, entity, policies nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Success"<br />\| resource\_name as logicalServerName  \| count as Count by level, resource\_group, logicalServerName, location<br />\| transpose row resource\_group, logicalServerName, location column level|
|Azure Functions|Policy Events by Severity Level|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name={{provider\_name}} resource\_type={{resource\_type}} resource\_name={{resource\_name}} Policy <br />\| JSON "category", "resultType", "level", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, level, message, location, entity, policies nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Success"<br />\| resource\_name as logicalServerName  \| count as Count by level, resource\_group, logicalServerName, location<br />\| transpose row resource\_group, logicalServerName, location column level|
|Azure Functions|Policy Events With Warning or Error|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.resourceLocation", "properties.entity" as category, resultType, level, location, entity nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Success" and level != "Information"<br />\| count |
|Azure Functions|Policy Events With Warning or Error|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.resourceLocation", "properties.entity" as category, resultType, level, location, entity nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Success" and level != "Information"<br />\| count |
|Azure Functions|Private Bytes in MB|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=PrivateBytes statistic=average|
|Azure Functions|Private Bytes in MB|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=PrivateBytes statistic=average \| sum by resource\_name|
|Azure Functions|Recent Delete Operations|Logs|Installed Apps/Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "properties.entity", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']" as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, entity, identity\_claims\_name, authmethods nodrop<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative"and toUppercase(operationName) matches /DELETE/ <br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, identity\_claims\_name, authmethods, resultSignature, statusCode, message, entity<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Functions|Recent Delete Operations|Logs|Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "properties.entity", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']" as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, entity, identity\_claims\_name, authmethods nodrop<br />\| where (resultType="Accept" or resultType="Success") and category="Administrative"and toUppercase(operationName) matches /DELETE/ <br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, identity\_claims\_name, authmethods, resultSignature, statusCode, message, entity<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Functions|Recent Failed Policy Events|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, level, message, location, entity, policies nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Failure"<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, level, resource\_group, resource\_name, location, policies<br />\| fields -Count|
|Azure Functions|Recent Failed Policy Events|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, level, message, location, entity, policies nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Failure"<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, level, resource\_group, resource\_name, location, policies<br />\| fields -Count|
|Azure Functions|Recent Policy Events With Warning or Error|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, level, message, location, entity, policies nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Success" and level!= "Information"<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, level, resource\_group, resource\_name, location, policies<br />\| fields -Count|
|Azure Functions|Recent Policy Events With Warning or Error|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group={{resource\_group}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" resource\_name={{resource\_name}} Policy<br />\| JSON "category", "resultType", "level", "properties.message", "properties.resourceLocation", "properties.entity", "properties.policies" as category, resultType, level, message, location, entity, policies nodrop<br />\| toLowerCase(entity) as entity<br />\| where category="Policy" and   if ("{{location}}"="\*", true, location matches "{{location}}") and resultType="Success" and level!= "Information"<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count as Count by time, level, resource\_group, resource\_name, location, policies<br />\| fields -Count|
|Azure Functions|Recent Recommendation Events|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "properties.recommendationResourceLink", "resourceId" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink, resourceId nodrop<br />\| where category="Recommendation" <br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| resource\_name as logicalServerName<br />\| count by \_messageTime, time, logicalServerName, recommendationName, recommendationCategory, recommendationImpact, recommendationResourceLink<br />\| tourl(recommendationResourceLink, recommendationName) as recommendationName<br />\| sort by \_messageTime desc<br />\| fields -\_messageTime, \_count, recommendationResourceLink|
|Azure Functions|Recent Recommendation Events|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "properties.recommendationResourceLink", "resourceId" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink, resourceId nodrop<br />\| where category="Recommendation" <br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| resource\_name as logicalServerName<br />\| count by \_messageTime, time, logicalServerName, recommendationName, recommendationCategory, recommendationImpact, recommendationResourceLink<br />\| tourl(recommendationResourceLink, recommendationName) as recommendationName<br />\| sort by \_messageTime desc<br />\| fields -\_messageTime, \_count, recommendationResourceLink|
|Azure Functions|Recent Resource Health Incidents|Logs|Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}}<br />provider\_name={{provider\_name}}<br />resource\_type={{resource\_type}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}} ResourceHealth <br />\| JSON "category", "operationName", "time","level","resultType", "properties.title", "properties.details", "properties.currentHealthStatus", "properties.type", "properties.cause" as category, operationName, time,level,resultType, title, details, currentHealthStatus, type, cause nodrop<br />\| where category="ResourceHealth"<br />\| parse field=operationName "\*/\*/\*" as category, operation\_name, action nodrop<br />\| count as Count by time, level, resource\_name, resource\_group, resultType, operation\_name, title, details, currentHealthStatus, type, cause|
|Azure Functions|Recent Resource Health Incidents|Logs|Installed Apps/Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}}<br />provider\_name={{provider\_name}}<br />resource\_type={{resource\_type}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}} ResourceHealth <br />\| JSON "category", "operationName", "time","level","resultType", "properties.title", "properties.details", "properties.currentHealthStatus", "properties.type", "properties.cause" as category, operationName, time,level,resultType, title, details, currentHealthStatus, type, cause nodrop<br />\| where category="ResourceHealth"<br />\| parse field=operationName "\*/\*/\*" as category, operation\_name, action nodrop<br />\| count as Count by time, level, resource\_name, resource\_group, resultType, operation\_name, title, details, currentHealthStatus, type, cause|
|Azure Functions|Recent Service Health Incidents|Logs|Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} ServiceHealth <br />\| JSON "category", "operationName", "time","level","resultType", "properties.incidentType", "properties.service", "properties.region", "properties.impactStartTime", "properties.impactMitigationTime", "properties.defaultLanguageTitle", "properties.stage" as category, operationName, time,level,resultType, incidentType, service, service\_region, impactStartTime, impactMitigationTime, defaultLanguageTitle, stage nodrop<br />\| replace(toLowerCase(service\_region), " ", "") as service\_region<br />\| where category="ServiceHealth" and (toUpperCase(service) matches /APP/  AND toUpperCase(service) matches /SERVICE/) <br />\| parse field=operationName "\*/\*/\*" as category, operation\_name, action nodrop<br />\| count as Count by time , level, service, resultType, operation\_name, impactStartTime, impactMitigationTime, defaultLanguageTitle, stage|
|Azure Functions|Recent Service Health Incidents|Logs|Installed Apps/Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} ServiceHealth <br />\| JSON "category", "operationName", "time","level","resultType", "properties.incidentType", "properties.service", "properties.region", "properties.impactStartTime", "properties.impactMitigationTime", "properties.defaultLanguageTitle", "properties.stage" as category, operationName, time,level,resultType, incidentType, service, service\_region, impactStartTime, impactMitigationTime, defaultLanguageTitle, stage nodrop<br />\| replace(toLowerCase(service\_region), " ", "") as service\_region<br />\| where category="ServiceHealth" and (toUpperCase(service) matches /APP/  AND toUpperCase(service) matches /SERVICE/) <br />\| parse field=operationName "\*/\*/\*" as category, operation\_name, action nodrop<br />\| count as Count by time , level, service, resultType, operation\_name, impactStartTime, impactMitigationTime, defaultLanguageTitle, stage|
|Azure Functions|Recent Write Operations|Logs|Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']"  as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, identity\_claims\_name, authmethods nodrop<br />\| where resultType="Accept" and category="Administrative" and toUppercase(operationName) matches /WRITE/<br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, identity\_claims\_name, authmethods, resultSignature, statusCode, message<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Functions|Recent Write Operations|Logs|Installed Apps/Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']"  as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, identity\_claims\_name, authmethods nodrop<br />\| where resultType="Accept" and category="Administrative" and toUppercase(operationName) matches /WRITE/<br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, identity\_claims\_name, authmethods, resultSignature, statusCode, message<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Functions|Recommendations by Impact|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" <br />\| count by recommendationImpact<br />\| sort by \_count|
|Azure Functions|Recommendations by Impact|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" <br />\| count by recommendationImpact<br />\| sort by \_count|
|Azure Functions|Requests|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Requests statistic =total \| quantize using sum |
|Azure Functions|Requests|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Requests statistic =total \| quantize using sum  \| sum by resource\_name|
|Azure Functions|Resource Health by  Status|Logs|Installed Apps/Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}}<br />provider\_name={{provider\_name}}<br />resource\_type={{resource\_type}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}} ResourceHealth <br />\| JSON "category", "properties.currentHealthStatus" as category, currentHealthStatus<br />\| where category="ResourceHealth"<br />\| count as Count by currentHealthStatus|
|Azure Functions|Resource Health by  Status|Logs|Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}}<br />provider\_name={{provider\_name}}<br />resource\_type={{resource\_type}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}} ResourceHealth <br />\| JSON "category", "properties.currentHealthStatus" as category, currentHealthStatus<br />\| where category="ResourceHealth"<br />\| count as Count by currentHealthStatus|
|Azure Functions|Service Health by Incident Type|Logs|Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} ServiceHealth <br />\| JSON "category", "properties.incidentType", "properties.service", "properties.region" as category, incidentType, service, service\_region<br />\| replace(toLowerCase(service\_region), " ", "") as service\_region<br />\| where category="ServiceHealth" and (toUpperCase(service) matches /APP/  OR toUpperCase(service) matches /SERVICE/) <br />\| count as Count by incidentType|
|Azure Functions|Service Health by Incident Type|Logs|Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} ServiceHealth<br />\| JSON "category", "properties.incidentType", "properties.service", "properties.region" as category, incidentType, service, service\_region<br />\| replace(toLowerCase(service\_region), " ", "") as service\_region<br />\| where category="ServiceHealth" and (toUpperCase(service) matches /APP/  OR toUpperCase(service) matches /SERVICE/)<br />\| count by incidentType<br />\| order by incidentType|
|Azure Functions|Service Health by Incident Type|Logs|Installed Apps/Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} ServiceHealth<br />\| JSON "category", "properties.incidentType", "properties.service", "properties.region" as category, incidentType, service, service\_region<br />\| replace(toLowerCase(service\_region), " ", "") as service\_region<br />\| where category="ServiceHealth" and (toUpperCase(service) matches /APP/  OR toUpperCase(service) matches /SERVICE/)<br />\| count by incidentType<br />\| order by incidentType|
|Azure Functions|Service Health by Incident Type|Logs|Installed Apps/Azure Functions/Azure Functions - Health|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} ServiceHealth <br />\| JSON "category", "properties.incidentType", "properties.service", "properties.region" as category, incidentType, service, service\_region<br />\| replace(toLowerCase(service\_region), " ", "") as service\_region<br />\| where category="ServiceHealth" and (toUpperCase(service) matches /APP/  OR toUpperCase(service) matches /SERVICE/) <br />\| count as Count by incidentType|
|Azure Functions|Threads|Metrics|Installed Apps/Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Threads statistic = average \| sum by resource\_name|
|Azure Functions|Threads|Metrics|Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Threads statistic = average \| avg|
|Azure Functions|Threads|Metrics|Installed Apps/Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Threads statistic = average \| sum by resource\_name|
|Azure Functions|Threads|Metrics|Installed Apps/Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Threads statistic = average \| avg|
|Azure Functions|Threads|Metrics|Azure Functions/Azure Functions - OS Statistics|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Threads statistic = average|
|Azure Functions|Threads|Metrics|Azure Functions/Azure Functions - Performance|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=Threads statistic = average|
|Azure Functions|Top 10 Functions - Data In|Metrics|Installed Apps/Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesReceived statistic=total \|  quantize using sum  \| sum by resource\_name, resource\_group \| topk(10, sum) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions - Data In|Metrics|Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesReceived statistic=total \|  quantize using sum  \| sum by resource\_name, resource\_group \| topk(10, sum) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions - Data Out|Metrics|Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesSent  statistic=total \|  quantize using sum  \| sum by resource\_name, resource\_group \| topk(10, sum) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions - Data Out|Metrics|Installed Apps/Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=BytesSent  statistic=total \|  quantize using sum  \| sum by resource\_name, resource\_group \| topk(10, sum) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions - IO Read Bytes/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoReadBytesPerSecond statistic=total \| sum by resource\_name \| topk(10, avg)|
|Azure Functions|Top 10 Functions - IO Read Bytes/ Second|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoReadBytesPerSecond statistic=total \| topk(10, avg)|
|Azure Functions|Top 10 Functions - IO Write Bytes/ Second|Metrics|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoWriteBytesPerSecond statistic =total \| sum by resource\_name \| topk(10,avg)|
|Azure Functions|Top 10 Functions - IO Write Bytes/ Second|Metrics|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=IoWriteBytesPerSecond statistic =total \| topk(10,avg)|
|Azure Functions|Top 10 Functions - Maximum Connections|Metrics|Installed Apps/Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=AppConnections statistic=maximum  \| quantize using max \| max by resource\_group, resource\_name\| topk(10, max)|
|Azure Functions|Top 10 Functions - Maximum Connections|Metrics|Azure Functions/Azure Functions - Network|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=AppConnections statistic=maximum  \| quantize using max \| max by resource\_group, resource\_name\| topk(10, max)|
|Azure Functions|Top 10 Functions by Function Execution Units|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total<br />\| quantize using sum<br />\| sum by resource\_name<br />\| topk(10,sum)|
|Azure Functions|Top 10 Functions by Function Execution Units|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total<br />\| quantize using sum<br />\| sum by resource\_name<br />\| topk(10,sum)|
|Azure Functions|Top 10 Functions by Max Private Bytes [MB]|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=PrivateBytes  statistic=maximum \| quantize using max \| max by resource\_group, resource\_name  \|  topk(10, max) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions by Max Private Bytes [MB]|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=PrivateBytes  statistic=maximum \| quantize using max \| max by resource\_group, resource\_name  \|  topk(10, max) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions by Max Working Set Memory [MB]|Metrics|Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=MemoryWorkingSet statistic=maximum \| quantize using max \| max by resource\_group, resource\_name  \|  topk(10, max) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions by Max Working Set Memory [MB]|Metrics|Installed Apps/Azure Functions/Azure Functions - Memory|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=MemoryWorkingSet statistic=maximum \| quantize using max \| max by resource\_group, resource\_name  \|  topk(10, max) \| eval \_value/(1024\*1024)|
|Azure Functions|Top 10 Functions Executions|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| sum by resource\_name<br />\| topk(10,sum)|
|Azure Functions|Top 10 Functions Executions|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionCount statistic=total<br />\| quantize using sum<br />\| sum by resource\_name<br />\| topk(10,sum)|
|Azure Functions|Top 10 operations that caused the most errors|Logs|Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}   provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| json "resultType", "operationName", "properties.statusMessage", "category"  as resultType, operationName, failureMessage, category<br />\| where category="Administrative" and resultType="Failure"<br />\| count as Count by resource\_name, operationname, failureMessage<br />\| order by Count <br />\| limit 10|
|Azure Functions|Top 10 operations that caused the most errors|Logs|Installed Apps/Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}   provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| json "resultType", "operationName", "properties.statusMessage", "category"  as resultType, operationName, failureMessage, category<br />\| where category="Administrative" and resultType="Failure"<br />\| count as Count by resource\_name, operationname, failureMessage<br />\| order by Count <br />\| limit 10|
|Azure Functions|Total Executions|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total \| quantize using sum \| sum|
|Azure Functions|Total Executions|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}} metric=FunctionExecutionCount statistic=total \| quantize using sum \| sum|
|Azure Functions|Total Recommendations|Logs|Installed Apps/Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" <br />\| count|
|Azure Functions|Total Recommendations|Logs|Azure Functions/Azure Functions - Policy and Recommendations|tenant\_name={{tenant\_name}}<br />subscription\_id={{subscription\_id}}<br />resource\_group={{resource\_group}}<br />resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} provider\_name="MICROSOFT.WEB" resource\_type="SITES" Recommendation<br />\| JSON "category", "level", "resultSignature", <br />"properties.recommendationCategory", "properties.recommendationImpact", "properties.recommendationName", "recommendationResourceLink" as category,  level, resultSignature, recommendationCategory, recommendationImpact, recommendationName, recommendationResourceLink nodrop<br />\| where category="Recommendation" <br />\| count|
|Azure Functions|Users / Applications by Operation type|Logs|Installed Apps/Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid" as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid nodrop<br />\| where resultType="Accept" and category="Administrative"<br />\| if (idtyp =="user", name, appid) as name<br />\| "Others" as operationType<br />\| if (toUppercase(operationName) matches /WRITE/, "WRITE", operationType) as operationType <br />\| if (toUppercase(operationName) matches /READ/, "READ", operationType) as operationType <br />\| if (toUppercase(operationName) matches /DELETE/, "DELETE", operationType) as operationType <br />\| count by name, operationType<br />\| transpose row name column operationType|
|Azure Functions|Users / Applications by Operation type|Logs|Azure Functions/Azure Functions - Administrative Operations|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name={{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}} Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid" as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid nodrop<br />\| where resultType="Accept" and category="Administrative"<br />\| if (idtyp =="user", name, appid) as name<br />\| "Others" as operationType<br />\| if (toUppercase(operationName) matches /WRITE/, "WRITE", operationType) as operationType <br />\| if (toUppercase(operationName) matches /READ/, "READ", operationType) as operationType <br />\| if (toUppercase(operationName) matches /DELETE/, "DELETE", operationType) as operationType <br />\| count by name, operationType<br />\| transpose row name column operationType|
|Azure Functions|Weekly Forecast of Function Execution Units|Metrics|Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total  \| quantize to 7d using sum \| sum|
|Azure Functions|Weekly Forecast of Function Execution Units|Metrics|Installed Apps/Azure Functions/Azure Functions - Cost|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} location={{location}} resource\_group={{resource\_group}} provider\_name=microsoft.web resource\_type=sites  resource\_name={{resource\_name}}  metric=FunctionExecutionUnits statistic=total  \| quantize to 7d using sum \| sum|
|Azure Functions|Write and Delete Operations|Logs|Installed Apps/Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']", "\$['identity']['claims']['http://schemas.microsoft.com/identity/claims/objectidentifier']"  as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, identity\_claims\_name, authmethods, objectIdentifier nodrop<br />\| where resultType="Accept" and category="Administrative" and toUppercase(operationName) matches /WRITE\|DELETE/<br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, objectIdentifier, identity\_claims\_name, authmethods, resultSignature, statusCode, message<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|
|Azure Functions|Write and Delete Operations|Logs|Azure Functions/Azure Functions - Overview|tenant\_name={{tenant\_name}} subscription\_id={{subscription\_id}} resource\_group = {{resource\_group}} resource\_name = {{resource\_name}}<br />provider\_name={{provider\_name}} resource\_type={{resource\_type}}  Administrative <br />\| JSON "properties.statusCode", "properties.message", "resultType", "category", "operationName", "callerIpAddress", "resultSignature", "level", "identity.claims.idtyp", "identity.claims.name", "identity.claims.appid", "\$['identity']['claims']['http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name']","\$['identity']['claims']['http://schemas.microsoft.com/claims/authnmethodsreferences']", "\$['identity']['claims']['http://schemas.microsoft.com/identity/claims/objectidentifier']"  as statusCode, message, resultType, category, operationName, callerIpAddress, resultSignature, level, idtyp, name, appid, identity\_claims\_name, authmethods, objectIdentifier nodrop<br />\| where resultType="Accept" and category="Administrative" and toUppercase(operationName) matches /WRITE\|DELETE/<br />\| if (idtyp =="user", name, appid) as name<br />\| formatDate(\_messageTime, "MM/dd/yyyy HH:mm:ss") as time<br />\| count by \_messageTime, time, resource\_name, callerIpAddress, name, objectIdentifier, identity\_claims\_name, authmethods, resultSignature, statusCode, message<br />\| sort by \_messageTime desc<br />\| limit 20 <br />\| fields -\_count,\_messageTime|

